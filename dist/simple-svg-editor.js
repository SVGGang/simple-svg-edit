/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/dist.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./features/bottom-widget.js":
/*!***********************************!*\
  !*** ./features/bottom-widget.js ***!
  \***********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_bottom_widget__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src/bottom-widget */ \"./src/bottom-widget/index.js\");\n\nObject(_src_bottom_widget__WEBPACK_IMPORTED_MODULE_0__[\"bottomWidgetRegister\"])();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9mZWF0dXJlcy9ib3R0b20td2lkZ2V0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZmVhdHVyZXMvYm90dG9tLXdpZGdldC5qcz8xMzVmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Ym90dG9tV2lkZ2V0UmVnaXN0ZXJ9IGZyb20gJy4uL3NyYy9ib3R0b20td2lkZ2V0JztcblxuYm90dG9tV2lkZ2V0UmVnaXN0ZXIoKTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./features/bottom-widget.js\n");

/***/ }),

/***/ "./features/bottom-widget.scss":
/*!*************************************!*\
  !*** ./features/bottom-widget.scss ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9mZWF0dXJlcy9ib3R0b20td2lkZ2V0LnNjc3MuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9mZWF0dXJlcy9ib3R0b20td2lkZ2V0LnNjc3M/OTk3NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./features/bottom-widget.scss\n");

/***/ }),

/***/ "./features/default-helper.js":
/*!************************************!*\
  !*** ./features/default-helper.js ***!
  \************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src/helper */ \"./src/helper/index.js\");\n/* harmony import */ var _src_classes_Editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../src/classes/Editor */ \"./src/classes/Editor.js\");\n\n\n_src_classes_Editor__WEBPACK_IMPORTED_MODULE_1__[\"settings\"].createHelper = _src_helper__WEBPACK_IMPORTED_MODULE_0__[\"default\"];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9mZWF0dXJlcy9kZWZhdWx0LWhlbHBlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ZlYXR1cmVzL2RlZmF1bHQtaGVscGVyLmpzPzM3ZGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyZWF0ZUhlbHBlciBmcm9tICcuLi9zcmMvaGVscGVyJztcbmltcG9ydCB7c2V0dGluZ3N9IGZyb20gJy4uL3NyYy9jbGFzc2VzL0VkaXRvcic7XG5cbnNldHRpbmdzLmNyZWF0ZUhlbHBlciA9IGNyZWF0ZUhlbHBlcjtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./features/default-helper.js\n");

/***/ }),

/***/ "./features/default-helper.scss":
/*!**************************************!*\
  !*** ./features/default-helper.scss ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9mZWF0dXJlcy9kZWZhdWx0LWhlbHBlci5zY3NzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZmVhdHVyZXMvZGVmYXVsdC1oZWxwZXIuc2Nzcz9lZTMwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./features/default-helper.scss\n");

/***/ }),

/***/ "./features/default-text-helper.js":
/*!*****************************************!*\
  !*** ./features/default-text-helper.js ***!
  \*****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_text_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src/text-helper */ \"./src/text-helper/index.js\");\n/* harmony import */ var _src_classes_Editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../src/classes/Editor */ \"./src/classes/Editor.js\");\n\n\n_src_classes_Editor__WEBPACK_IMPORTED_MODULE_1__[\"settings\"].createTextHelper = _src_text_helper__WEBPACK_IMPORTED_MODULE_0__[\"default\"];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9mZWF0dXJlcy9kZWZhdWx0LXRleHQtaGVscGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZmVhdHVyZXMvZGVmYXVsdC10ZXh0LWhlbHBlci5qcz9lMDQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcmVhdGVUZXh0SGVscGVyIGZyb20gJy4uL3NyYy90ZXh0LWhlbHBlcic7XG5pbXBvcnQge3NldHRpbmdzfSBmcm9tICcuLi9zcmMvY2xhc3Nlcy9FZGl0b3InO1xuXG5zZXR0aW5ncy5jcmVhdGVUZXh0SGVscGVyID0gY3JlYXRlVGV4dEhlbHBlcjtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./features/default-text-helper.js\n");

/***/ }),

/***/ "./features/editor.js":
/*!****************************!*\
  !*** ./features/editor.js ***!
  \****************************/
/*! exports provided: settings, Editor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_classes_Editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src/classes/Editor */ \"./src/classes/Editor.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"settings\", function() { return _src_classes_Editor__WEBPACK_IMPORTED_MODULE_0__[\"settings\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Editor\", function() { return _src_classes_Editor__WEBPACK_IMPORTED_MODULE_0__[\"Editor\"]; });\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9mZWF0dXJlcy9lZGl0b3IuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9mZWF0dXJlcy9lZGl0b3IuanM/MWU5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuLi9zcmMvY2xhc3Nlcy9FZGl0b3InO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./features/editor.js\n");

/***/ }),

/***/ "./features/history.js":
/*!*****************************!*\
  !*** ./features/history.js ***!
  \*****************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_libs_history__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src/libs/history */ \"./src/libs/history.js\");\n\nObject(_src_libs_history__WEBPACK_IMPORTED_MODULE_0__[\"historyRegister\"])();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9mZWF0dXJlcy9oaXN0b3J5LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZmVhdHVyZXMvaGlzdG9yeS5qcz85ZGM4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7aGlzdG9yeVJlZ2lzdGVyfSBmcm9tICcuLi9zcmMvbGlicy9oaXN0b3J5JztcblxuaGlzdG9yeVJlZ2lzdGVyKCk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./features/history.js\n");

/***/ }),

/***/ "./features/index.js":
/*!***************************!*\
  !*** ./features/index.js ***!
  \***************************/
/*! exports provided: settings, Editor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editor */ \"./features/editor.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"settings\", function() { return _editor__WEBPACK_IMPORTED_MODULE_0__[\"settings\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Editor\", function() { return _editor__WEBPACK_IMPORTED_MODULE_0__[\"Editor\"]; });\n\n/* harmony import */ var _default_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./default-helper */ \"./features/default-helper.js\");\n/* harmony import */ var _text__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./text */ \"./features/text.js\");\n/* harmony import */ var _default_text_helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./default-text-helper */ \"./features/default-text-helper.js\");\n/* harmony import */ var _text_align__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./text-align */ \"./features/text-align.js\");\n/* harmony import */ var _text_operations__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./text-operations */ \"./features/text-operations.js\");\n/* harmony import */ var _insert_text__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./insert-text */ \"./features/insert-text.js\");\n/* harmony import */ var _insert_image__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./insert-image */ \"./features/insert-image.js\");\n/* harmony import */ var _bottom_widget__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./bottom-widget */ \"./features/bottom-widget.js\");\n/* harmony import */ var _history__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./history */ \"./features/history.js\");\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9mZWF0dXJlcy9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ZlYXR1cmVzL2luZGV4LmpzP2E0MzAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9lZGl0b3InO1xuaW1wb3J0ICcuL2RlZmF1bHQtaGVscGVyJztcbmltcG9ydCAnLi90ZXh0JztcbmltcG9ydCAnLi9kZWZhdWx0LXRleHQtaGVscGVyJztcbmltcG9ydCAnLi90ZXh0LWFsaWduJztcbmltcG9ydCAnLi90ZXh0LW9wZXJhdGlvbnMnO1xuaW1wb3J0ICcuL2luc2VydC10ZXh0JztcbmltcG9ydCAnLi9pbnNlcnQtaW1hZ2UnO1xuaW1wb3J0ICcuL2JvdHRvbS13aWRnZXQnO1xuaW1wb3J0ICcuL2hpc3RvcnknOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./features/index.js\n");

/***/ }),

/***/ "./features/insert-image.js":
/*!**********************************!*\
  !*** ./features/insert-image.js ***!
  \**********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_libs_insert_image__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src/libs/insert-image */ \"./src/libs/insert-image.js\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9mZWF0dXJlcy9pbnNlcnQtaW1hZ2UuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9mZWF0dXJlcy9pbnNlcnQtaW1hZ2UuanM/NzhlMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgICcuLi9zcmMvbGlicy9pbnNlcnQtaW1hZ2UnO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./features/insert-image.js\n");

/***/ }),

/***/ "./features/insert-text.js":
/*!*********************************!*\
  !*** ./features/insert-text.js ***!
  \*********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_libs_insert_text__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src/libs/insert-text */ \"./src/libs/insert-text.js\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9mZWF0dXJlcy9pbnNlcnQtdGV4dC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ZlYXR1cmVzL2luc2VydC10ZXh0LmpzPzgxOWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICAnLi4vc3JjL2xpYnMvaW5zZXJ0LXRleHQnO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./features/insert-text.js\n");

/***/ }),

/***/ "./features/text-align.js":
/*!********************************!*\
  !*** ./features/text-align.js ***!
  \********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_libs_text_align__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src/libs/text-align */ \"./src/libs/text-align.js\");\n\nObject(_src_libs_text_align__WEBPACK_IMPORTED_MODULE_0__[\"textAlignRegister\"])();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9mZWF0dXJlcy90ZXh0LWFsaWduLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZmVhdHVyZXMvdGV4dC1hbGlnbi5qcz84MzQxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7dGV4dEFsaWduUmVnaXN0ZXJ9IGZyb20gJy4uL3NyYy9saWJzL3RleHQtYWxpZ24nO1xuXG50ZXh0QWxpZ25SZWdpc3RlcigpOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./features/text-align.js\n");

/***/ }),

/***/ "./features/text-operations.js":
/*!*************************************!*\
  !*** ./features/text-operations.js ***!
  \*************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_libs_text_operations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src/libs/text-operations */ \"./src/libs/text-operations.js\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9mZWF0dXJlcy90ZXh0LW9wZXJhdGlvbnMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9mZWF0dXJlcy90ZXh0LW9wZXJhdGlvbnMuanM/MGY2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4uL3NyYy9saWJzL3RleHQtb3BlcmF0aW9ucyc7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./features/text-operations.js\n");

/***/ }),

/***/ "./features/text.js":
/*!**************************!*\
  !*** ./features/text.js ***!
  \**************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_libs_text__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src/libs/text */ \"./src/libs/text.js\");\n\nObject(_src_libs_text__WEBPACK_IMPORTED_MODULE_0__[\"textRegister\"])();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9mZWF0dXJlcy90ZXh0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZmVhdHVyZXMvdGV4dC5qcz9lNDBjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7dGV4dFJlZ2lzdGVyfSBmcm9tICcuLi9zcmMvbGlicy90ZXh0JztcblxudGV4dFJlZ2lzdGVyKCk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./features/text.js\n");

/***/ }),

/***/ "./node_modules/polyshim/shim/closest.js":
/*!***********************************************!*\
  !*** ./node_modules/polyshim/shim/closest.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_matches__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src/matches */ \"./node_modules/polyshim/src/matches.js\");\n/* harmony import */ var _src_closest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../src/closest */ \"./node_modules/polyshim/src/closest.js\");\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_src_closest__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Object(_src_matches__WEBPACK_IMPORTED_MODULE_0__[\"default\"])()));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcG9seXNoaW0vc2hpbS9jbG9zZXN0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BvbHlzaGltL3NoaW0vY2xvc2VzdC5qcz83MGEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtYXRjaGVzIGZyb20gJy4uL3NyYy9tYXRjaGVzJztcbmltcG9ydCBjbG9zZXN0IGZyb20gJy4uL3NyYy9jbG9zZXN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xvc2VzdChtYXRjaGVzKCkpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/polyshim/shim/closest.js\n");

/***/ }),

/***/ "./node_modules/polyshim/src/closest.js":
/*!**********************************************!*\
  !*** ./node_modules/polyshim/src/closest.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (function(matches) {\n\n    /**\n     * @this {Element}\n     * @param {string} selector\n     * @returns {?Element}\n     */\n    function implementation(selector) {\n        let node = this;\n        while (node) {\n            if (matches.call(node, selector)) {\n                return node;\n            }\n            node = node.parentElement;\n        }\n        return null;\n    }\n\n    return Element.prototype.closest || implementation;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcG9seXNoaW0vc3JjL2Nsb3Nlc3QuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcG9seXNoaW0vc3JjL2Nsb3Nlc3QuanM/OTBkMyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihtYXRjaGVzKSB7XG5cbiAgICAvKipcbiAgICAgKiBAdGhpcyB7RWxlbWVudH1cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3JcbiAgICAgKiBAcmV0dXJucyB7P0VsZW1lbnR9XG4gICAgICovXG4gICAgZnVuY3Rpb24gaW1wbGVtZW50YXRpb24oc2VsZWN0b3IpIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzO1xuICAgICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICAgICAgaWYgKG1hdGNoZXMuY2FsbChub2RlLCBzZWxlY3RvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIEVsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3QgfHwgaW1wbGVtZW50YXRpb247XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/polyshim/src/closest.js\n");

/***/ }),

/***/ "./node_modules/polyshim/src/matches.js":
/*!**********************************************!*\
  !*** ./node_modules/polyshim/src/matches.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (function() {\n    const proto = Element.prototype;\n\n    return proto.matches\n        || proto.matchesSelector\n        || proto.webkitMatchesSelector\n        || proto.mozMatchesSelector\n        || proto.msMatchesSelector\n        || proto.oMatchesSelector;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcG9seXNoaW0vc3JjL21hdGNoZXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcG9seXNoaW0vc3JjL21hdGNoZXMuanM/NWY2NiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBwcm90byA9IEVsZW1lbnQucHJvdG90eXBlO1xuXG4gICAgcmV0dXJuIHByb3RvLm1hdGNoZXNcbiAgICAgICAgfHwgcHJvdG8ubWF0Y2hlc1NlbGVjdG9yXG4gICAgICAgIHx8IHByb3RvLndlYmtpdE1hdGNoZXNTZWxlY3RvclxuICAgICAgICB8fCBwcm90by5tb3pNYXRjaGVzU2VsZWN0b3JcbiAgICAgICAgfHwgcHJvdG8ubXNNYXRjaGVzU2VsZWN0b3JcbiAgICAgICAgfHwgcHJvdG8ub01hdGNoZXNTZWxlY3Rvcjtcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/polyshim/src/matches.js\n");

/***/ }),

/***/ "./src/bottom-widget/index.js":
/*!************************************!*\
  !*** ./src/bottom-widget/index.js ***!
  \************************************/
/*! exports provided: bottomWidgetRegister */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bottomWidgetRegister\", function() { return bottomWidgetRegister; });\n/* harmony import */ var _libs_event_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../libs/event-context */ \"./src/libs/event-context.js\");\n/* harmony import */ var _classes_Editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../classes/Editor */ \"./src/classes/Editor.js\");\n/* harmony import */ var _libs_misc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../libs/misc */ \"./src/libs/misc.js\");\n\n\n // minify\n\nvar doc = document;\n/**\n * Register widget listener\n */\n\nfunction bottomWidgetRegister() {\n  var base = _classes_Editor__WEBPACK_IMPORTED_MODULE_1__[\"settings\"].base;\n  var addEventListener = doc.addEventListener;\n  addEventListener.call(doc, 'click', onClick);\n  addEventListener.call(doc, \"\".concat(base, \"Inited\"), onInited);\n}\n/**\n * click event handler\n * @param {Event} e \n */\n\nfunction onClick(e) {\n  var sel = '.' + _classes_Editor__WEBPACK_IMPORTED_MODULE_1__[\"settings\"].base;\n  var el = Object(_libs_event_context__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, sel);\n  var editor = el && _classes_Editor__WEBPACK_IMPORTED_MODULE_1__[\"Editor\"].getInstance(el);\n\n  if (editor) {\n    el = Object(_libs_event_context__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, \"\".concat(sel, \"__insert-text\"));\n    el && editor.insertText(\"text\", findArea(sel, editor));\n    el = Object(_libs_event_context__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, \"\".concat(sel, \"__insert-image\"));\n    el && editor.insertImageUpload(findArea(sel, editor));\n  }\n}\n/**\n * @param {CustomEvent} e \n */\n\n\nfunction onInited(e) {\n  var base = _classes_Editor__WEBPACK_IMPORTED_MODULE_1__[\"settings\"].base;\n  var params = e.detail;\n  var editor = params.editor;\n\n  if (params.insertWidget !== false) {\n    var widget = Object(_libs_misc__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])('g', true, [\"\".concat(base, \"__bottom\")]);\n    var html = \"\\n            <g class=\\\"\".concat(base, \"__bottom-image\\\">\\n                <g class=\\\"\").concat(base, \"__act _insert-image \").concat(base, \"__insert-image\\\" tabindex=\\\"0\\\">\\n                    <circle r=\\\"20\\\"/>\\n                    <g class=\\\"\").concat(base, \"__icon\\\">\\n                        <path d=\\\"M7-9.5H-7A2.5,2.5,0,0,0-9.5-7V7A2.5,2.5,0,0,0-7,9.5H7A2.5,2.5,0,0,0,9.5,7V-7A2.5,2.5,0,0,0,7-9.5ZM-8.5,7V-7A1.5,1.5,0,0,1-7-8.5H7A1.5,1.5,0,0,1,8.5-7V1.79L4.35-2.35a.48.48,0,0,0-.7,0L-7.19,8.48A1.49,1.49,0,0,1-8.5,7ZM7,8.5H-5.79L4-1.29l4.5,4.5V7A1.5,1.5,0,0,1,7,8.5ZM-3.5-1.5a2,2,0,0,0,2-2,2,2,0,0,0-2-2,2,2,0,0,0-2,2A2,2,0,0,0-3.5-1.5Zm0-3a1,1,0,0,1,1,1,1,1,0,0,1-1,1,1,1,0,0,1-1-1A1,1,0,0,1-3.5-4.5Z\\\"/>\\n                    </g>\\n                </g>\\n            </g>\\n            <g class=\\\"\").concat(base, \"__bottom-text\\\">\\n                <g class=\\\"\").concat(base, \"__act _insert-text \").concat(base, \"__insert-text\\\" tabindex=\\\"0\\\">\\n                    <circle r=\\\"20\\\"/>\\n                    <g class=\\\"\").concat(base, \"__icon\\\">\\n                        <path d=\\\"M8.5-8v3a.5.5,0,0,1-.5.5A.5.5,0,0,1,7.5-5V-7.5H.5v15H3a.5.5,0,0,1,0,1H-3A.5.5,0,0,1-3.5,8,.5.5,0,0,1-3,7.5H-.5v-15h-7V-5a.5.5,0,0,1-.5.5A.5.5,0,0,1-8.5-5V-8A.5.5,0,0,1-8-8.5H8A.5.5,0,0,1,8.5-8Z\\\"/>\\n                    </g>\\n                </g>\\n            </g>\\n            <g class=\\\"\").concat(base, \"__act _insert\\\" tabindex=\\\"0\\\">\\n                <circle r=\\\"30\\\"/>\\n                <g class=\\\"\").concat(base, \"__icon\\\">\\n                    <path d=\\\"M8.5,0A.5.5,0,0,1,8,.5H.5V8a.5.5,0,0,1-.5.5A.5.5,0,0,1-.5,8V.5H-8A.5.5,0,0,1-8.5,0,.5.5,0,0,1-8-.5H-.5V-8A.5.5,0,0,1,0-8.5.5.5,0,0,1,.5-8V-.5H8A.5.5,0,0,1,8.5,0Z\\\"/>\\n                </g>\\n            </g>\\n        \");\n\n    if (editor.historyPush) {\n      html += \"\\n                <g class=\\\"\".concat(base, \"__bottom-undo\\\">\\n                    <g class=\\\"\").concat(base, \"__act _undo \").concat(base, \"__undo\\\" tabindex=\\\"0\\\">\\n                        <circle r=\\\"16\\\"/>\\n                        <g class=\\\"\").concat(base, \"__icon\\\">\\n                            <path d=\\\"M7,2a.51.51,0,0,1-.7-.11S3.3-2.27.05-2.27C-2.38-2.27-4.68,0-5.7,1.18h3.38a.5.5,0,0,1,.5.5.5.5,0,0,1-.5.5H-6.77a.5.5,0,0,1-.5-.5V-2.77a.5.5,0,0,1,.5-.5.5.5,0,0,1,.5.5V.32C-5.09-1-2.66-3.27.05-3.27c3.76,0,7,4.34,7.08,4.52A.51.51,0,0,1,7,2Z\\\"/>\\n                        </g>\\n                    </g>\\n                </g>\\n                <g class=\\\"\").concat(base, \"__bottom-redo\\\">\\n                    <g class=\\\"\").concat(base, \"__act _redo \").concat(base, \"__redo\\\" tabindex=\\\"0\\\">\\n                        <circle r=\\\"16\\\"/>\\n                        <g class=\\\"\").concat(base, \"__icon\\\">\\n                            <path d=\\\"M7.28-2.72V1.71a.5.5,0,0,1-.5.5H2.35a.5.5,0,0,1,0-1H5.71C4.7.05,2.41-2.22,0-2.22c-3.23,0-6.21,4.05-6.24,4.09a.51.51,0,0,1-.7.11.51.51,0,0,1-.11-.7c.13-.18,3.31-4.5,7.05-4.5C2.69-3.22,5.1-1,6.28.35V-2.72a.5.5,0,0,1,.5-.5A.5.5,0,0,1,7.28-2.72Z\\\"/>\\n                        </g>\\n                    </g>\\n                </g>\\n            \");\n    }\n\n    widget.innerHTML = html;\n    editor.helpers.appendChild(widget);\n  }\n}\n/**\n * \n * @param {String} sel \n * @param {Editor} editor \n * @returns {Object}\n */\n\n\nfunction findArea(sel, editor) {\n  var zone = editor.svg.querySelector(sel + '__area-zone');\n  return {\n    context: editor.svg.querySelector(sel + '__area'),\n    bound: zone && zone.getBBox()\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYm90dG9tLXdpZGdldC9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ib3R0b20td2lkZ2V0L2luZGV4LmpzP2I4MmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV2ZW50Q29udGV4dCBmcm9tICcuLi9saWJzL2V2ZW50LWNvbnRleHQnO1xuaW1wb3J0IHtzZXR0aW5ncywgRWRpdG9yfSBmcm9tICcuLi9jbGFzc2VzL0VkaXRvcic7XG5pbXBvcnQge2NyZWF0ZUVsZW1lbnR9IGZyb20gJy4uL2xpYnMvbWlzYyc7XG5cbi8vIG1pbmlmeVxuY29uc3QgZG9jID0gZG9jdW1lbnQ7XG5cbi8qKlxuICogUmVnaXN0ZXIgd2lkZ2V0IGxpc3RlbmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBib3R0b21XaWRnZXRSZWdpc3RlcigpIHtcbiAgICBjb25zdCBiYXNlID0gc2V0dGluZ3MuYmFzZTtcbiAgICBjb25zdCBhZGRFdmVudExpc3RlbmVyID0gZG9jLmFkZEV2ZW50TGlzdGVuZXI7XG4gICAgYWRkRXZlbnRMaXN0ZW5lci5jYWxsKGRvYywgJ2NsaWNrJywgICAgICAgICBvbkNsaWNrKTtcbiAgICBhZGRFdmVudExpc3RlbmVyLmNhbGwoZG9jLCBgJHtiYXNlfUluaXRlZGAsIG9uSW5pdGVkKTtcbn1cblxuLyoqXG4gKiBjbGljayBldmVudCBoYW5kbGVyXG4gKiBAcGFyYW0ge0V2ZW50fSBlIFxuICovXG5mdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICBjb25zdCBzZWwgPSAnLicgKyBzZXR0aW5ncy5iYXNlO1xuICAgIGxldCBlbCA9IGV2ZW50Q29udGV4dChlLCBzZWwpO1xuICAgIGxldCBlZGl0b3IgPSBlbCAmJiBFZGl0b3IuZ2V0SW5zdGFuY2UoZWwpO1xuICAgIGlmIChlZGl0b3IpIHtcbiAgICAgICAgZWwgPSBldmVudENvbnRleHQoZSwgYCR7c2VsfV9faW5zZXJ0LXRleHRgKTtcbiAgICAgICAgZWwgJiYgZWRpdG9yLmluc2VydFRleHQoXCJ0ZXh0XCIsIGZpbmRBcmVhKHNlbCwgZWRpdG9yKSk7XG4gICAgICAgIGVsID0gZXZlbnRDb250ZXh0KGUsIGAke3NlbH1fX2luc2VydC1pbWFnZWApO1xuICAgICAgICBlbCAmJiBlZGl0b3IuaW5zZXJ0SW1hZ2VVcGxvYWQoZmluZEFyZWEoc2VsLCBlZGl0b3IpKTtcbiAgICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtDdXN0b21FdmVudH0gZSBcbiAqL1xuZnVuY3Rpb24gb25Jbml0ZWQoZSkge1xuICAgIGNvbnN0IGJhc2UgPSBzZXR0aW5ncy5iYXNlO1xuICAgIGxldCBwYXJhbXMgPSBlLmRldGFpbDtcbiAgICBsZXQgZWRpdG9yID0gcGFyYW1zLmVkaXRvcjtcbiAgICBpZiAocGFyYW1zLmluc2VydFdpZGdldCAhPT0gZmFsc2UpIHtcbiAgICAgICAgbGV0IHdpZGdldCA9IGNyZWF0ZUVsZW1lbnQoJ2cnLCB0cnVlLCBbYCR7YmFzZX1fX2JvdHRvbWBdKTtcbiAgICAgICAgbGV0IGh0bWwgPSBgXG4gICAgICAgICAgICA8ZyBjbGFzcz1cIiR7YmFzZX1fX2JvdHRvbS1pbWFnZVwiPlxuICAgICAgICAgICAgICAgIDxnIGNsYXNzPVwiJHtiYXNlfV9fYWN0IF9pbnNlcnQtaW1hZ2UgJHtiYXNlfV9faW5zZXJ0LWltYWdlXCIgdGFiaW5kZXg9XCIwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgcj1cIjIwXCIvPlxuICAgICAgICAgICAgICAgICAgICA8ZyBjbGFzcz1cIiR7YmFzZX1fX2ljb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNNy05LjVILTdBMi41LDIuNSwwLDAsMC05LjUtN1Y3QTIuNSwyLjUsMCwwLDAtNyw5LjVIN0EyLjUsMi41LDAsMCwwLDkuNSw3Vi03QTIuNSwyLjUsMCwwLDAsNy05LjVaTS04LjUsN1YtN0ExLjUsMS41LDAsMCwxLTctOC41SDdBMS41LDEuNSwwLDAsMSw4LjUtN1YxLjc5TDQuMzUtMi4zNWEuNDguNDgsMCwwLDAtLjcsMEwtNy4xOSw4LjQ4QTEuNDksMS40OSwwLDAsMS04LjUsN1pNNyw4LjVILTUuNzlMNC0xLjI5bDQuNSw0LjVWN0ExLjUsMS41LDAsMCwxLDcsOC41Wk0tMy41LTEuNWEyLDIsMCwwLDAsMi0yLDIsMiwwLDAsMC0yLTIsMiwyLDAsMCwwLTIsMkEyLDIsMCwwLDAtMy41LTEuNVptMC0zYTEsMSwwLDAsMSwxLDEsMSwxLDAsMCwxLTEsMSwxLDEsMCwwLDEtMS0xQTEsMSwwLDAsMS0zLjUtNC41WlwiLz5cbiAgICAgICAgICAgICAgICAgICAgPC9nPlxuICAgICAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICAgIDxnIGNsYXNzPVwiJHtiYXNlfV9fYm90dG9tLXRleHRcIj5cbiAgICAgICAgICAgICAgICA8ZyBjbGFzcz1cIiR7YmFzZX1fX2FjdCBfaW5zZXJ0LXRleHQgJHtiYXNlfV9faW5zZXJ0LXRleHRcIiB0YWJpbmRleD1cIjBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSByPVwiMjBcIi8+XG4gICAgICAgICAgICAgICAgICAgIDxnIGNsYXNzPVwiJHtiYXNlfV9faWNvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk04LjUtOHYzYS41LjUsMCwwLDEtLjUuNUEuNS41LDAsMCwxLDcuNS01Vi03LjVILjV2MTVIM2EuNS41LDAsMCwxLDAsMUgtM0EuNS41LDAsMCwxLTMuNSw4LC41LjUsMCwwLDEtMyw3LjVILS41di0xNWgtN1YtNWEuNS41LDAsMCwxLS41LjVBLjUuNSwwLDAsMS04LjUtNVYtOEEuNS41LDAsMCwxLTgtOC41SDhBLjUuNSwwLDAsMSw4LjUtOFpcIi8+XG4gICAgICAgICAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICA8ZyBjbGFzcz1cIiR7YmFzZX1fX2FjdCBfaW5zZXJ0XCIgdGFiaW5kZXg9XCIwXCI+XG4gICAgICAgICAgICAgICAgPGNpcmNsZSByPVwiMzBcIi8+XG4gICAgICAgICAgICAgICAgPGcgY2xhc3M9XCIke2Jhc2V9X19pY29uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNOC41LDBBLjUuNSwwLDAsMSw4LC41SC41VjhhLjUuNSwwLDAsMS0uNS41QS41LjUsMCwwLDEtLjUsOFYuNUgtOEEuNS41LDAsMCwxLTguNSwwLC41LjUsMCwwLDEtOC0uNUgtLjVWLThBLjUuNSwwLDAsMSwwLTguNS41LjUsMCwwLDEsLjUtOFYtLjVIOEEuNS41LDAsMCwxLDguNSwwWlwiLz5cbiAgICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICA8L2c+XG4gICAgICAgIGA7XG4gICAgICAgIGlmIChlZGl0b3IuaGlzdG9yeVB1c2gpIHtcbiAgICAgICAgICAgIGh0bWwgKz0gYFxuICAgICAgICAgICAgICAgIDxnIGNsYXNzPVwiJHtiYXNlfV9fYm90dG9tLXVuZG9cIj5cbiAgICAgICAgICAgICAgICAgICAgPGcgY2xhc3M9XCIke2Jhc2V9X19hY3QgX3VuZG8gJHtiYXNlfV9fdW5kb1wiIHRhYmluZGV4PVwiMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSByPVwiMTZcIi8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZyBjbGFzcz1cIiR7YmFzZX1fX2ljb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTcsMmEuNTEuNTEsMCwwLDEtLjctLjExUzMuMy0yLjI3LjA1LTIuMjdDLTIuMzgtMi4yNy00LjY4LDAtNS43LDEuMThoMy4zOGEuNS41LDAsMCwxLC41LjUuNS41LDAsMCwxLS41LjVILTYuNzdhLjUuNSwwLDAsMS0uNS0uNVYtMi43N2EuNS41LDAsMCwxLC41LS41LjUuNSwwLDAsMSwuNS41Vi4zMkMtNS4wOS0xLTIuNjYtMy4yNy4wNS0zLjI3YzMuNzYsMCw3LDQuMzQsNy4wOCw0LjUyQS41MS41MSwwLDAsMSw3LDJaXCIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxuICAgICAgICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICAgICAgPC9nPlxuICAgICAgICAgICAgICAgIDxnIGNsYXNzPVwiJHtiYXNlfV9fYm90dG9tLXJlZG9cIj5cbiAgICAgICAgICAgICAgICAgICAgPGcgY2xhc3M9XCIke2Jhc2V9X19hY3QgX3JlZG8gJHtiYXNlfV9fcmVkb1wiIHRhYmluZGV4PVwiMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSByPVwiMTZcIi8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZyBjbGFzcz1cIiR7YmFzZX1fX2ljb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTcuMjgtMi43MlYxLjcxYS41LjUsMCwwLDEtLjUuNUgyLjM1YS41LjUsMCwwLDEsMC0xSDUuNzFDNC43LjA1LDIuNDEtMi4yMiwwLTIuMjJjLTMuMjMsMC02LjIxLDQuMDUtNi4yNCw0LjA5YS41MS41MSwwLDAsMS0uNy4xMS41MS41MSwwLDAsMS0uMTEtLjdjLjEzLS4xOCwzLjMxLTQuNSw3LjA1LTQuNUMyLjY5LTMuMjIsNS4xLTEsNi4yOC4zNVYtMi43MmEuNS41LDAsMCwxLC41LS41QS41LjUsMCwwLDEsNy4yOC0yLjcyWlwiLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICAgICAgICAgICAgPC9nPlxuICAgICAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICAgIGA7XG4gICAgICAgIH1cbiAgICAgICAgd2lkZ2V0LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIGVkaXRvci5oZWxwZXJzLmFwcGVuZENoaWxkKHdpZGdldCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbCBcbiAqIEBwYXJhbSB7RWRpdG9yfSBlZGl0b3IgXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBmaW5kQXJlYShzZWwsIGVkaXRvcikge1xuICAgIGxldCB6b25lID0gZWRpdG9yLnN2Zy5xdWVyeVNlbGVjdG9yKHNlbCArICdfX2FyZWEtem9uZScpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNvbnRleHQ6IGVkaXRvci5zdmcucXVlcnlTZWxlY3RvcihzZWwgKyAnX19hcmVhJyksXG4gICAgICAgIGJvdW5kOiAgIHpvbmUgJiYgem9uZS5nZXRCQm94KCksXG4gICAgfTtcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQXVCQTtBQUNBO0FBa0JBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/bottom-widget/index.js\n");

/***/ }),

/***/ "./src/classes/Editor.js":
/*!*******************************!*\
  !*** ./src/classes/Editor.js ***!
  \*******************************/
/*! exports provided: settings, Editor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"settings\", function() { return settings; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Editor\", function() { return Editor; });\n/* harmony import */ var _libs_event_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../libs/event-context */ \"./src/libs/event-context.js\");\n/* harmony import */ var _libs_misc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../libs/misc */ \"./src/libs/misc.js\");\n/* harmony import */ var _libs_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../libs/helper */ \"./src/libs/helper.js\");\n/* harmony import */ var _libs_drag__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../libs/drag */ \"./src/libs/drag.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n // minify\n\nvar doc = document; // vars\n\nvar instances = new Map(); // settings\n\nvar settings = {\n  base: 'sse',\n  createHelper: null\n};\n/**\n * Trigger editor event\n * @param {Editor} editor\n * @param {String} type\n * @param {?Object} [detail]\n * @returns {Boolean}\n */\n\nfunction _triggerEvent(editor, type, detail) {\n  var event = new CustomEvent(settings.base + type, {\n    bubbles: true,\n    cancelable: true,\n    detail: Object.assign(detail || {}, {\n      editor: editor\n    })\n  });\n  editor.root.dispatchEvent(event);\n  return event.defaultPrevented;\n}\n/**\n * Wrap SVG in editor element\n * @param {Editor} editor\n * @param {Element} el\n */\n\n\nfunction prepareSvg(editor, el) {\n  var base = settings.base;\n  editor.svg = el;\n  var root = editor.root = Object(_libs_misc__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])('svg', true, [base]);\n  el.parentNode.replaceChild(editor.root, el);\n  root.appendChild(el);\n  editor.helpers = Object(_libs_misc__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])('g', true, [\"\".concat(base, \"__helpers\")]);\n  root.appendChild(editor.helpers);\n}\n/**\n * Refresh root viewBox for 1:1 helpers size\n * @param {Element} root\n */\n\n\nfunction refreshRootViewBox(root) {\n  var bound = root.getBoundingClientRect();\n  root.setAttribute('viewBox', \"0 0 \".concat(bound.width, \" \").concat(bound.height));\n}\n/**\n * @param {Editor} editor\n * @param {Object} data\n */\n\n\nfunction undoDelete(editor, data) {\n  data.list.forEach(function (item) {\n    item.parent.insertBefore(item.element, item.before);\n  });\n  editor.selectElement(null);\n  editor.refreshHelper();\n}\n/**\n * @param {Editor} editor\n * @param {Object} data\n */\n\n\nfunction redoDelete(editor, data) {\n  data.list.forEach(function (item) {\n    var element = item.element;\n    element.parentNode.removeChild(element);\n  });\n  editor.selectElement(null);\n  editor.refreshHelper();\n}\n/**\n * Register event listeners\n */\n\n\nfunction registerListeners() {\n  var addEventListener = doc.addEventListener;\n  addEventListener.call(doc, 'click', onClick);\n  addEventListener.call(doc, 'mousedown', onMouseDown);\n  addEventListener.call(doc, 'touchstart', onMouseDown);\n  addEventListener.call(window, 'resize', onResize);\n  Object(_libs_drag__WEBPACK_IMPORTED_MODULE_3__[\"dragRegister\"])();\n}\n/**\n * @param {Event} e \n */\n\n\nfunction onClick(e) {\n  var sel = '.' + settings.base;\n  var el = Object(_libs_event_context__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, sel);\n  var editor = el && Editor.getInstance(el);\n\n  if (editor) {\n    el = Object(_libs_event_context__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, \"\".concat(sel, \"__delete\"));\n    el && editor.deleteSelectedElements();\n  }\n}\n/**\n * @param {MouseEvent|TouchEvent} e \n */\n\n\nfunction onMouseDown(e) {\n  var base = settings.base;\n  var sel = '.' + base;\n  var el = Object(_libs_event_context__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, sel);\n  var editor = el && Editor.getInstance(el);\n\n  if (editor) {\n    var target = e.target;\n\n    if (editor.svg.contains(target)) {\n      if (target.nodeName === 'tspan') {\n        target = target.closest('text');\n      }\n\n      var attr = \"data-\".concat(base, \"-editable\");\n      var editable = target.closest(\"[\".concat(attr, \"]\"));\n      editable = editable && editable.getAttribute(attr);\n\n      if (editable === 'true' || editable === '1') {\n        if (!target.closest('foreignObject')) {\n          editor.selectElement(target);\n        }\n      } else {\n        editor.selectElement(null);\n      }\n    }\n\n    if (target === el) {\n      editor.selectElement(null);\n    }\n  }\n}\n/**\n */\n\n\nfunction onResize() {\n  instances.forEach(function (editor) {\n    refreshRootViewBox(editor.root);\n    editor.refreshHelper();\n  });\n}\n\nvar Editor = /*#__PURE__*/function () {\n  /**\n   * @param {HTMLElement} el\n   * @param {Object} params\n   */\n  function Editor(el) {\n    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Editor);\n\n    prepareSvg(this, el);\n    instances.set(this.root, this);\n    this.helper = null;\n    this.selection = [];\n    registerListeners();\n    refreshRootViewBox(this.root);\n\n    _triggerEvent(this, 'Inited', params);\n  }\n  /**\n   * Destroy editor and apply changes\n   */\n\n\n  _createClass(Editor, [{\n    key: \"destroy\",\n    value: function destroy() {\n      instances.delete(this.root);\n      this.root.parentNode.replaceChild(this.svg);\n    }\n    /**\n     * Trigger editor event and return isDefaultPrevented\n     * @param {String} type\n     * @param {?Object} [detail]\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: \"triggerEvent\",\n    value: function triggerEvent(type, detail) {\n      return _triggerEvent(this, type, detail);\n    }\n    /**\n     * Select element\n     * @param {SVGElement|null} el \n     */\n\n  }, {\n    key: \"selectElement\",\n    value: function selectElement(el) {\n      var newSelection = el ? [el] : [];\n\n      var prevented = _triggerEvent(this, 'Select', {\n        cur: this.selection,\n        new: newSelection\n      });\n\n      if (!prevented) {\n        this.selection = newSelection;\n        this.refreshHelper();\n      }\n    }\n    /**\n     * Refresh helper\n     */\n\n  }, {\n    key: \"refreshHelper\",\n    value: function refreshHelper() {\n      if (!_triggerEvent(this, 'RefreshHelper')) {\n        Object(_libs_helper__WEBPACK_IMPORTED_MODULE_2__[\"helperRemove\"])(this);\n        Object(_libs_helper__WEBPACK_IMPORTED_MODULE_2__[\"helperCreate\"])(this);\n      }\n    }\n    /**\n     * Delete current selected elements\n     */\n\n  }, {\n    key: \"deleteSelectedElements\",\n    value: function deleteSelectedElements() {\n      Object(_libs_helper__WEBPACK_IMPORTED_MODULE_2__[\"helperRemove\"])(this);\n      var list = [];\n      this.selection.forEach(function (item) {\n        list.push({\n          element: item,\n          parent: item.parentNode,\n          before: item.nextSibling\n        });\n        item.parentNode.removeChild(item);\n      });\n      list = list.sort(function (a, b) {\n        return b.nextSibling === a ? 1 : 0;\n      });\n\n      if (this.historyPush) {\n        this.historyPush({\n          undo: undoDelete,\n          redo: redoDelete,\n          list: list\n        });\n      }\n\n      this.selection = [];\n    }\n    /**\n     * Get Editor instance by SVG element\n     * @param {Element} el \n     * @returns {?Editor}\n     */\n\n  }], [{\n    key: \"getInstance\",\n    value: function getInstance(el) {\n      return instances.get(el);\n    }\n  }]);\n\n  return Editor;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xhc3Nlcy9FZGl0b3IuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2xhc3Nlcy9FZGl0b3IuanM/ZmM4NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXZlbnRDb250ZXh0IGZyb20gJy4uL2xpYnMvZXZlbnQtY29udGV4dCc7XG5pbXBvcnQge2NyZWF0ZUVsZW1lbnR9IGZyb20gJy4uL2xpYnMvbWlzYyc7XG5pbXBvcnQge2hlbHBlckNyZWF0ZSwgaGVscGVyUmVtb3ZlfSBmcm9tICcuLi9saWJzL2hlbHBlcic7XG5pbXBvcnQge2RyYWdSZWdpc3Rlcn0gZnJvbSAnLi4vbGlicy9kcmFnJztcblxuLy8gbWluaWZ5XG5jb25zdCBkb2MgPSBkb2N1bWVudDtcblxuLy8gdmFyc1xubGV0IGluc3RhbmNlcyA9IG5ldyBNYXAoKTtcblxuLy8gc2V0dGluZ3NcbmV4cG9ydCBjb25zdCBzZXR0aW5ncyA9IHtcbiAgICBiYXNlOiAnc3NlJyxcbiAgICBjcmVhdGVIZWxwZXI6IG51bGwsXG59O1xuXG4vKipcbiAqIFRyaWdnZXIgZWRpdG9yIGV2ZW50XG4gKiBAcGFyYW0ge0VkaXRvcn0gZWRpdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHs/T2JqZWN0fSBbZGV0YWlsXVxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHRyaWdnZXJFdmVudChlZGl0b3IsIHR5cGUsIGRldGFpbCkge1xuICAgIGxldCBldmVudCA9IG5ldyBDdXN0b21FdmVudChzZXR0aW5ncy5iYXNlICsgdHlwZSwge1xuICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgICBkZXRhaWw6IE9iamVjdC5hc3NpZ24oZGV0YWlsIHx8IHt9LCB7ZWRpdG9yfSksXG4gICAgfSk7XG4gICAgZWRpdG9yLnJvb3QuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgcmV0dXJuIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG59XG5cbi8qKlxuICogV3JhcCBTVkcgaW4gZWRpdG9yIGVsZW1lbnRcbiAqIEBwYXJhbSB7RWRpdG9yfSBlZGl0b3JcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAqL1xuZnVuY3Rpb24gcHJlcGFyZVN2ZyhlZGl0b3IsIGVsKSB7XG4gICAgY29uc3QgYmFzZSA9IHNldHRpbmdzLmJhc2U7XG4gICAgZWRpdG9yLnN2ZyA9IGVsO1xuICAgIGxldCByb290ID0gZWRpdG9yLnJvb3QgPSBjcmVhdGVFbGVtZW50KCdzdmcnLCB0cnVlLCBbYmFzZV0pO1xuICAgIGVsLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGVkaXRvci5yb290LCBlbCk7XG4gICAgcm9vdC5hcHBlbmRDaGlsZChlbCk7XG4gICAgZWRpdG9yLmhlbHBlcnMgPSBjcmVhdGVFbGVtZW50KCdnJywgdHJ1ZSwgW2Ake2Jhc2V9X19oZWxwZXJzYF0pO1xuICAgIHJvb3QuYXBwZW5kQ2hpbGQoZWRpdG9yLmhlbHBlcnMpO1xufVxuXG4vKipcbiAqIFJlZnJlc2ggcm9vdCB2aWV3Qm94IGZvciAxOjEgaGVscGVycyBzaXplXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHJvb3RcbiAqL1xuZnVuY3Rpb24gcmVmcmVzaFJvb3RWaWV3Qm94KHJvb3QpIHtcbiAgICBsZXQgYm91bmQgPSByb290LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJvb3Quc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgYDAgMCAke2JvdW5kLndpZHRofSAke2JvdW5kLmhlaWdodH1gKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VkaXRvcn0gZWRpdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICovXG5mdW5jdGlvbiB1bmRvRGVsZXRlKGVkaXRvciwgZGF0YSkge1xuICAgIGRhdGEubGlzdC5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBpdGVtLnBhcmVudC5pbnNlcnRCZWZvcmUoaXRlbS5lbGVtZW50LCBpdGVtLmJlZm9yZSk7XG4gICAgfSk7XG4gICAgZWRpdG9yLnNlbGVjdEVsZW1lbnQobnVsbCk7XG4gICAgZWRpdG9yLnJlZnJlc2hIZWxwZXIoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VkaXRvcn0gZWRpdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICovXG5mdW5jdGlvbiByZWRvRGVsZXRlKGVkaXRvciwgZGF0YSkge1xuICAgIGRhdGEubGlzdC5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBsZXQgZWxlbWVudCA9IGl0ZW0uZWxlbWVudDtcbiAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICAgIH0pO1xuICAgIGVkaXRvci5zZWxlY3RFbGVtZW50KG51bGwpO1xuICAgIGVkaXRvci5yZWZyZXNoSGVscGVyKCk7XG59XG5cbi8qKlxuICogUmVnaXN0ZXIgZXZlbnQgbGlzdGVuZXJzXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGFkZEV2ZW50TGlzdGVuZXIgPSBkb2MuYWRkRXZlbnRMaXN0ZW5lcjtcbiAgICBhZGRFdmVudExpc3RlbmVyLmNhbGwoZG9jLCAgICAnY2xpY2snLCAgICAgIG9uQ2xpY2spO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIuY2FsbChkb2MsICAgICdtb3VzZWRvd24nLCAgb25Nb3VzZURvd24pO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIuY2FsbChkb2MsICAgICd0b3VjaHN0YXJ0Jywgb25Nb3VzZURvd24pO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIuY2FsbCh3aW5kb3csICdyZXNpemUnLCAgICAgb25SZXNpemUpO1xuICAgIGRyYWdSZWdpc3RlcigpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnR9IGUgXG4gKi9cbmZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgIGNvbnN0IHNlbCA9ICcuJyArIHNldHRpbmdzLmJhc2U7XG4gICAgbGV0IGVsID0gZXZlbnRDb250ZXh0KGUsIHNlbCk7XG4gICAgbGV0IGVkaXRvciA9IGVsICYmIEVkaXRvci5nZXRJbnN0YW5jZShlbCk7XG4gICAgaWYgKGVkaXRvcikge1xuICAgICAgICBlbCA9IGV2ZW50Q29udGV4dChlLCBgJHtzZWx9X19kZWxldGVgKTtcbiAgICAgICAgZWwgJiYgZWRpdG9yLmRlbGV0ZVNlbGVjdGVkRWxlbWVudHMoKTtcbiAgICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtNb3VzZUV2ZW50fFRvdWNoRXZlbnR9IGUgXG4gKi9cbmZ1bmN0aW9uIG9uTW91c2VEb3duKGUpIHtcbiAgICBjb25zdCBiYXNlID0gc2V0dGluZ3MuYmFzZTtcbiAgICBjb25zdCBzZWwgID0gJy4nICsgYmFzZTtcbiAgICBsZXQgZWwgPSBldmVudENvbnRleHQoZSwgc2VsKTtcbiAgICBsZXQgZWRpdG9yID0gZWwgJiYgRWRpdG9yLmdldEluc3RhbmNlKGVsKTtcbiAgICBpZiAoZWRpdG9yKSB7XG4gICAgICAgIGxldCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgaWYgKGVkaXRvci5zdmcuY29udGFpbnModGFyZ2V0KSkge1xuICAgICAgICAgICAgaWYgKHRhcmdldC5ub2RlTmFtZSA9PT0gJ3RzcGFuJykge1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5jbG9zZXN0KCd0ZXh0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgYXR0ciA9IGBkYXRhLSR7YmFzZX0tZWRpdGFibGVgO1xuICAgICAgICAgICAgbGV0IGVkaXRhYmxlID0gdGFyZ2V0LmNsb3Nlc3QoYFske2F0dHJ9XWApO1xuICAgICAgICAgICAgZWRpdGFibGUgPSBlZGl0YWJsZSAmJiBlZGl0YWJsZS5nZXRBdHRyaWJ1dGUoYXR0cik7XG4gICAgICAgICAgICBpZiAoZWRpdGFibGUgPT09ICd0cnVlJyB8fCBlZGl0YWJsZSA9PT0gJzEnKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQuY2xvc2VzdCgnZm9yZWlnbk9iamVjdCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5zZWxlY3RFbGVtZW50KHRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlZGl0b3Iuc2VsZWN0RWxlbWVudChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGFyZ2V0ID09PSBlbCkge1xuICAgICAgICAgICAgZWRpdG9yLnNlbGVjdEVsZW1lbnQobnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICovXG5mdW5jdGlvbiBvblJlc2l6ZSgpIHtcbiAgICBpbnN0YW5jZXMuZm9yRWFjaChlZGl0b3IgPT4ge1xuICAgICAgICByZWZyZXNoUm9vdFZpZXdCb3goZWRpdG9yLnJvb3QpO1xuICAgICAgICBlZGl0b3IucmVmcmVzaEhlbHBlcigpO1xuICAgIH0pO1xufVxuXG5cbmV4cG9ydCBjbGFzcyBFZGl0b3Ige1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVsLCBwYXJhbXMgPSB7fSkge1xuICAgICAgICBwcmVwYXJlU3ZnKHRoaXMsIGVsKTtcbiAgICAgICAgaW5zdGFuY2VzLnNldCh0aGlzLnJvb3QsIHRoaXMpO1xuICAgICAgICB0aGlzLmhlbHBlciAgICA9IG51bGw7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uID0gW107XG4gICAgICAgIHJlZ2lzdGVyTGlzdGVuZXJzKCk7XG4gICAgICAgIHJlZnJlc2hSb290Vmlld0JveCh0aGlzLnJvb3QpO1xuICAgICAgICB0cmlnZ2VyRXZlbnQodGhpcywgJ0luaXRlZCcsIHBhcmFtcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSBlZGl0b3IgYW5kIGFwcGx5IGNoYW5nZXNcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpbnN0YW5jZXMuZGVsZXRlKHRoaXMucm9vdCk7XG4gICAgICAgIHRoaXMucm9vdC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh0aGlzLnN2Zyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlciBlZGl0b3IgZXZlbnQgYW5kIHJldHVybiBpc0RlZmF1bHRQcmV2ZW50ZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBwYXJhbSB7P09iamVjdH0gW2RldGFpbF1cbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICB0cmlnZ2VyRXZlbnQodHlwZSwgZGV0YWlsKSB7XG4gICAgICAgIHJldHVybiB0cmlnZ2VyRXZlbnQodGhpcywgdHlwZSwgZGV0YWlsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWxlY3QgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7U1ZHRWxlbWVudHxudWxsfSBlbCBcbiAgICAgKi9cbiAgICBzZWxlY3RFbGVtZW50KGVsKSB7XG4gICAgICAgIGxldCBuZXdTZWxlY3Rpb24gPSBlbCA/IFtlbF0gOiBbXTtcbiAgICAgICAgbGV0IHByZXZlbnRlZCA9IHRyaWdnZXJFdmVudCh0aGlzLCAnU2VsZWN0Jywge1xuICAgICAgICAgICAgY3VyOiB0aGlzLnNlbGVjdGlvbixcbiAgICAgICAgICAgIG5ldzogbmV3U2VsZWN0aW9uLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFwcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uID0gbmV3U2VsZWN0aW9uO1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoSGVscGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoIGhlbHBlclxuICAgICAqL1xuICAgIHJlZnJlc2hIZWxwZXIoKSB7XG4gICAgICAgIGlmICghdHJpZ2dlckV2ZW50KHRoaXMsICdSZWZyZXNoSGVscGVyJykpIHtcbiAgICAgICAgICAgIGhlbHBlclJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgIGhlbHBlckNyZWF0ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBjdXJyZW50IHNlbGVjdGVkIGVsZW1lbnRzXG4gICAgICovXG4gICAgZGVsZXRlU2VsZWN0ZWRFbGVtZW50cygpIHtcbiAgICAgICAgaGVscGVyUmVtb3ZlKHRoaXMpO1xuICAgICAgICBsZXQgbGlzdCA9IFtdO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgbGlzdC5wdXNoKHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBpdGVtLFxuICAgICAgICAgICAgICAgIHBhcmVudDogaXRlbS5wYXJlbnROb2RlLFxuICAgICAgICAgICAgICAgIGJlZm9yZTogaXRlbS5uZXh0U2libGluZyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaXRlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGl0ZW0pO1xuICAgICAgICB9KTtcbiAgICAgICAgbGlzdCA9IGxpc3Quc29ydCgoYSwgYikgPT4gYi5uZXh0U2libGluZyA9PT0gYSA/IDEgOiAwKTtcbiAgICAgICAgaWYgKHRoaXMuaGlzdG9yeVB1c2gpIHtcbiAgICAgICAgICAgIHRoaXMuaGlzdG9yeVB1c2goe3VuZG86IHVuZG9EZWxldGUsIHJlZG86IHJlZG9EZWxldGUsIGxpc3R9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBFZGl0b3IgaW5zdGFuY2UgYnkgU1ZHIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsIFxuICAgICAqIEByZXR1cm5zIHs/RWRpdG9yfVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbCkge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2VzLmdldChlbCk7XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuQkE7QUFBQTtBQUFBO0FBbUJBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBN0JBO0FBQUE7QUFBQTtBQThCQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXJDQTtBQUFBO0FBQUE7QUFzQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFwREE7QUFBQTtBQUFBO0FBcURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQTlEQTtBQUFBO0FBQUE7QUErREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBckZBO0FBQUE7QUFBQTtBQXNGQTtBQUNBO0FBdkZBO0FBQ0E7QUFEQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/classes/Editor.js\n");

/***/ }),

/***/ "./src/dist.js":
/*!*********************!*\
  !*** ./src/dist.js ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _features_default_helper_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../features/default-helper.scss */ \"./features/default-helper.scss\");\n/* harmony import */ var _features_default_helper_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_features_default_helper_scss__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _features_bottom_widget_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../features/bottom-widget.scss */ \"./features/bottom-widget.scss\");\n/* harmony import */ var _features_bottom_widget_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_features_bottom_widget_scss__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _features_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../features/index */ \"./features/index.js\");\n/* harmony import */ var _features_editor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../features/editor */ \"./features/editor.js\");\n\n\n\n\nwindow.SimpleSvgEditor = _features_editor__WEBPACK_IMPORTED_MODULE_3__[\"Editor\"];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGlzdC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9kaXN0LmpzP2RmNjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuLi9mZWF0dXJlcy9kZWZhdWx0LWhlbHBlci5zY3NzJztcbmltcG9ydCAnLi4vZmVhdHVyZXMvYm90dG9tLXdpZGdldC5zY3NzJztcbmltcG9ydCAnLi4vZmVhdHVyZXMvaW5kZXgnO1xuaW1wb3J0IHtFZGl0b3J9IGZyb20gJy4uL2ZlYXR1cmVzL2VkaXRvcic7XG53aW5kb3cuU2ltcGxlU3ZnRWRpdG9yID0gRWRpdG9yO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/dist.js\n");

/***/ }),

/***/ "./src/helper/index.js":
/*!*****************************!*\
  !*** ./src/helper/index.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _libs_point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../libs/point */ \"./src/libs/point.js\");\n/* harmony import */ var _libs_misc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../libs/misc */ \"./src/libs/misc.js\");\n/* harmony import */ var _classes_Editor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../classes/Editor */ \"./src/classes/Editor.js\");\n\n\n\n/**\n * Create helper by corner points\n * @param {Editor} editor\n * @param {DOMPoint[]} points\n * @returns {SVGElement}\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (editor, points) {\n  var base = _classes_Editor__WEBPACK_IMPORTED_MODULE_2__[\"settings\"].base;\n  var helper = Object(_libs_misc__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])('g', true, [\"\".concat(base, \"__helper\")]);\n  var polygon = Object(_libs_point__WEBPACK_IMPORTED_MODULE_0__[\"polygonPointDefRound\"])(points);\n  points = Object(_libs_point__WEBPACK_IMPORTED_MODULE_0__[\"correctPolygonCornersMinDistance\"])(points, 24, 8);\n  var text = editor.selection[0]; // code in one line for minification\n\n  var html = \"<polygon class=\\\"\".concat(base, \"__rect \").concat(base, \"__move\\\" points=\\\"\").concat(polygon.join(' '), \"\\\"/><g class=\\\"\").concat(base, \"__act _rotate \").concat(base, \"__rotate\\\"><circle cx=\\\"\").concat(points[0].x, \"\\\" cy=\\\"\").concat(points[0].y, \"\\\" r=\\\"8\\\"/><g class=\\\"\").concat(base, \"__icon\\\" style=\\\"transform:translate(\").concat(points[0].x, \"px,\").concat(points[0].y, \"px)\\\"><path d=\\\"M4.75-3V-.75a0,0,0,0,1,0,0,.13.13,0,0,1,0,.06.09.09,0,0,1,0,.05s0,0,0,0h0l-.06,0a0,0,0,0,1,0,0H2.25A.25.25,0,0,1,2-.75.25.25,0,0,1,2.25-1H3.87L2.59-2.2A3.13,3.13,0,0,0,.82-3.09a3.08,3.08,0,0,0-1.95.36A3.09,3.09,0,0,0-2.47-1.28a3.11,3.11,0,0,0-.2,2,3.14,3.14,0,0,0,1,1.7A3.15,3.15,0,0,0,.2,3.12,3.11,3.11,0,0,0,2.11,2.6,3.07,3.07,0,0,0,3.32,1,.25.25,0,0,1,3.64.89a.26.26,0,0,1,.16.32A3.63,3.63,0,0,1,2.38,3a3.68,3.68,0,0,1-2,.61H.17A3.74,3.74,0,0,1-2,2.77,3.7,3.7,0,0,1-3.16.8a3.65,3.65,0,0,1,.23-2.28A3.56,3.56,0,0,1-1.37-3.17,3.62,3.62,0,0,1,.89-3.59a3.66,3.66,0,0,1,2.05,1L4.25-1.33V-3a.25.25,0,0,1,.25-.25A.25.25,0,0,1,4.75-3Z\\\"/></g></g><g class=\\\"\").concat(base, \"__act _delete \").concat(base, \"__delete\\\"><circle cx=\\\"\").concat(points[1].x, \"\\\" cy=\\\"\").concat(points[1].y, \"\\\" r=\\\"8\\\"/><g class=\\\"\").concat(base, \"__icon\\\" style=\\\"transform:translate(\").concat(points[1].x, \"px,\").concat(points[1].y, \"px)\\\"><path d=\\\"M.35,0,2.43-2.07a.27.27,0,0,0,0-.36.27.27,0,0,0-.36,0L0-.35-2.07-2.43a.27.27,0,0,0-.36,0,.27.27,0,0,0,0,.36L-.35,0-2.43,2.07a.27.27,0,0,0,0,.36.26.26,0,0,0,.18.07.26.26,0,0,0,.18-.07L0,.35,2.07,2.43a.27.27,0,0,0,.36,0,.27.27,0,0,0,0-.36Z\\\"/></g></g><g class=\\\"\").concat(base, \"__act _scale \").concat(base, \"__scale\\\"><circle cx=\\\"\").concat(points[2].x, \"\\\" cy=\\\"\").concat(points[2].y, \"\\\" r=\\\"8\\\"/><g class=\\\"\").concat(base, \"__icon\\\" style=\\\"transform:translate(\").concat(points[2].x, \"px,\").concat(points[2].y, \"px)\\\"><path d=\\\"M3.63,3.38a.29.29,0,0,1,0,.09.32.32,0,0,1-.14.14l-.09,0H1.13a.25.25,0,0,1-.25-.25.25.25,0,0,1,.25-.25H2.77L.57.93a.27.27,0,0,1,0-.36.27.27,0,0,1,.36,0l2.2,2.2V1.13A.25.25,0,0,1,3.38.88a.25.25,0,0,1,.25.25Zm-6.4-6.51h1.64a.25.25,0,0,0,.25-.25.25.25,0,0,0-.25-.25H-3.38l-.09,0a.32.32,0,0,0-.14.14.29.29,0,0,0,0,.09v2.25a.25.25,0,0,0,.25.25.25.25,0,0,0,.25-.25V-2.77l2.2,2.2A.26.26,0,0,0-.75-.5.26.26,0,0,0-.57-.57a.27.27,0,0,0,0-.36Z\\\"/></g></g>\");\n\n  if (text && text.nodeName === 'text') {\n    html += \"<g class=\\\"\".concat(base, \"__act _text \").concat(base, \"__text\\\"><circle cx=\\\"\").concat(points[3].x, \"\\\" cy=\\\"\").concat(points[3].y, \"\\\" r=\\\"8\\\"/><g class=\\\"\").concat(base, \"__icon\\\" style=\\\"transform:translate(\").concat(points[3].x, \"px,\").concat(points[3].y, \"px)\\\"><path d=\\\"M-1.5,3.63H-3.38a.26.26,0,0,1-.25-.25V1.5a.25.25,0,0,1,.08-.18L1.32-3.55a.25.25,0,0,1,.36,0L3.55-1.68a.25.25,0,0,1,0,.36L-1.32,3.55A.25.25,0,0,1-1.5,3.63Zm-1.63-.5H-1.6L3-1.5,1.5-3-3.13,1.6Z\\\"/></g></g>\");\n  }\n\n  helper.innerHTML = html;\n  return helper;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaGVscGVyL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlci9pbmRleC5qcz85YTdhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Y29ycmVjdFBvbHlnb25Db3JuZXJzTWluRGlzdGFuY2UsIHBvbHlnb25Qb2ludERlZlJvdW5kfSBmcm9tICcuLi9saWJzL3BvaW50JztcbmltcG9ydCB7Y3JlYXRlRWxlbWVudH0gZnJvbSAnLi4vbGlicy9taXNjJztcbmltcG9ydCB7c2V0dGluZ3N9IGZyb20gJy4uL2NsYXNzZXMvRWRpdG9yJztcblxuLyoqXG4gKiBDcmVhdGUgaGVscGVyIGJ5IGNvcm5lciBwb2ludHNcbiAqIEBwYXJhbSB7RWRpdG9yfSBlZGl0b3JcbiAqIEBwYXJhbSB7RE9NUG9pbnRbXX0gcG9pbnRzXG4gKiBAcmV0dXJucyB7U1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oZWRpdG9yLCBwb2ludHMpIHtcbiAgICBjb25zdCBiYXNlID0gc2V0dGluZ3MuYmFzZTtcbiAgICBsZXQgaGVscGVyID0gY3JlYXRlRWxlbWVudCgnZycsIHRydWUsIFtgJHtiYXNlfV9faGVscGVyYF0pO1xuICAgIGxldCBwb2x5Z29uID0gcG9seWdvblBvaW50RGVmUm91bmQocG9pbnRzKTtcbiAgICBwb2ludHMgPSBjb3JyZWN0UG9seWdvbkNvcm5lcnNNaW5EaXN0YW5jZShwb2ludHMsIDI0LCA4KTtcbiAgICBsZXQgdGV4dCA9IGVkaXRvci5zZWxlY3Rpb25bMF07XG4gICAgLy8gY29kZSBpbiBvbmUgbGluZSBmb3IgbWluaWZpY2F0aW9uXG4gICAgbGV0IGh0bWwgPSBgPHBvbHlnb24gY2xhc3M9XCIke2Jhc2V9X19yZWN0ICR7YmFzZX1fX21vdmVcIiBwb2ludHM9XCIke3BvbHlnb24uam9pbignICcpfVwiLz48ZyBjbGFzcz1cIiR7YmFzZX1fX2FjdCBfcm90YXRlICR7YmFzZX1fX3JvdGF0ZVwiPjxjaXJjbGUgY3g9XCIke3BvaW50c1swXS54fVwiIGN5PVwiJHtwb2ludHNbMF0ueX1cIiByPVwiOFwiLz48ZyBjbGFzcz1cIiR7YmFzZX1fX2ljb25cIiBzdHlsZT1cInRyYW5zZm9ybTp0cmFuc2xhdGUoJHtwb2ludHNbMF0ueH1weCwke3BvaW50c1swXS55fXB4KVwiPjxwYXRoIGQ9XCJNNC43NS0zVi0uNzVhMCwwLDAsMCwxLDAsMCwuMTMuMTMsMCwwLDEsMCwuMDYuMDkuMDksMCwwLDEsMCwuMDVzMCwwLDAsMGgwbC0uMDYsMGEwLDAsMCwwLDEsMCwwSDIuMjVBLjI1LjI1LDAsMCwxLDItLjc1LjI1LjI1LDAsMCwxLDIuMjUtMUgzLjg3TDIuNTktMi4yQTMuMTMsMy4xMywwLDAsMCwuODItMy4wOWEzLjA4LDMuMDgsMCwwLDAtMS45NS4zNkEzLjA5LDMuMDksMCwwLDAtMi40Ny0xLjI4YTMuMTEsMy4xMSwwLDAsMC0uMiwyLDMuMTQsMy4xNCwwLDAsMCwxLDEuN0EzLjE1LDMuMTUsMCwwLDAsLjIsMy4xMiwzLjExLDMuMTEsMCwwLDAsMi4xMSwyLjYsMy4wNywzLjA3LDAsMCwwLDMuMzIsMSwuMjUuMjUsMCwwLDEsMy42NC44OWEuMjYuMjYsMCwwLDEsLjE2LjMyQTMuNjMsMy42MywwLDAsMSwyLjM4LDNhMy42OCwzLjY4LDAsMCwxLTIsLjYxSC4xN0EzLjc0LDMuNzQsMCwwLDEtMiwyLjc3LDMuNywzLjcsMCwwLDEtMy4xNi44YTMuNjUsMy42NSwwLDAsMSwuMjMtMi4yOEEzLjU2LDMuNTYsMCwwLDEtMS4zNy0zLjE3LDMuNjIsMy42MiwwLDAsMSwuODktMy41OWEzLjY2LDMuNjYsMCwwLDEsMi4wNSwxTDQuMjUtMS4zM1YtM2EuMjUuMjUsMCwwLDEsLjI1LS4yNUEuMjUuMjUsMCwwLDEsNC43NS0zWlwiLz48L2c+PC9nPjxnIGNsYXNzPVwiJHtiYXNlfV9fYWN0IF9kZWxldGUgJHtiYXNlfV9fZGVsZXRlXCI+PGNpcmNsZSBjeD1cIiR7cG9pbnRzWzFdLnh9XCIgY3k9XCIke3BvaW50c1sxXS55fVwiIHI9XCI4XCIvPjxnIGNsYXNzPVwiJHtiYXNlfV9faWNvblwiIHN0eWxlPVwidHJhbnNmb3JtOnRyYW5zbGF0ZSgke3BvaW50c1sxXS54fXB4LCR7cG9pbnRzWzFdLnl9cHgpXCI+PHBhdGggZD1cIk0uMzUsMCwyLjQzLTIuMDdhLjI3LjI3LDAsMCwwLDAtLjM2LjI3LjI3LDAsMCwwLS4zNiwwTDAtLjM1LTIuMDctMi40M2EuMjcuMjcsMCwwLDAtLjM2LDAsLjI3LjI3LDAsMCwwLDAsLjM2TC0uMzUsMC0yLjQzLDIuMDdhLjI3LjI3LDAsMCwwLDAsLjM2LjI2LjI2LDAsMCwwLC4xOC4wNy4yNi4yNiwwLDAsMCwuMTgtLjA3TDAsLjM1LDIuMDcsMi40M2EuMjcuMjcsMCwwLDAsLjM2LDAsLjI3LjI3LDAsMCwwLDAtLjM2WlwiLz48L2c+PC9nPjxnIGNsYXNzPVwiJHtiYXNlfV9fYWN0IF9zY2FsZSAke2Jhc2V9X19zY2FsZVwiPjxjaXJjbGUgY3g9XCIke3BvaW50c1syXS54fVwiIGN5PVwiJHtwb2ludHNbMl0ueX1cIiByPVwiOFwiLz48ZyBjbGFzcz1cIiR7YmFzZX1fX2ljb25cIiBzdHlsZT1cInRyYW5zZm9ybTp0cmFuc2xhdGUoJHtwb2ludHNbMl0ueH1weCwke3BvaW50c1syXS55fXB4KVwiPjxwYXRoIGQ9XCJNMy42MywzLjM4YS4yOS4yOSwwLDAsMSwwLC4wOS4zMi4zMiwwLDAsMS0uMTQuMTRsLS4wOSwwSDEuMTNhLjI1LjI1LDAsMCwxLS4yNS0uMjUuMjUuMjUsMCwwLDEsLjI1LS4yNUgyLjc3TC41Ny45M2EuMjcuMjcsMCwwLDEsMC0uMzYuMjcuMjcsMCwwLDEsLjM2LDBsMi4yLDIuMlYxLjEzQS4yNS4yNSwwLDAsMSwzLjM4Ljg4YS4yNS4yNSwwLDAsMSwuMjUuMjVabS02LjQtNi41MWgxLjY0YS4yNS4yNSwwLDAsMCwuMjUtLjI1LjI1LjI1LDAsMCwwLS4yNS0uMjVILTMuMzhsLS4wOSwwYS4zMi4zMiwwLDAsMC0uMTQuMTQuMjkuMjksMCwwLDAsMCwuMDl2Mi4yNWEuMjUuMjUsMCwwLDAsLjI1LjI1LjI1LjI1LDAsMCwwLC4yNS0uMjVWLTIuNzdsMi4yLDIuMkEuMjYuMjYsMCwwLDAtLjc1LS41LjI2LjI2LDAsMCwwLS41Ny0uNTdhLjI3LjI3LDAsMCwwLDAtLjM2WlwiLz48L2c+PC9nPmA7XG4gICAgaWYgKHRleHQgJiYgdGV4dC5ub2RlTmFtZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIGh0bWwgKz0gYDxnIGNsYXNzPVwiJHtiYXNlfV9fYWN0IF90ZXh0ICR7YmFzZX1fX3RleHRcIj48Y2lyY2xlIGN4PVwiJHtwb2ludHNbM10ueH1cIiBjeT1cIiR7cG9pbnRzWzNdLnl9XCIgcj1cIjhcIi8+PGcgY2xhc3M9XCIke2Jhc2V9X19pY29uXCIgc3R5bGU9XCJ0cmFuc2Zvcm06dHJhbnNsYXRlKCR7cG9pbnRzWzNdLnh9cHgsJHtwb2ludHNbM10ueX1weClcIj48cGF0aCBkPVwiTS0xLjUsMy42M0gtMy4zOGEuMjYuMjYsMCwwLDEtLjI1LS4yNVYxLjVhLjI1LjI1LDAsMCwxLC4wOC0uMThMMS4zMi0zLjU1YS4yNS4yNSwwLDAsMSwuMzYsMEwzLjU1LTEuNjhhLjI1LjI1LDAsMCwxLDAsLjM2TC0xLjMyLDMuNTVBLjI1LjI1LDAsMCwxLTEuNSwzLjYzWm0tMS42My0uNUgtMS42TDMtMS41LDEuNS0zLTMuMTMsMS42WlwiLz48L2c+PC9nPmA7XG4gICAgfVxuICAgIGhlbHBlci5pbm5lckhUTUwgPSBodG1sO1xuICAgIHJldHVybiBoZWxwZXI7XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/helper/index.js\n");

/***/ }),

/***/ "./src/libs/drag.js":
/*!**************************!*\
  !*** ./src/libs/drag.js ***!
  \**************************/
/*! exports provided: dragRegister */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dragRegister\", function() { return dragRegister; });\n/* harmony import */ var _classes_Editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../classes/Editor */ \"./src/classes/Editor.js\");\n/* harmony import */ var _event_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./event-context */ \"./src/libs/event-context.js\");\n/* harmony import */ var _units__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./units */ \"./src/libs/units.js\");\n/* harmony import */ var _point__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./point */ \"./src/libs/point.js\");\n/* harmony import */ var _rect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./rect */ \"./src/libs/rect.js\");\n/* harmony import */ var _matrix__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./matrix */ \"./src/libs/matrix.js\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./helper */ \"./src/libs/helper.js\");\n/* harmony import */ var _misc__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./misc */ \"./src/libs/misc.js\");\n\n\n\n\n\n\n\n // minify\n\nvar doc = document; // vars\n\nvar current = null;\n/**\n * Register drag event listener\n */\n\nfunction dragRegister() {\n  var addEventListener = doc.addEventListener;\n  addEventListener.call(doc, 'mousedown', onMouseDown);\n  addEventListener.call(doc, 'mousemove', onMouseMove);\n  addEventListener.call(doc, 'mouseup', onMouseUp);\n  addEventListener.call(doc, 'touchstart', onMouseDown);\n  addEventListener.call(doc, 'touchmove', onMouseMove);\n  addEventListener.call(doc, 'touchend', onMouseUp);\n}\n/**\n * mousedown event handler\n * @param {MouseEvent|TouchEvent} e \n */\n\nfunction onMouseDown(e) {\n  var sel = '.' + _classes_Editor__WEBPACK_IMPORTED_MODULE_0__[\"settings\"].base;\n  var el = Object(_event_context__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e, sel);\n  var editor = el && _classes_Editor__WEBPACK_IMPORTED_MODULE_0__[\"Editor\"].getInstance(el);\n\n  if (editor) {\n    start(e, editor);\n  }\n}\n/**\n * mousemove event handler\n * @param {Event} e \n */\n\n\nfunction onMouseMove(e) {\n  current && drag(e);\n}\n/**\n * mouseup event handler\n * @param {Event} e \n */\n\n\nfunction onMouseUp(e) {\n  current && end(e);\n}\n/**\n * Start drag\n * @param {MouseEvent|TouchEvent} e \n * @param {Editor} editor\n */\n\n\nfunction start(e, editor) {\n  var sel = '.' + _classes_Editor__WEBPACK_IMPORTED_MODULE_0__[\"settings\"].base;\n  var operation = null;\n\n  if (Object(_event_context__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e, \"\".concat(sel, \"__move\"))) {\n    operation = move;\n  }\n\n  if (Object(_event_context__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e, \"\".concat(sel, \"__rotate\"))) {\n    operation = rotate;\n  }\n\n  if (Object(_event_context__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e, \"\".concat(sel, \"__scale\"))) {\n    operation = scale;\n  }\n\n  var detail = {\n    operation: operation,\n    event: e\n  };\n  var prevented = editor.triggerEvent('DragStart', detail);\n  operation = detail.operation;\n\n  if (!prevented && operation) {\n    current = {\n      editor: editor,\n      x: e.clientX,\n      y: e.clientY,\n      operation: operation\n    };\n  }\n}\n/**\n * Drag itaration\n * @param {MouseEvent|TouchEvent} e \n */\n\n\nfunction drag(e) {\n  current.operation(e, current);\n}\n/**\n * End drag\n * @param {MouseEvent|TouchEvent} e \n */\n\n\nfunction end(e) {\n  var editor = current.editor;\n  current.operation(e, current);\n\n  if (editor.historyPush && current.matrix) {\n    editor.historyPush({\n      undo: undo,\n      redo: redo,\n      prev: current.matrix,\n      next: getSelectionTransformMap()\n    });\n  }\n\n  var prevented = editor.triggerEvent('DragEnd', {\n    event: e,\n    operation: current.operation\n  });\n  !prevented && editor.refreshHelper();\n  current = null;\n}\n/**\n * Move operation\n * @param {MouseEvent|TouchEvent} e \n */\n\n\nfunction move(e) {\n  var editor = current.editor;\n  var dx = e.clientX - current.x;\n  var dy = e.clientY - current.y;\n  var local = Object(_units__WEBPACK_IMPORTED_MODULE_2__[\"unitsRootToLocal\"])(editor, Object(_rect__WEBPACK_IMPORTED_MODULE_4__[\"rectCreate\"])(0, 0, dx, dy));\n  saveMatrix();\n  editor.selection.forEach(function (item) {\n    var matrix = current.matrix.get(item);\n    matrix = Object(_matrix__WEBPACK_IMPORTED_MODULE_5__[\"matrixCreate\"])().translateSelf(local.width, local.height).multiplySelf(matrix);\n    Object(_misc__WEBPACK_IMPORTED_MODULE_7__[\"setTransform\"])(item, matrix);\n  });\n  var matrix = Object(_matrix__WEBPACK_IMPORTED_MODULE_5__[\"matrixCreate\"])().translateSelf(dx, dy);\n  transformHelper(editor, matrix);\n}\n/**\n * Rotate operation\n * @param {MouseEvent|TouchEvent} e \n */\n\n\nfunction rotate(e) {\n  var editor = current.editor;\n  var cr = Object(_point__WEBPACK_IMPORTED_MODULE_3__[\"pointGetCenter\"])(editor.helperPoints);\n  var cv = Object(_units__WEBPACK_IMPORTED_MODULE_2__[\"unitsRootToViewport\"])(editor, cr);\n  var cl = Object(_units__WEBPACK_IMPORTED_MODULE_2__[\"unitsRootToLocal\"])(editor, cr);\n  var a = Math.atan2(cv.y - e.clientY, e.clientX - cv.x);\n  a -= Math.atan2(cv.y - current.y, current.x - cv.x);\n\n  if (a < -Math.PI) {\n    a += 2 * Math.PI;\n  }\n\n  saveMatrix();\n  editor.selection.forEach(function (item) {\n    var matrix = current.matrix.get(item);\n    matrix = Object(_matrix__WEBPACK_IMPORTED_MODULE_5__[\"matrixCreate\"])().translateSelf(cl.x, cl.y).rotateSelf(-a * 180 / Math.PI).translateSelf(-cl.x, -cl.y).multiplySelf(matrix);\n    Object(_misc__WEBPACK_IMPORTED_MODULE_7__[\"setTransform\"])(item, matrix);\n  });\n  var matrix = Object(_matrix__WEBPACK_IMPORTED_MODULE_5__[\"matrixCreate\"])().translateSelf(cr.x, cr.y).rotateSelf(-a * 180 / Math.PI).translateSelf(-cr.x, -cr.y);\n  transformHelper(editor, matrix);\n}\n/**\n * Scale operation\n * @param {MouseEvent|TouchEvent} e \n */\n\n\nfunction scale(e) {\n  var editor = current.editor;\n  var cr = Object(_point__WEBPACK_IMPORTED_MODULE_3__[\"pointGetCenter\"])(editor.helperPoints);\n  var cv = Object(_units__WEBPACK_IMPORTED_MODULE_2__[\"unitsRootToViewport\"])(editor, cr);\n  var cl = Object(_units__WEBPACK_IMPORTED_MODULE_2__[\"unitsRootToLocal\"])(editor, cr);\n  var r1 = Object(_point__WEBPACK_IMPORTED_MODULE_3__[\"pointDistance\"])(Object(_point__WEBPACK_IMPORTED_MODULE_3__[\"pointCreate\"])(e.clientX, e.clientY), cv);\n  var r0 = Object(_point__WEBPACK_IMPORTED_MODULE_3__[\"pointDistance\"])(Object(_point__WEBPACK_IMPORTED_MODULE_3__[\"pointCreate\"])(current.x, current.y), cv);\n  var scale = r1 / r0;\n  saveMatrix();\n  editor.selection.forEach(function (item) {\n    var matrix = current.matrix.get(item);\n    matrix = Object(_matrix__WEBPACK_IMPORTED_MODULE_5__[\"matrixCreate\"])().translateSelf(cl.x, cl.y).scaleSelf(scale).translateSelf(-cl.x, -cl.y).multiplySelf(matrix);\n    Object(_misc__WEBPACK_IMPORTED_MODULE_7__[\"setTransform\"])(item, matrix);\n  });\n  var matrix = Object(_matrix__WEBPACK_IMPORTED_MODULE_5__[\"matrixCreate\"])().translateSelf(cr.x, cr.y).scaleSelf(scale).translateSelf(-cr.x, -cr.y);\n  transformHelper(editor, matrix);\n}\n/**\n * Return map of transform matrix for selection\n */\n\n\nfunction getSelectionTransformMap() {\n  var map = new Map();\n  current.editor.selection.forEach(function (item) {\n    map.set(item, Object(_matrix__WEBPACK_IMPORTED_MODULE_5__[\"matrixGetTranformForElement\"])(item));\n  });\n  return map;\n}\n/**\n * Save transform on drag start\n */\n\n\nfunction saveMatrix() {\n  if (!current.matrix) {\n    current.matrix = getSelectionTransformMap();\n  }\n}\n/**\n * Temporary transform helper\n * @param {Editor} editor\n * @param {DOMMatrix} matrix \n */\n\n\nfunction transformHelper(editor, matrix) {\n  Object(_helper__WEBPACK_IMPORTED_MODULE_6__[\"helperRemove\"])(editor);\n  var points = editor.helperPoints.slice();\n  points.forEach(function (point, i) {\n    points[i] = Object(_point__WEBPACK_IMPORTED_MODULE_3__[\"pointApplyMatrix\"])(point, matrix);\n  });\n  Object(_helper__WEBPACK_IMPORTED_MODULE_6__[\"helperCreateByPoints\"])(editor, points);\n}\n/**\n * Apply drag undo\n * @param {Editor} editor\n * @param {Object} data \n */\n\n\nfunction undo(editor, data) {\n  data.prev.forEach(function (matrix, item) {\n    Object(_misc__WEBPACK_IMPORTED_MODULE_7__[\"setTransform\"])(item, matrix);\n  });\n  editor.refreshHelper();\n}\n/**\n * Apply drag redo\n * @param {Editor} editor\n * @param {Object} data \n */\n\n\nfunction redo(editor, data) {\n  data.next.forEach(function (matrix, item) {\n    Object(_misc__WEBPACK_IMPORTED_MODULE_7__[\"setTransform\"])(item, matrix);\n  });\n  editor.refreshHelper();\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGlicy9kcmFnLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xpYnMvZHJhZy5qcz84ZjE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RWRpdG9yLCBzZXR0aW5nc30gZnJvbSAnLi4vY2xhc3Nlcy9FZGl0b3InO1xuaW1wb3J0IGV2ZW50Q29udGV4dCBmcm9tICcuL2V2ZW50LWNvbnRleHQnO1xuaW1wb3J0IHt1bml0c1Jvb3RUb0xvY2FsLCB1bml0c1Jvb3RUb1ZpZXdwb3J0fSBmcm9tICcuL3VuaXRzJztcbmltcG9ydCB7cG9pbnRDcmVhdGUsIHBvaW50RGlzdGFuY2UsIHBvaW50R2V0Q2VudGVyLCBwb2ludEFwcGx5TWF0cml4fSBmcm9tICcuL3BvaW50JztcbmltcG9ydCB7cmVjdENyZWF0ZX0gZnJvbSAnLi9yZWN0JztcbmltcG9ydCB7bWF0cml4Q3JlYXRlLCBtYXRyaXhHZXRUcmFuZm9ybUZvckVsZW1lbnR9IGZyb20gJy4vbWF0cml4JztcbmltcG9ydCB7aGVscGVyUmVtb3ZlLCBoZWxwZXJDcmVhdGVCeVBvaW50c30gZnJvbSAnLi9oZWxwZXInO1xuaW1wb3J0IHtzZXRUcmFuc2Zvcm19IGZyb20gJy4vbWlzYyc7XG5cbi8vIG1pbmlmeVxuY29uc3QgZG9jID0gZG9jdW1lbnQ7XG5cbi8vIHZhcnNcbmxldCBjdXJyZW50ID0gbnVsbDtcblxuLyoqXG4gKiBSZWdpc3RlciBkcmFnIGV2ZW50IGxpc3RlbmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkcmFnUmVnaXN0ZXIoKSB7XG4gICAgY29uc3QgYWRkRXZlbnRMaXN0ZW5lciA9IGRvYy5hZGRFdmVudExpc3RlbmVyO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIuY2FsbChkb2MsICdtb3VzZWRvd24nLCAgb25Nb3VzZURvd24pO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIuY2FsbChkb2MsICdtb3VzZW1vdmUnLCAgb25Nb3VzZU1vdmUpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIuY2FsbChkb2MsICdtb3VzZXVwJywgICAgb25Nb3VzZVVwKTtcbiAgICBhZGRFdmVudExpc3RlbmVyLmNhbGwoZG9jLCAndG91Y2hzdGFydCcsIG9uTW91c2VEb3duKTtcbiAgICBhZGRFdmVudExpc3RlbmVyLmNhbGwoZG9jLCAndG91Y2htb3ZlJywgIG9uTW91c2VNb3ZlKTtcbiAgICBhZGRFdmVudExpc3RlbmVyLmNhbGwoZG9jLCAndG91Y2hlbmQnLCAgIG9uTW91c2VVcCk7XG59XG5cbi8qKlxuICogbW91c2Vkb3duIGV2ZW50IGhhbmRsZXJcbiAqIEBwYXJhbSB7TW91c2VFdmVudHxUb3VjaEV2ZW50fSBlIFxuICovXG5mdW5jdGlvbiBvbk1vdXNlRG93bihlKSB7XG4gICAgY29uc3Qgc2VsID0gJy4nICsgc2V0dGluZ3MuYmFzZTtcbiAgICBsZXQgZWwgPSBldmVudENvbnRleHQoZSwgc2VsKTtcbiAgICBsZXQgZWRpdG9yID0gZWwgJiYgRWRpdG9yLmdldEluc3RhbmNlKGVsKTtcbiAgICBpZiAoZWRpdG9yKSB7XG4gICAgICAgIHN0YXJ0KGUsIGVkaXRvcik7XG4gICAgfVxufVxuXG4vKipcbiAqIG1vdXNlbW92ZSBldmVudCBoYW5kbGVyXG4gKiBAcGFyYW0ge0V2ZW50fSBlIFxuICovXG5mdW5jdGlvbiBvbk1vdXNlTW92ZShlKSB7XG4gICAgY3VycmVudCAmJiBkcmFnKGUpO1xufVxuXG4vKipcbiAqIG1vdXNldXAgZXZlbnQgaGFuZGxlclxuICogQHBhcmFtIHtFdmVudH0gZSBcbiAqL1xuZnVuY3Rpb24gb25Nb3VzZVVwKGUpIHtcbiAgICBjdXJyZW50ICYmIGVuZChlKTtcbn1cblxuLyoqXG4gKiBTdGFydCBkcmFnXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR8VG91Y2hFdmVudH0gZSBcbiAqIEBwYXJhbSB7RWRpdG9yfSBlZGl0b3JcbiAqL1xuZnVuY3Rpb24gc3RhcnQoZSwgZWRpdG9yKSB7XG4gICAgY29uc3Qgc2VsID0gJy4nICsgc2V0dGluZ3MuYmFzZTtcbiAgICBsZXQgb3BlcmF0aW9uID0gbnVsbDtcbiAgICBpZiAoZXZlbnRDb250ZXh0KGUsIGAke3NlbH1fX21vdmVgKSkge1xuICAgICAgICBvcGVyYXRpb24gPSBtb3ZlO1xuICAgIH1cbiAgICBpZiAoZXZlbnRDb250ZXh0KGUsIGAke3NlbH1fX3JvdGF0ZWApKSB7XG4gICAgICAgIG9wZXJhdGlvbiA9IHJvdGF0ZTtcbiAgICB9XG4gICAgaWYgKGV2ZW50Q29udGV4dChlLCBgJHtzZWx9X19zY2FsZWApKSB7XG4gICAgICAgIG9wZXJhdGlvbiA9IHNjYWxlO1xuICAgIH1cbiAgICBsZXQgZGV0YWlsID0ge29wZXJhdGlvbiwgZXZlbnQ6IGV9O1xuICAgIGxldCBwcmV2ZW50ZWQgPSBlZGl0b3IudHJpZ2dlckV2ZW50KCdEcmFnU3RhcnQnLCBkZXRhaWwpO1xuICAgIG9wZXJhdGlvbiA9IGRldGFpbC5vcGVyYXRpb247XG4gICAgaWYgKCFwcmV2ZW50ZWQgJiYgb3BlcmF0aW9uKSB7XG4gICAgICAgIGN1cnJlbnQgPSB7XG4gICAgICAgICAgICBlZGl0b3IsXG4gICAgICAgICAgICB4OiBlLmNsaWVudFgsXG4gICAgICAgICAgICB5OiBlLmNsaWVudFksXG4gICAgICAgICAgICBvcGVyYXRpb24sXG4gICAgICAgIH07XG4gICAgfVxufVxuXG4vKipcbiAqIERyYWcgaXRhcmF0aW9uXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR8VG91Y2hFdmVudH0gZSBcbiAqL1xuZnVuY3Rpb24gZHJhZyhlKSB7XG4gICAgY3VycmVudC5vcGVyYXRpb24oZSwgY3VycmVudCk7XG59XG5cbi8qKlxuICogRW5kIGRyYWdcbiAqIEBwYXJhbSB7TW91c2VFdmVudHxUb3VjaEV2ZW50fSBlIFxuICovXG5mdW5jdGlvbiBlbmQoZSkge1xuICAgIGxldCBlZGl0b3IgPSBjdXJyZW50LmVkaXRvcjtcbiAgICBjdXJyZW50Lm9wZXJhdGlvbihlLCBjdXJyZW50KTtcbiAgICBpZiAoZWRpdG9yLmhpc3RvcnlQdXNoICYmIGN1cnJlbnQubWF0cml4KSB7XG4gICAgICAgIGVkaXRvci5oaXN0b3J5UHVzaCh7XG4gICAgICAgICAgICB1bmRvLFxuICAgICAgICAgICAgcmVkbyxcbiAgICAgICAgICAgIHByZXY6IGN1cnJlbnQubWF0cml4LFxuICAgICAgICAgICAgbmV4dDogZ2V0U2VsZWN0aW9uVHJhbnNmb3JtTWFwKCksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgcHJldmVudGVkID0gZWRpdG9yLnRyaWdnZXJFdmVudCgnRHJhZ0VuZCcsIHtcbiAgICAgICAgZXZlbnQ6IGUsXG4gICAgICAgIG9wZXJhdGlvbjogY3VycmVudC5vcGVyYXRpb24sXG4gICAgfSk7XG4gICAgIXByZXZlbnRlZCAmJiBlZGl0b3IucmVmcmVzaEhlbHBlcigpO1xuICAgIGN1cnJlbnQgPSBudWxsO1xufVxuXG4vKipcbiAqIE1vdmUgb3BlcmF0aW9uXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR8VG91Y2hFdmVudH0gZSBcbiAqL1xuZnVuY3Rpb24gbW92ZShlKSB7XG4gICAgbGV0IGVkaXRvciA9IGN1cnJlbnQuZWRpdG9yO1xuICAgIGxldCBkeCA9IGUuY2xpZW50WCAtIGN1cnJlbnQueDtcbiAgICBsZXQgZHkgPSBlLmNsaWVudFkgLSBjdXJyZW50Lnk7XG4gICAgbGV0IGxvY2FsID0gdW5pdHNSb290VG9Mb2NhbChlZGl0b3IsIHJlY3RDcmVhdGUoMCwgMCwgZHgsIGR5KSk7XG4gICAgc2F2ZU1hdHJpeCgpO1xuICAgIGVkaXRvci5zZWxlY3Rpb24uZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgbGV0IG1hdHJpeCA9IGN1cnJlbnQubWF0cml4LmdldChpdGVtKTtcbiAgICAgICAgbWF0cml4ID0gbWF0cml4Q3JlYXRlKCkudHJhbnNsYXRlU2VsZihsb2NhbC53aWR0aCwgbG9jYWwuaGVpZ2h0KS5tdWx0aXBseVNlbGYobWF0cml4KTtcbiAgICAgICAgc2V0VHJhbnNmb3JtKGl0ZW0sIG1hdHJpeCk7XG4gICAgfSk7XG4gICAgbGV0IG1hdHJpeCA9IG1hdHJpeENyZWF0ZSgpLnRyYW5zbGF0ZVNlbGYoZHgsIGR5KTtcbiAgICB0cmFuc2Zvcm1IZWxwZXIoZWRpdG9yLCBtYXRyaXgpO1xufVxuXG4vKipcbiAqIFJvdGF0ZSBvcGVyYXRpb25cbiAqIEBwYXJhbSB7TW91c2VFdmVudHxUb3VjaEV2ZW50fSBlIFxuICovXG5mdW5jdGlvbiByb3RhdGUoZSkge1xuICAgIGxldCBlZGl0b3IgPSBjdXJyZW50LmVkaXRvcjtcbiAgICBsZXQgY3IgPSBwb2ludEdldENlbnRlcihlZGl0b3IuaGVscGVyUG9pbnRzKTtcbiAgICBsZXQgY3YgPSB1bml0c1Jvb3RUb1ZpZXdwb3J0KGVkaXRvciwgY3IpO1xuICAgIGxldCBjbCA9IHVuaXRzUm9vdFRvTG9jYWwoZWRpdG9yLCBjcik7XG4gICAgbGV0IGEgID0gTWF0aC5hdGFuMihjdi55IC0gZS5jbGllbnRZLCBlLmNsaWVudFggLSBjdi54KTtcbiAgICBhIC09IE1hdGguYXRhbjIoY3YueSAtIGN1cnJlbnQueSwgY3VycmVudC54IC0gY3YueCk7XG4gICAgaWYgKGEgPCAtTWF0aC5QSSkge1xuICAgICAgICBhICs9IDIgKiBNYXRoLlBJO1xuICAgIH1cbiAgICBzYXZlTWF0cml4KCk7XG4gICAgZWRpdG9yLnNlbGVjdGlvbi5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBsZXQgbWF0cml4ID0gY3VycmVudC5tYXRyaXguZ2V0KGl0ZW0pO1xuICAgICAgICBtYXRyaXggPSBtYXRyaXhDcmVhdGUoKVxuICAgICAgICAgICAgLnRyYW5zbGF0ZVNlbGYoY2wueCwgY2wueSlcbiAgICAgICAgICAgIC5yb3RhdGVTZWxmKC1hICogMTgwIC8gTWF0aC5QSSlcbiAgICAgICAgICAgIC50cmFuc2xhdGVTZWxmKC1jbC54LCAtY2wueSlcbiAgICAgICAgICAgIC5tdWx0aXBseVNlbGYobWF0cml4KTtcbiAgICAgICAgc2V0VHJhbnNmb3JtKGl0ZW0sIG1hdHJpeCk7XG4gICAgfSk7XG4gICAgbGV0IG1hdHJpeCA9IG1hdHJpeENyZWF0ZSgpXG4gICAgICAgIC50cmFuc2xhdGVTZWxmKGNyLngsIGNyLnkpXG4gICAgICAgIC5yb3RhdGVTZWxmKC1hICogMTgwIC8gTWF0aC5QSSlcbiAgICAgICAgLnRyYW5zbGF0ZVNlbGYoLWNyLngsIC1jci55KTtcbiAgICB0cmFuc2Zvcm1IZWxwZXIoZWRpdG9yLCBtYXRyaXgpO1xufVxuXG4vKipcbiAqIFNjYWxlIG9wZXJhdGlvblxuICogQHBhcmFtIHtNb3VzZUV2ZW50fFRvdWNoRXZlbnR9IGUgXG4gKi9cbmZ1bmN0aW9uIHNjYWxlKGUpIHtcbiAgICBsZXQgZWRpdG9yID0gY3VycmVudC5lZGl0b3I7XG4gICAgbGV0IGNyID0gcG9pbnRHZXRDZW50ZXIoZWRpdG9yLmhlbHBlclBvaW50cyk7XG4gICAgbGV0IGN2ID0gdW5pdHNSb290VG9WaWV3cG9ydChlZGl0b3IsIGNyKTtcbiAgICBsZXQgY2wgPSB1bml0c1Jvb3RUb0xvY2FsKGVkaXRvciwgY3IpO1xuICAgIGxldCByMSA9IHBvaW50RGlzdGFuY2UocG9pbnRDcmVhdGUoZS5jbGllbnRYLCBlLmNsaWVudFkpLCBjdik7XG4gICAgbGV0IHIwID0gcG9pbnREaXN0YW5jZShwb2ludENyZWF0ZShjdXJyZW50LngsIGN1cnJlbnQueSksIGN2KTtcbiAgICBsZXQgc2NhbGUgPSByMSAvIHIwO1xuICAgIHNhdmVNYXRyaXgoKTtcbiAgICBlZGl0b3Iuc2VsZWN0aW9uLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIGxldCBtYXRyaXggPSBjdXJyZW50Lm1hdHJpeC5nZXQoaXRlbSk7XG4gICAgICAgIG1hdHJpeCA9IG1hdHJpeENyZWF0ZSgpXG4gICAgICAgICAgICAudHJhbnNsYXRlU2VsZihjbC54LCBjbC55KVxuICAgICAgICAgICAgLnNjYWxlU2VsZihzY2FsZSlcbiAgICAgICAgICAgIC50cmFuc2xhdGVTZWxmKC1jbC54LCAtY2wueSlcbiAgICAgICAgICAgIC5tdWx0aXBseVNlbGYobWF0cml4KTtcbiAgICAgICAgc2V0VHJhbnNmb3JtKGl0ZW0sIG1hdHJpeCk7XG4gICAgfSk7XG4gICAgbGV0IG1hdHJpeCA9IG1hdHJpeENyZWF0ZSgpXG4gICAgICAgIC50cmFuc2xhdGVTZWxmKGNyLngsIGNyLnkpXG4gICAgICAgIC5zY2FsZVNlbGYoc2NhbGUpXG4gICAgICAgIC50cmFuc2xhdGVTZWxmKC1jci54LCAtY3IueSk7XG4gICAgdHJhbnNmb3JtSGVscGVyKGVkaXRvciwgbWF0cml4KTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gbWFwIG9mIHRyYW5zZm9ybSBtYXRyaXggZm9yIHNlbGVjdGlvblxuICovXG5mdW5jdGlvbiBnZXRTZWxlY3Rpb25UcmFuc2Zvcm1NYXAoKSB7XG4gICAgbGV0IG1hcCA9IG5ldyBNYXAoKTtcbiAgICBjdXJyZW50LmVkaXRvci5zZWxlY3Rpb24uZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgbWFwLnNldChpdGVtLCBtYXRyaXhHZXRUcmFuZm9ybUZvckVsZW1lbnQoaXRlbSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBtYXA7XG59XG5cbi8qKlxuICogU2F2ZSB0cmFuc2Zvcm0gb24gZHJhZyBzdGFydFxuICovXG5mdW5jdGlvbiBzYXZlTWF0cml4KCkge1xuICAgIGlmICghY3VycmVudC5tYXRyaXgpIHtcbiAgICAgICAgY3VycmVudC5tYXRyaXggPSBnZXRTZWxlY3Rpb25UcmFuc2Zvcm1NYXAoKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGVtcG9yYXJ5IHRyYW5zZm9ybSBoZWxwZXJcbiAqIEBwYXJhbSB7RWRpdG9yfSBlZGl0b3JcbiAqIEBwYXJhbSB7RE9NTWF0cml4fSBtYXRyaXggXG4gKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybUhlbHBlcihlZGl0b3IsIG1hdHJpeCkge1xuICAgIGhlbHBlclJlbW92ZShlZGl0b3IpO1xuICAgIGxldCBwb2ludHMgPSBlZGl0b3IuaGVscGVyUG9pbnRzLnNsaWNlKCk7XG4gICAgcG9pbnRzLmZvckVhY2goKHBvaW50LCBpKSA9PiB7XG4gICAgICAgIHBvaW50c1tpXSA9IHBvaW50QXBwbHlNYXRyaXgocG9pbnQsIG1hdHJpeCk7XG4gICAgfSk7XG4gICAgaGVscGVyQ3JlYXRlQnlQb2ludHMoZWRpdG9yLCBwb2ludHMpO1xufVxuXG4vKipcbiAqIEFwcGx5IGRyYWcgdW5kb1xuICogQHBhcmFtIHtFZGl0b3J9IGVkaXRvclxuICogQHBhcmFtIHtPYmplY3R9IGRhdGEgXG4gKi9cbmZ1bmN0aW9uIHVuZG8oZWRpdG9yLCBkYXRhKSB7XG4gICAgZGF0YS5wcmV2LmZvckVhY2goKG1hdHJpeCwgaXRlbSkgPT4ge1xuICAgICAgICBzZXRUcmFuc2Zvcm0oaXRlbSwgbWF0cml4KTtcbiAgICB9KTtcbiAgICBlZGl0b3IucmVmcmVzaEhlbHBlcigpO1xufVxuXG4vKipcbiAqIEFwcGx5IGRyYWcgcmVkb1xuICogQHBhcmFtIHtFZGl0b3J9IGVkaXRvclxuICogQHBhcmFtIHtPYmplY3R9IGRhdGEgXG4gKi9cbmZ1bmN0aW9uIHJlZG8oZWRpdG9yLCBkYXRhKSB7XG4gICAgZGF0YS5uZXh0LmZvckVhY2goKG1hdHJpeCwgaXRlbSkgPT4ge1xuICAgICAgICBzZXRUcmFuc2Zvcm0oaXRlbSwgbWF0cml4KTtcbiAgICB9KTtcbiAgICBlZGl0b3IucmVmcmVzaEhlbHBlcigpO1xufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/libs/drag.js\n");

/***/ }),

/***/ "./src/libs/event-context.js":
/*!***********************************!*\
  !*** ./src/libs/event-context.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return eventContext; });\n/* harmony import */ var polyshim_shim_closest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! polyshim/shim/closest */ \"./node_modules/polyshim/shim/closest.js\");\n\n/**\n * @param {Event} target\n * @param {string} selector\n * @returns {?Element}\n */\n\nfunction eventContext(event, selector) {\n  var target = event.target;\n\n  if (target instanceof Element) {\n    return polyshim_shim_closest__WEBPACK_IMPORTED_MODULE_0__[\"default\"].call(target, selector);\n  }\n\n  return null;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGlicy9ldmVudC1jb250ZXh0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xpYnMvZXZlbnQtY29udGV4dC5qcz8xOTE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjbG9zZXN0IGZyb20gJ3BvbHlzaGltL3NoaW0vY2xvc2VzdCc7XG5cbi8qKlxuICogQHBhcmFtIHtFdmVudH0gdGFyZ2V0XG4gKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3JcbiAqIEByZXR1cm5zIHs/RWxlbWVudH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXZlbnRDb250ZXh0KGV2ZW50LCBzZWxlY3Rvcikge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gY2xvc2VzdC5jYWxsKHRhcmdldCwgc2VsZWN0b3IpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/libs/event-context.js\n");

/***/ }),

/***/ "./src/libs/helper.js":
/*!****************************!*\
  !*** ./src/libs/helper.js ***!
  \****************************/
/*! exports provided: helperCreate, helperRemove, helperGetPointsForItem, helperGetPointsForSelection, helperCreateByPoints */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"helperCreate\", function() { return helperCreate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"helperRemove\", function() { return helperRemove; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"helperGetPointsForItem\", function() { return helperGetPointsForItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"helperGetPointsForSelection\", function() { return helperGetPointsForSelection; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"helperCreateByPoints\", function() { return helperCreateByPoints; });\n/* harmony import */ var _point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./point */ \"./src/libs/point.js\");\n/* harmony import */ var _rect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rect */ \"./src/libs/rect.js\");\n/* harmony import */ var _matrix__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./matrix */ \"./src/libs/matrix.js\");\n/* harmony import */ var _units__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./units */ \"./src/libs/units.js\");\n/* harmony import */ var _classes_Editor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../classes/Editor */ \"./src/classes/Editor.js\");\n\n\n\n\n\n/**\n * Create helper for current selection\n * @param {Editor} editor \n */\n\nfunction helperCreate(editor) {\n  var points;\n\n  if (editor.selection.length === 0) {\n    editor.helperPoints = [];\n    return;\n  }\n\n  if (editor.selection.length === 1) {\n    points = helperGetPointsForItem(editor, editor.selection[0]);\n  } else {\n    points = helperGetPointsForSelection(editor);\n  }\n\n  editor.helperPoints = points;\n  helperCreateByPoints(editor, points);\n}\n/**\n * Remove helper\n * @param {Editor} editor \n */\n\nfunction helperRemove(editor) {\n  if (editor.helper) {\n    editor.helpers.removeChild(editor.helper);\n    editor.helper = null;\n  }\n}\n/**\n * Get helper corner points for item\n * @param {Editor} editor \n * @param {SVGElement} item\n * @param {SVGElement} [boundItem]\n */\n\nfunction helperGetPointsForItem(editor, item, boundItem) {\n  var bound = (boundItem || item).getBBox();\n  var points = Object(_rect__WEBPACK_IMPORTED_MODULE_1__[\"rectCorners\"])(bound);\n  var matrix = Object(_matrix__WEBPACK_IMPORTED_MODULE_2__[\"matrixGetTranformForElement\"])(item);\n  points.forEach(function (point, i) {\n    point = Object(_point__WEBPACK_IMPORTED_MODULE_0__[\"pointApplyMatrix\"])(point, matrix);\n    point = Object(_units__WEBPACK_IMPORTED_MODULE_3__[\"unitsLocalToRoot\"])(editor, point);\n    points[i] = point;\n  });\n  return points;\n}\n/**\n * Get helper corner points for selection\n * @param {Editor} editor \n */\n\nfunction helperGetPointsForSelection(editor) {\n  var bound = Object(_rect__WEBPACK_IMPORTED_MODULE_1__[\"rectBoundingClientRectMultiple\"])(editor.selection);\n  bound = Object(_units__WEBPACK_IMPORTED_MODULE_3__[\"unitsViewportToRoot\"])(editor, bound);\n  return Object(_rect__WEBPACK_IMPORTED_MODULE_1__[\"rectCorners\"])(bound);\n}\n/**\n * Create helper by corner points\n * @param {Editor} editor\n * @param {DOMPoint[]} points\n */\n\nfunction helperCreateByPoints(editor, points) {\n  if (!_classes_Editor__WEBPACK_IMPORTED_MODULE_4__[\"settings\"].createHelper) {\n    throw new Error('createHelper is not set');\n  }\n\n  var helper = _classes_Editor__WEBPACK_IMPORTED_MODULE_4__[\"settings\"].createHelper(editor, points);\n  editor.helper = helper;\n  editor.helpers.appendChild(helper);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGlicy9oZWxwZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGlicy9oZWxwZXIuanM/NmI2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3BvaW50QXBwbHlNYXRyaXh9IGZyb20gJy4vcG9pbnQnO1xuaW1wb3J0IHtyZWN0Q29ybmVycywgcmVjdEJvdW5kaW5nQ2xpZW50UmVjdE11bHRpcGxlfSBmcm9tICcuL3JlY3QnO1xuaW1wb3J0IHttYXRyaXhHZXRUcmFuZm9ybUZvckVsZW1lbnR9IGZyb20gJy4vbWF0cml4JztcbmltcG9ydCB7dW5pdHNMb2NhbFRvUm9vdCwgdW5pdHNWaWV3cG9ydFRvUm9vdH0gZnJvbSAnLi91bml0cyc7XG5pbXBvcnQge3NldHRpbmdzfSBmcm9tICcuLi9jbGFzc2VzL0VkaXRvcic7XG5cbi8qKlxuICogQ3JlYXRlIGhlbHBlciBmb3IgY3VycmVudCBzZWxlY3Rpb25cbiAqIEBwYXJhbSB7RWRpdG9yfSBlZGl0b3IgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZWxwZXJDcmVhdGUoZWRpdG9yKSB7XG4gICAgbGV0IHBvaW50cztcbiAgICBpZiAoZWRpdG9yLnNlbGVjdGlvbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZWRpdG9yLmhlbHBlclBvaW50cyA9IFtdO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChlZGl0b3Iuc2VsZWN0aW9uLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBwb2ludHMgPSBoZWxwZXJHZXRQb2ludHNGb3JJdGVtKGVkaXRvciwgZWRpdG9yLnNlbGVjdGlvblswXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcG9pbnRzID0gaGVscGVyR2V0UG9pbnRzRm9yU2VsZWN0aW9uKGVkaXRvcik7XG4gICAgfVxuICAgIGVkaXRvci5oZWxwZXJQb2ludHMgPSBwb2ludHM7XG4gICAgaGVscGVyQ3JlYXRlQnlQb2ludHMoZWRpdG9yLCBwb2ludHMpO1xufVxuXG4vKipcbiAqIFJlbW92ZSBoZWxwZXJcbiAqIEBwYXJhbSB7RWRpdG9yfSBlZGl0b3IgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZWxwZXJSZW1vdmUoZWRpdG9yKSB7XG4gICAgaWYgKGVkaXRvci5oZWxwZXIpIHtcbiAgICAgICAgZWRpdG9yLmhlbHBlcnMucmVtb3ZlQ2hpbGQoZWRpdG9yLmhlbHBlcik7XG4gICAgICAgIGVkaXRvci5oZWxwZXIgPSBudWxsO1xuICAgIH1cbn1cblxuLyoqXG4gKiBHZXQgaGVscGVyIGNvcm5lciBwb2ludHMgZm9yIGl0ZW1cbiAqIEBwYXJhbSB7RWRpdG9yfSBlZGl0b3IgXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGl0ZW1cbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gW2JvdW5kSXRlbV1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhlbHBlckdldFBvaW50c0Zvckl0ZW0oZWRpdG9yLCBpdGVtLCBib3VuZEl0ZW0pIHtcbiAgICBsZXQgYm91bmQgPSAoYm91bmRJdGVtIHx8IGl0ZW0pLmdldEJCb3goKTtcbiAgICBsZXQgcG9pbnRzID0gcmVjdENvcm5lcnMoYm91bmQpO1xuICAgIGxldCBtYXRyaXggPSBtYXRyaXhHZXRUcmFuZm9ybUZvckVsZW1lbnQoaXRlbSk7XG4gICAgcG9pbnRzLmZvckVhY2goKHBvaW50LCBpKSA9PiB7XG4gICAgICAgIHBvaW50ID0gcG9pbnRBcHBseU1hdHJpeChwb2ludCwgbWF0cml4KTtcbiAgICAgICAgcG9pbnQgPSB1bml0c0xvY2FsVG9Sb290KGVkaXRvciwgcG9pbnQpO1xuICAgICAgICBwb2ludHNbaV0gPSBwb2ludDtcbiAgICB9KTtcbiAgICByZXR1cm4gcG9pbnRzO1xufVxuXG4vKipcbiAqIEdldCBoZWxwZXIgY29ybmVyIHBvaW50cyBmb3Igc2VsZWN0aW9uXG4gKiBAcGFyYW0ge0VkaXRvcn0gZWRpdG9yIFxuICovXG5leHBvcnQgZnVuY3Rpb24gaGVscGVyR2V0UG9pbnRzRm9yU2VsZWN0aW9uKGVkaXRvcikge1xuICAgIGxldCBib3VuZCA9IHJlY3RCb3VuZGluZ0NsaWVudFJlY3RNdWx0aXBsZShlZGl0b3Iuc2VsZWN0aW9uKTtcbiAgICBib3VuZCA9IHVuaXRzVmlld3BvcnRUb1Jvb3QoZWRpdG9yLCBib3VuZCk7XG4gICAgcmV0dXJuIHJlY3RDb3JuZXJzKGJvdW5kKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgaGVscGVyIGJ5IGNvcm5lciBwb2ludHNcbiAqIEBwYXJhbSB7RWRpdG9yfSBlZGl0b3JcbiAqIEBwYXJhbSB7RE9NUG9pbnRbXX0gcG9pbnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZWxwZXJDcmVhdGVCeVBvaW50cyhlZGl0b3IsIHBvaW50cykge1xuICAgIGlmICghc2V0dGluZ3MuY3JlYXRlSGVscGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY3JlYXRlSGVscGVyIGlzIG5vdCBzZXQnKTtcbiAgICB9XG4gICAgbGV0IGhlbHBlciA9IHNldHRpbmdzLmNyZWF0ZUhlbHBlcihlZGl0b3IsIHBvaW50cyk7XG4gICAgZWRpdG9yLmhlbHBlciA9IGhlbHBlcjtcbiAgICBlZGl0b3IuaGVscGVycy5hcHBlbmRDaGlsZChoZWxwZXIpO1xufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/libs/helper.js\n");

/***/ }),

/***/ "./src/libs/history.js":
/*!*****************************!*\
  !*** ./src/libs/history.js ***!
  \*****************************/
/*! exports provided: historyRegister */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"historyRegister\", function() { return historyRegister; });\n/* harmony import */ var _libs_event_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../libs/event-context */ \"./src/libs/event-context.js\");\n/* harmony import */ var _classes_Editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../classes/Editor */ \"./src/classes/Editor.js\");\n\n // minify\n\nvar doc = document;\n/**\n * Register\n */\n\nfunction historyRegister() {\n  doc.addEventListener('click', onClick);\n}\n/**\n * click event handler\n * @param {Event} e \n */\n\nfunction onClick(e) {\n  var sel = '.' + _classes_Editor__WEBPACK_IMPORTED_MODULE_1__[\"settings\"].base;\n  var el = Object(_libs_event_context__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, sel);\n  var editor = el && _classes_Editor__WEBPACK_IMPORTED_MODULE_1__[\"Editor\"].getInstance(el);\n\n  if (editor) {\n    el = Object(_libs_event_context__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, \"\".concat(sel, \"__undo\"));\n    el && editor.undo();\n    el = Object(_libs_event_context__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, \"\".concat(sel, \"__redo\"));\n    el && editor.redo();\n  }\n}\n/**\n * @param {Object} item\n */\n\n\n_classes_Editor__WEBPACK_IMPORTED_MODULE_1__[\"Editor\"].prototype.historyPush = function (item) {\n  var cur = this._history || [];\n  var pos = this._historyPos || 0;\n  cur.splice(pos);\n  this._history = cur;\n  this._historyPos = cur.push(item);\n};\n/**\n */\n\n\n_classes_Editor__WEBPACK_IMPORTED_MODULE_1__[\"Editor\"].prototype.undo = function () {\n  var editor = this;\n  var item = editor._history[(editor._historyPos || 0) - 1];\n\n  if (item) {\n    item.undo(editor, item);\n    editor._historyPos--;\n  }\n};\n/**\n */\n\n\n_classes_Editor__WEBPACK_IMPORTED_MODULE_1__[\"Editor\"].prototype.redo = function () {\n  var editor = this;\n  var item = editor._history[editor._historyPos || 0];\n\n  if (item) {\n    item.redo(editor, item);\n    editor._historyPos++;\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGlicy9oaXN0b3J5LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xpYnMvaGlzdG9yeS5qcz9jNmFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBldmVudENvbnRleHQgZnJvbSAnLi4vbGlicy9ldmVudC1jb250ZXh0JztcbmltcG9ydCB7c2V0dGluZ3MsIEVkaXRvcn0gZnJvbSAnLi4vY2xhc3Nlcy9FZGl0b3InO1xuXG4vLyBtaW5pZnlcbmNvbnN0IGRvYyA9IGRvY3VtZW50O1xuXG4vKipcbiAqIFJlZ2lzdGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoaXN0b3J5UmVnaXN0ZXIoKSB7XG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGljayk7XG59XG5cbi8qKlxuICogY2xpY2sgZXZlbnQgaGFuZGxlclxuICogQHBhcmFtIHtFdmVudH0gZSBcbiAqL1xuZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgY29uc3Qgc2VsID0gJy4nICsgc2V0dGluZ3MuYmFzZTtcbiAgICBsZXQgZWwgPSBldmVudENvbnRleHQoZSwgc2VsKTtcbiAgICBsZXQgZWRpdG9yID0gZWwgJiYgRWRpdG9yLmdldEluc3RhbmNlKGVsKTtcbiAgICBpZiAoZWRpdG9yKSB7XG4gICAgICAgIGVsID0gZXZlbnRDb250ZXh0KGUsIGAke3NlbH1fX3VuZG9gKTtcbiAgICAgICAgZWwgJiYgZWRpdG9yLnVuZG8oKTtcbiAgICAgICAgZWwgPSBldmVudENvbnRleHQoZSwgYCR7c2VsfV9fcmVkb2ApO1xuICAgICAgICBlbCAmJiBlZGl0b3IucmVkbygpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gaXRlbVxuICovXG5FZGl0b3IucHJvdG90eXBlLmhpc3RvcnlQdXNoID0gZnVuY3Rpb24oaXRlbSkge1xuICAgIGxldCBjdXIgPSB0aGlzLl9oaXN0b3J5ICAgIHx8IFtdO1xuICAgIGxldCBwb3MgPSB0aGlzLl9oaXN0b3J5UG9zIHx8IDA7XG4gICAgY3VyLnNwbGljZShwb3MpO1xuICAgIHRoaXMuX2hpc3RvcnkgICAgPSBjdXI7XG4gICAgdGhpcy5faGlzdG9yeVBvcyA9IGN1ci5wdXNoKGl0ZW0pO1xufTtcblxuLyoqXG4gKi9cbkVkaXRvci5wcm90b3R5cGUudW5kbyA9IGZ1bmN0aW9uKCkge1xuICAgIGxldCBlZGl0b3IgPSB0aGlzO1xuICAgIGxldCBpdGVtID0gZWRpdG9yLl9oaXN0b3J5WyhlZGl0b3IuX2hpc3RvcnlQb3MgfHwgMCkgLSAxXTtcbiAgICBpZiAoaXRlbSkge1xuICAgICAgICBpdGVtLnVuZG8oZWRpdG9yLCBpdGVtKTtcbiAgICAgICAgZWRpdG9yLl9oaXN0b3J5UG9zLS07XG4gICAgfVxufTtcblxuLyoqXG4gKi9cbkVkaXRvci5wcm90b3R5cGUucmVkbyA9IGZ1bmN0aW9uKCkge1xuICAgIGxldCBlZGl0b3IgPSB0aGlzO1xuICAgIGxldCBpdGVtID0gZWRpdG9yLl9oaXN0b3J5W2VkaXRvci5faGlzdG9yeVBvcyB8fCAwXTtcbiAgICBpZiAoaXRlbSkge1xuICAgICAgICBpdGVtLnJlZG8oZWRpdG9yLCBpdGVtKTtcbiAgICAgICAgZWRpdG9yLl9oaXN0b3J5UG9zKys7XG4gICAgfVxufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/libs/history.js\n");

/***/ }),

/***/ "./src/libs/insert-image.js":
/*!**********************************!*\
  !*** ./src/libs/insert-image.js ***!
  \**********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _misc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./misc */ \"./src/libs/misc.js\");\n/* harmony import */ var _classes_Editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../classes/Editor */ \"./src/classes/Editor.js\");\n\n\n/**\n * @param   {String} text\n * @param   {Object} [params]\n * @returns {SVGImageElement}\n */\n\n_classes_Editor__WEBPACK_IMPORTED_MODULE_1__[\"Editor\"].prototype.insertImageUrl = function (url) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var editor = this;\n  var image = Object(_misc__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])('image', true);\n\n  image.onload = function () {\n    ['x', 'y', 'width', 'height'].forEach(function (attr) {\n      if (params[attr] !== undefined) {\n        image.setAttribute(attr, params[attr]);\n      }\n    });\n    var context = params.context || editor.svg;\n    var beforeInsert = params.beforeInsert;\n    beforeInsert && beforeInsert(image, context, params);\n    context.appendChild(image);\n    var bound = params.bound;\n\n    if (bound) {\n      var rect = image.getBBox();\n      var scale = Math.min(bound.width / rect.width, bound.height / rect.height);\n      var w = rect.width * scale;\n      var h = rect.height * scale;\n      var x = bound.x + (bound.width - w) / 2;\n      var y = bound.y + (bound.height - h) / 2;\n      image.setAttribute('x', x);\n      image.setAttribute('y', y);\n      image.setAttribute('width', w);\n      image.setAttribute('height', h);\n    }\n\n    editor.selectElement(image);\n\n    if (editor.historyPush) {\n      editor.historyPush({\n        undo: undo,\n        redo: redo,\n        element: element,\n        context: context\n      });\n    }\n  };\n\n  image.setAttribute('href', url);\n  return image;\n};\n/**\n * @param {Object} params\n */\n\n\n_classes_Editor__WEBPACK_IMPORTED_MODULE_1__[\"Editor\"].prototype.insertImageUpload = function () {\n  var _this = this;\n\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var input = Object(_misc__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])('input');\n  input.type = 'file';\n\n  input.onchange = function () {\n    var file = input.files[0];\n    var fileFilter = params.fileFilter;\n\n    if (fileFilter) {\n      file = fileFilter(file, params);\n    }\n\n    if (file) {\n      if (params.blobUrl) {\n        _this.insertImageUrl(URL.createObjectURL(file), params);\n      } else {\n        var reader = new FileReader();\n\n        reader.onload = function () {\n          _this.insertImageUrl(reader.result, params);\n        };\n\n        reader.readAsDataURL(file);\n      }\n    }\n  };\n\n  input.click();\n};\n/**\n * @param {Editor} editor \n * @param {Object} data \n */\n\n\nfunction undo(editor, data) {\n  data.element.parentNode.removeChild(data.element);\n  editor.selectElement(null);\n  editor.refreshHelper();\n}\n/**\n * @param {Editor} editor \n * @param {Object} data \n */\n\n\nfunction redo(editor, data) {\n  data.context.appendChild(data.element);\n  editor.selectElement(null);\n  editor.refreshHelper();\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGlicy9pbnNlcnQtaW1hZ2UuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGlicy9pbnNlcnQtaW1hZ2UuanM/MDhkMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2NyZWF0ZUVsZW1lbnR9IGZyb20gJy4vbWlzYyc7XG5pbXBvcnQge0VkaXRvcn0gZnJvbSAnLi4vY2xhc3Nlcy9FZGl0b3InO1xuXG4vKipcbiAqIEBwYXJhbSAgIHtTdHJpbmd9IHRleHRcbiAqIEBwYXJhbSAgIHtPYmplY3R9IFtwYXJhbXNdXG4gKiBAcmV0dXJucyB7U1ZHSW1hZ2VFbGVtZW50fVxuICovXG5FZGl0b3IucHJvdG90eXBlLmluc2VydEltYWdlVXJsID0gZnVuY3Rpb24odXJsLCBwYXJhbXMgPSB7fSkge1xuICAgIGxldCBlZGl0b3IgPSB0aGlzO1xuICAgIGxldCBpbWFnZSA9IGNyZWF0ZUVsZW1lbnQoJ2ltYWdlJywgdHJ1ZSk7XG4gICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIFsneCcsICd5JywgJ3dpZHRoJywgJ2hlaWdodCddLmZvckVhY2goYXR0ciA9PiB7XG4gICAgICAgICAgICBpZiAocGFyYW1zW2F0dHJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoYXR0ciwgcGFyYW1zW2F0dHJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBjb250ZXh0ID0gcGFyYW1zLmNvbnRleHQgfHwgZWRpdG9yLnN2ZztcbiAgICAgICAgbGV0IGJlZm9yZUluc2VydCA9IHBhcmFtcy5iZWZvcmVJbnNlcnQ7XG4gICAgICAgIGJlZm9yZUluc2VydCAmJiBiZWZvcmVJbnNlcnQoaW1hZ2UsIGNvbnRleHQsIHBhcmFtcyk7XG4gICAgICAgIGNvbnRleHQuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xuICAgICAgICBsZXQgYm91bmQgPSBwYXJhbXMuYm91bmQ7XG4gICAgICAgIGlmIChib3VuZCkge1xuICAgICAgICAgICAgbGV0IHJlY3QgPSBpbWFnZS5nZXRCQm94KCk7XG4gICAgICAgICAgICBsZXQgc2NhbGUgPSBNYXRoLm1pbihib3VuZC53aWR0aCAvIHJlY3Qud2lkdGgsIGJvdW5kLmhlaWdodCAvIHJlY3QuaGVpZ2h0KTtcbiAgICAgICAgICAgIGxldCB3ID0gcmVjdC53aWR0aCAgKiBzY2FsZTtcbiAgICAgICAgICAgIGxldCBoID0gcmVjdC5oZWlnaHQgKiBzY2FsZTtcbiAgICAgICAgICAgIGxldCB4ID0gYm91bmQueCArIChib3VuZC53aWR0aCAgLSB3KSAvIDI7XG4gICAgICAgICAgICBsZXQgeSA9IGJvdW5kLnkgKyAoYm91bmQuaGVpZ2h0IC0gaCkgLyAyO1xuICAgICAgICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKCd4JywgICAgICB4KTtcbiAgICAgICAgICAgIGltYWdlLnNldEF0dHJpYnV0ZSgneScsICAgICAgeSk7XG4gICAgICAgICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgIHcpO1xuICAgICAgICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBoKTtcbiAgICAgICAgfVxuICAgICAgICBlZGl0b3Iuc2VsZWN0RWxlbWVudChpbWFnZSk7XG4gICAgICAgIGlmIChlZGl0b3IuaGlzdG9yeVB1c2gpIHtcbiAgICAgICAgICAgIGVkaXRvci5oaXN0b3J5UHVzaCh7dW5kbywgcmVkbywgZWxlbWVudCwgY29udGV4dH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCB1cmwpO1xuICAgIHJldHVybiBpbWFnZTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtc1xuICovXG5FZGl0b3IucHJvdG90eXBlLmluc2VydEltYWdlVXBsb2FkID0gZnVuY3Rpb24ocGFyYW1zID0ge30pIHtcbiAgICBsZXQgaW5wdXQgPSBjcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGlucHV0LnR5cGUgPSAnZmlsZSc7XG4gICAgaW5wdXQub25jaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgIGxldCBmaWxlID0gaW5wdXQuZmlsZXNbMF07XG4gICAgICAgIGxldCBmaWxlRmlsdGVyID0gcGFyYW1zLmZpbGVGaWx0ZXI7XG4gICAgICAgIGlmIChmaWxlRmlsdGVyKSB7XG4gICAgICAgICAgICBmaWxlID0gZmlsZUZpbHRlcihmaWxlLCBwYXJhbXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWxlKSB7XG4gICAgICAgICAgICBpZiAocGFyYW1zLmJsb2JVcmwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluc2VydEltYWdlVXJsKFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSksIHBhcmFtcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0SW1hZ2VVcmwocmVhZGVyLnJlc3VsdCwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBpbnB1dC5jbGljaygpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0VkaXRvcn0gZWRpdG9yIFxuICogQHBhcmFtIHtPYmplY3R9IGRhdGEgXG4gKi9cbmZ1bmN0aW9uIHVuZG8oZWRpdG9yLCBkYXRhKSB7XG4gICAgZGF0YS5lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZGF0YS5lbGVtZW50KTtcbiAgICBlZGl0b3Iuc2VsZWN0RWxlbWVudChudWxsKTtcbiAgICBlZGl0b3IucmVmcmVzaEhlbHBlcigpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWRpdG9yfSBlZGl0b3IgXG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YSBcbiAqL1xuZnVuY3Rpb24gcmVkbyhlZGl0b3IsIGRhdGEpIHtcbiAgICBkYXRhLmNvbnRleHQuYXBwZW5kQ2hpbGQoZGF0YS5lbGVtZW50KTtcbiAgICBlZGl0b3Iuc2VsZWN0RWxlbWVudChudWxsKTtcbiAgICBlZGl0b3IucmVmcmVzaEhlbHBlcigpO1xufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/libs/insert-image.js\n");

/***/ }),

/***/ "./src/libs/insert-text.js":
/*!*********************************!*\
  !*** ./src/libs/insert-text.js ***!
  \*********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _misc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./misc */ \"./src/libs/misc.js\");\n/* harmony import */ var _classes_Editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../classes/Editor */ \"./src/classes/Editor.js\");\n\n\n/**\n * @param   {String} text\n * @param   {Object} [params]\n * @returns {SVGTextElement}\n */\n\n_classes_Editor__WEBPACK_IMPORTED_MODULE_1__[\"Editor\"].prototype.insertText = function (text) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var editor = this;\n  var element = Object(_misc__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])('text', true);\n  text.split(\"\\n\").forEach(function (line, i) {\n    if (i > 0) {\n      var tspan = Object(_misc__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])('tspan', true);\n      tspan.textContent = line;\n      tspan.setAttribute('x', params.x || 0);\n      tspan.setAttribute('dy', '1em');\n      element.appendChild(tspan);\n    } else {\n      element.appendChild(document.createTextNode(line));\n    }\n  });\n  element.setAttribute('x', params.x || 0);\n  element.setAttribute('y', params.y || 0);\n  var context = params.context || editor.svg;\n  var beforeInsert = params.beforeInsert;\n  beforeInsert && beforeInsert(image, context, params);\n  context.appendChild(element);\n  var bound = params.bound;\n\n  if (bound) {\n    var rect = element.getBBox();\n    var x = bound.x + (bound.width - rect.width) / 2;\n    var y = bound.y + (bound.height - rect.height) / 2;\n    element.setAttribute('x', x);\n    element.setAttribute('y', y);\n    element.querySelectorAll('tspan').forEach(function (tspan) {\n      tspan.setAttribute('x', x);\n    });\n  }\n\n  editor.selectElement(element);\n\n  if (editor.historyPush) {\n    editor.historyPush({\n      undo: undo,\n      redo: redo,\n      element: element,\n      context: context\n    });\n  }\n\n  return element;\n};\n/**\n * @param {Editor} editor \n * @param {Object} data \n */\n\n\nfunction undo(editor, data) {\n  data.element.parentNode.removeChild(data.element);\n  editor.selectElement(null);\n  editor.refreshHelper();\n}\n/**\n * @param {Editor} editor \n * @param {Object} data \n */\n\n\nfunction redo(editor, data) {\n  data.context.appendChild(data.element);\n  editor.selectElement(null);\n  editor.refreshHelper();\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGlicy9pbnNlcnQtdGV4dC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9saWJzL2luc2VydC10ZXh0LmpzPzdkZDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtjcmVhdGVFbGVtZW50fSBmcm9tICcuL21pc2MnO1xuaW1wb3J0IHtFZGl0b3J9IGZyb20gJy4uL2NsYXNzZXMvRWRpdG9yJztcblxuLyoqXG4gKiBAcGFyYW0gICB7U3RyaW5nfSB0ZXh0XG4gKiBAcGFyYW0gICB7T2JqZWN0fSBbcGFyYW1zXVxuICogQHJldHVybnMge1NWR1RleHRFbGVtZW50fVxuICovXG5FZGl0b3IucHJvdG90eXBlLmluc2VydFRleHQgPSBmdW5jdGlvbih0ZXh0LCBwYXJhbXMgPSB7fSkge1xuICAgIGxldCBlZGl0b3IgPSB0aGlzO1xuICAgIGxldCBlbGVtZW50ID0gY3JlYXRlRWxlbWVudCgndGV4dCcsIHRydWUpO1xuICAgIHRleHQuc3BsaXQoXCJcXG5cIikuZm9yRWFjaCgobGluZSwgaSkgPT4ge1xuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIGxldCB0c3BhbiA9IGNyZWF0ZUVsZW1lbnQoJ3RzcGFuJywgdHJ1ZSk7XG4gICAgICAgICAgICB0c3Bhbi50ZXh0Q29udGVudCA9IGxpbmU7XG4gICAgICAgICAgICB0c3Bhbi5zZXRBdHRyaWJ1dGUoJ3gnLCBwYXJhbXMueCB8fCAwKTtcbiAgICAgICAgICAgIHRzcGFuLnNldEF0dHJpYnV0ZSgnZHknLCAnMWVtJyk7XG4gICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHRzcGFuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobGluZSkpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3gnLCBwYXJhbXMueCB8fCAwKTtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgneScsIHBhcmFtcy55IHx8IDApO1xuICAgIGxldCBjb250ZXh0ID0gcGFyYW1zLmNvbnRleHQgfHwgZWRpdG9yLnN2ZztcbiAgICBsZXQgYmVmb3JlSW5zZXJ0ID0gcGFyYW1zLmJlZm9yZUluc2VydDtcbiAgICBiZWZvcmVJbnNlcnQgJiYgYmVmb3JlSW5zZXJ0KGltYWdlLCBjb250ZXh0LCBwYXJhbXMpO1xuICAgIGNvbnRleHQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgbGV0IGJvdW5kID0gcGFyYW1zLmJvdW5kO1xuICAgIGlmIChib3VuZCkge1xuICAgICAgICBsZXQgcmVjdCA9IGVsZW1lbnQuZ2V0QkJveCgpO1xuICAgICAgICBsZXQgeCA9IGJvdW5kLnggKyAoYm91bmQud2lkdGggIC0gcmVjdC53aWR0aCkgIC8gMjtcbiAgICAgICAgbGV0IHkgPSBib3VuZC55ICsgKGJvdW5kLmhlaWdodCAtIHJlY3QuaGVpZ2h0KSAvIDI7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCd4JywgeCk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCd5JywgeSk7XG4gICAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgndHNwYW4nKS5mb3JFYWNoKHRzcGFuID0+IHtcbiAgICAgICAgICAgIHRzcGFuLnNldEF0dHJpYnV0ZSgneCcsIHgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWRpdG9yLnNlbGVjdEVsZW1lbnQoZWxlbWVudCk7XG4gICAgaWYgKGVkaXRvci5oaXN0b3J5UHVzaCkge1xuICAgICAgICBlZGl0b3IuaGlzdG9yeVB1c2goe3VuZG8sIHJlZG8sIGVsZW1lbnQsIGNvbnRleHR9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7RWRpdG9yfSBlZGl0b3IgXG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YSBcbiAqL1xuZnVuY3Rpb24gdW5kbyhlZGl0b3IsIGRhdGEpIHtcbiAgICBkYXRhLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkYXRhLmVsZW1lbnQpO1xuICAgIGVkaXRvci5zZWxlY3RFbGVtZW50KG51bGwpO1xuICAgIGVkaXRvci5yZWZyZXNoSGVscGVyKCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFZGl0b3J9IGVkaXRvciBcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFxuICovXG5mdW5jdGlvbiByZWRvKGVkaXRvciwgZGF0YSkge1xuICAgIGRhdGEuY29udGV4dC5hcHBlbmRDaGlsZChkYXRhLmVsZW1lbnQpO1xuICAgIGVkaXRvci5zZWxlY3RFbGVtZW50KG51bGwpO1xuICAgIGVkaXRvci5yZWZyZXNoSGVscGVyKCk7XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/libs/insert-text.js\n");

/***/ }),

/***/ "./src/libs/matrix.js":
/*!****************************!*\
  !*** ./src/libs/matrix.js ***!
  \****************************/
/*! exports provided: matrixCreate, matrixGetTranformForElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"matrixCreate\", function() { return matrixCreate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"matrixGetTranformForElement\", function() { return matrixGetTranformForElement; });\n/**\n * @param {Array|String} init \n * @returns {DOMMatrix}\n */\nfunction matrixCreate(init) {\n  var proto = window.DOMMatrix || window.WebKitCSSMatrix || window.MSCSSMatrix;\n  return new proto(init);\n}\n/**\n * Get current transform matrix for element\n * @param {SVGElement} item\n * @returns {DOMMatrix}\n */\n\nfunction matrixGetTranformForElement(item) {\n  var value = getComputedStyle(item).transform;\n\n  if (value !== 'none') {\n    return matrixCreate(value);\n  }\n\n  var m = item.transform.baseVal.consolidate();\n  m = m && m.matrix;\n\n  if (m) {\n    return matrixCreate([m.a, m.b, m.c, m.d, m.e, m.f]);\n  }\n\n  return matrixCreate();\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGlicy9tYXRyaXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGlicy9tYXRyaXguanM/ODZhMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBwYXJhbSB7QXJyYXl8U3RyaW5nfSBpbml0IFxuICogQHJldHVybnMge0RPTU1hdHJpeH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hdHJpeENyZWF0ZShpbml0KSB7XG4gICAgbGV0IHByb3RvID0gd2luZG93LkRPTU1hdHJpeCB8fCB3aW5kb3cuV2ViS2l0Q1NTTWF0cml4IHx8IHdpbmRvdy5NU0NTU01hdHJpeDtcbiAgICByZXR1cm4gbmV3IHByb3RvKGluaXQpO1xufVxuXG4vKipcbiAqIEdldCBjdXJyZW50IHRyYW5zZm9ybSBtYXRyaXggZm9yIGVsZW1lbnRcbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gaXRlbVxuICogQHJldHVybnMge0RPTU1hdHJpeH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hdHJpeEdldFRyYW5mb3JtRm9yRWxlbWVudChpdGVtKSB7XG4gICAgbGV0IHZhbHVlID0gZ2V0Q29tcHV0ZWRTdHlsZShpdGVtKS50cmFuc2Zvcm07XG4gICAgaWYgKHZhbHVlICE9PSAnbm9uZScpIHtcbiAgICAgICAgcmV0dXJuIG1hdHJpeENyZWF0ZSh2YWx1ZSk7XG4gICAgfVxuICAgIGxldCBtID0gaXRlbS50cmFuc2Zvcm0uYmFzZVZhbC5jb25zb2xpZGF0ZSgpO1xuICAgIG0gPSBtICYmIG0ubWF0cml4O1xuICAgIGlmIChtKSB7XG4gICAgICAgIHJldHVybiBtYXRyaXhDcmVhdGUoW20uYSwgbS5iLCBtLmMsIG0uZCwgbS5lLCBtLmZdKVxuICAgIH1cbiAgICByZXR1cm4gbWF0cml4Q3JlYXRlKCk7XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/libs/matrix.js\n");

/***/ }),

/***/ "./src/libs/misc.js":
/*!**************************!*\
  !*** ./src/libs/misc.js ***!
  \**************************/
/*! exports provided: createElement, setTransform, listToArray */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createElement\", function() { return createElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setTransform\", function() { return setTransform; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"listToArray\", function() { return listToArray; });\nvar doc = document;\nvar xmlns = 'http://www.w3.org/2000/svg';\n/**\n * Shorthand document.createElement\n * @param {String} tag\n * @param {Boolean} [isSvg]\n * @param {String[]} [cls]\n */\n\nfunction createElement(tag, isSvg, cls) {\n  var result = isSvg ? doc.createElementNS(xmlns, tag) : doc.createElement(tag);\n\n  if (tag === 'svg') {\n    result.setAttribute('xmlns', xmlns);\n  }\n\n  cls && cls.forEach(function (item) {\n    result.classList.add(item);\n  });\n  return result;\n}\n/**\n * Apply transform to element\n * @param {Element} item \n * @param {String|DOMMatrix} value \n */\n\nfunction setTransform(item, value) {\n  value = value.toString();\n  item.style.transform = value;\n  item.setAttribute('transform', value !== 'none' ? value : ''); // safari fix\n}\n/**\n * @param {NodeList} list\n * @returns {Array}\n */\n\nfunction listToArray(list) {\n  return Array.prototype.slice.call(list);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGlicy9taXNjLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xpYnMvbWlzYy5qcz8zMjEyIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRvYyAgID0gZG9jdW1lbnQ7XG5jb25zdCB4bWxucyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5cbi8qKlxuICogU2hvcnRoYW5kIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSB0YWdcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2lzU3ZnXVxuICogQHBhcmFtIHtTdHJpbmdbXX0gW2Nsc11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodGFnLCBpc1N2ZywgY2xzKSB7XG4gICAgbGV0IHJlc3VsdCA9IGlzU3ZnID8gZG9jLmNyZWF0ZUVsZW1lbnROUyh4bWxucywgdGFnKSA6IGRvYy5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgaWYgKHRhZyA9PT0gJ3N2ZycpIHtcbiAgICAgICAgcmVzdWx0LnNldEF0dHJpYnV0ZSgneG1sbnMnLCB4bWxucyk7XG4gICAgfVxuICAgIGNscyAmJiBjbHMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgcmVzdWx0LmNsYXNzTGlzdC5hZGQoaXRlbSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBcHBseSB0cmFuc2Zvcm0gdG8gZWxlbWVudFxuICogQHBhcmFtIHtFbGVtZW50fSBpdGVtIFxuICogQHBhcmFtIHtTdHJpbmd8RE9NTWF0cml4fSB2YWx1ZSBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFRyYW5zZm9ybShpdGVtLCB2YWx1ZSkge1xuICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICBpdGVtLnN0eWxlLnRyYW5zZm9ybSA9IHZhbHVlO1xuICAgIGl0ZW0uc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCB2YWx1ZSAhPT0gJ25vbmUnID8gdmFsdWUgOiAnJyk7IC8vIHNhZmFyaSBmaXhcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGVMaXN0fSBsaXN0XG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0VG9BcnJheShsaXN0KSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGxpc3QpO1xufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/libs/misc.js\n");

/***/ }),

/***/ "./src/libs/point.js":
/*!***************************!*\
  !*** ./src/libs/point.js ***!
  \***************************/
/*! exports provided: pointCreate, pointCenter, pointDistance, pointApplyMatrix, pointGetCenter, polygonPointDefRound, correctPolygonCornersMinDistance */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pointCreate\", function() { return pointCreate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pointCenter\", function() { return pointCenter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pointDistance\", function() { return pointDistance; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pointApplyMatrix\", function() { return pointApplyMatrix; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pointGetCenter\", function() { return pointGetCenter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"polygonPointDefRound\", function() { return polygonPointDefRound; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"correctPolygonCornersMinDistance\", function() { return correctPolygonCornersMinDistance; });\n/**\n * @param {Number} [x]\n * @param {Number} [y]\n * @returns {DOMPoint}\n */\nfunction pointCreate(x, y) {\n  var result = 'DOMPoint' in window ? new DOMPoint() : {};\n  result.x = x || 0;\n  result.y = y || 0;\n  return result;\n}\n/**\n * @param {DOMPoint[]} list\n * @returns {DOMPoint}\n */\n\nfunction pointCenter(list) {\n  var result = pointCreate();\n  list.forEach(function (item) {\n    result.x += item.x;\n    result.y += item.y;\n  });\n  result.x /= list.length;\n  result.y /= list.length;\n  return result;\n}\n/**\n * @param {DOMPoint} a \n * @param {DOMPoint} b \n * @returns {Number}\n */\n\nfunction pointDistance(a, b) {\n  return Math.sqrt(Math.pow(b.x - a.x, 2) + Math.pow(b.y - a.y, 2));\n}\n/**\n * @param {DOMPoint} point \n * @param {DOMMatrix} matrix\n * @returns {DOMPoint}\n */\n\nfunction pointApplyMatrix(point, matrix) {\n  var x = point.x * matrix.a + point.y * matrix.c + matrix.e;\n  var y = point.x * matrix.b + point.y * matrix.d + matrix.f;\n  return pointCreate(x, y);\n}\n/**\n * @param {DOMPoint[]} points\n * @returns {DOMPoint}\n */\n\nfunction pointGetCenter(points) {\n  var result = pointCreate();\n  points.forEach(function (point) {\n    result.x += point.x;\n    result.y += point.y;\n  });\n  result.x /= points.length;\n  result.y /= points.length;\n  return result;\n}\nfunction polygonPointDefRound(points) {\n  var polygon = [];\n  points.forEach(function (point) {\n    polygon.push([Math.round(point.x), Math.round(point.y)].join(','));\n  });\n  return polygon;\n}\n/**\n * @param {DOMPoint[]} points\n * @param {Number} start\n * @param {Number} max\n * @returns {DOMPoint[]}\n */\n\nfunction correctPolygonCornersMinDistance(points, start, max) {\n  var math = Math;\n  var a = math.atan2(points[0].y - points[1].y, points[1].x - points[0].x);\n  var d = math.max(pointDistance(points[1], points[0]), pointDistance(points[3], points[0]));\n  d = math.min(math.max(start - d / 2, 0), max);\n  var pi4 = Math.PI / 4;\n\n  var fn = function fn(point, factor) {\n    return pointCreate(point.x + d * math.cos(a + pi4 * factor), point.y - d * math.sin(a + pi4 * factor));\n  };\n\n  var result = [];\n  result.push(fn(points[0], 3));\n  result.push(fn(points[1], 1));\n  result.push(fn(points[2], -1));\n  result.push(fn(points[3], -3));\n  return result;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGlicy9wb2ludC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9saWJzL3BvaW50LmpzP2FhODIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAcGFyYW0ge051bWJlcn0gW3hdXG4gKiBAcGFyYW0ge051bWJlcn0gW3ldXG4gKiBAcmV0dXJucyB7RE9NUG9pbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb2ludENyZWF0ZSh4LCB5KSB7XG4gICAgbGV0IHJlc3VsdCA9ICdET01Qb2ludCcgaW4gd2luZG93ID8gbmV3IERPTVBvaW50KCkgOiB7fTtcbiAgICByZXN1bHQueCAgID0geCB8fCAwO1xuICAgIHJlc3VsdC55ICAgPSB5IHx8IDA7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0RPTVBvaW50W119IGxpc3RcbiAqIEByZXR1cm5zIHtET01Qb2ludH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvaW50Q2VudGVyKGxpc3QpIHtcbiAgICBsZXQgcmVzdWx0ID0gcG9pbnRDcmVhdGUoKTtcbiAgICBsaXN0LmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIHJlc3VsdC54ICs9IGl0ZW0ueDtcbiAgICAgICAgcmVzdWx0LnkgKz0gaXRlbS55O1xuICAgIH0pO1xuICAgIHJlc3VsdC54IC89IGxpc3QubGVuZ3RoO1xuICAgIHJlc3VsdC55IC89IGxpc3QubGVuZ3RoO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtET01Qb2ludH0gYSBcbiAqIEBwYXJhbSB7RE9NUG9pbnR9IGIgXG4gKiBAcmV0dXJucyB7TnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9pbnREaXN0YW5jZShhLCBiKSB7XG4gICAgcmV0dXJuIE1hdGguc3FydCgoYi54IC0gYS54KSAqKiAyICsgKGIueSAtIGEueSkgKiogMik7XG59XG5cbi8qKlxuICogQHBhcmFtIHtET01Qb2ludH0gcG9pbnQgXG4gKiBAcGFyYW0ge0RPTU1hdHJpeH0gbWF0cml4XG4gKiBAcmV0dXJucyB7RE9NUG9pbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb2ludEFwcGx5TWF0cml4KHBvaW50LCBtYXRyaXgpIHtcbiAgICBsZXQgeCA9IHBvaW50LnggKiBtYXRyaXguYSArIHBvaW50LnkgKiBtYXRyaXguYyArIG1hdHJpeC5lO1xuICAgIGxldCB5ID0gcG9pbnQueCAqIG1hdHJpeC5iICsgcG9pbnQueSAqIG1hdHJpeC5kICsgbWF0cml4LmY7XG4gICAgcmV0dXJuIHBvaW50Q3JlYXRlKHgsIHkpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RE9NUG9pbnRbXX0gcG9pbnRzXG4gKiBAcmV0dXJucyB7RE9NUG9pbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb2ludEdldENlbnRlcihwb2ludHMpIHtcbiAgICBsZXQgcmVzdWx0ID0gcG9pbnRDcmVhdGUoKTtcbiAgICBwb2ludHMuZm9yRWFjaChwb2ludCA9PiB7XG4gICAgICAgIHJlc3VsdC54ICs9IHBvaW50Lng7XG4gICAgICAgIHJlc3VsdC55ICs9IHBvaW50Lnk7XG4gICAgfSk7XG4gICAgcmVzdWx0LnggLz0gcG9pbnRzLmxlbmd0aDtcbiAgICByZXN1bHQueSAvPSBwb2ludHMubGVuZ3RoO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb2x5Z29uUG9pbnREZWZSb3VuZChwb2ludHMpIHtcbiAgICBsZXQgcG9seWdvbiA9IFtdO1xuICAgIHBvaW50cy5mb3JFYWNoKHBvaW50ID0+IHtcbiAgICAgICAgcG9seWdvbi5wdXNoKFtNYXRoLnJvdW5kKHBvaW50LngpLCBNYXRoLnJvdW5kKHBvaW50LnkpXS5qb2luKCcsJykpO1xuICAgIH0pO1xuICAgIHJldHVybiBwb2x5Z29uO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RE9NUG9pbnRbXX0gcG9pbnRzXG4gKiBAcGFyYW0ge051bWJlcn0gc3RhcnRcbiAqIEBwYXJhbSB7TnVtYmVyfSBtYXhcbiAqIEByZXR1cm5zIHtET01Qb2ludFtdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29ycmVjdFBvbHlnb25Db3JuZXJzTWluRGlzdGFuY2UocG9pbnRzLCBzdGFydCwgbWF4KSB7XG4gICAgY29uc3QgbWF0aCA9IE1hdGg7XG4gICAgbGV0IGEgPSBtYXRoLmF0YW4yKHBvaW50c1swXS55IC0gcG9pbnRzWzFdLnksIHBvaW50c1sxXS54IC0gcG9pbnRzWzBdLngpO1xuICAgIGxldCBkID0gbWF0aC5tYXgocG9pbnREaXN0YW5jZShwb2ludHNbMV0sIHBvaW50c1swXSksIHBvaW50RGlzdGFuY2UocG9pbnRzWzNdLCBwb2ludHNbMF0pKTtcbiAgICBkID0gbWF0aC5taW4obWF0aC5tYXgoc3RhcnQgLSBkIC8gMiwgMCksIG1heCk7XG4gICAgY29uc3QgcGk0ID0gTWF0aC5QSSAvIDQ7XG4gICAgbGV0IGZuID0gKHBvaW50LCBmYWN0b3IpID0+IHBvaW50Q3JlYXRlKFxuICAgICAgICBwb2ludC54ICsgZCAqIG1hdGguY29zKGEgKyBwaTQgKiBmYWN0b3IpLFxuICAgICAgICBwb2ludC55IC0gZCAqIG1hdGguc2luKGEgKyBwaTQgKiBmYWN0b3IpXG4gICAgKTtcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgcmVzdWx0LnB1c2goZm4ocG9pbnRzWzBdLCAzKSk7XG4gICAgcmVzdWx0LnB1c2goZm4ocG9pbnRzWzFdLCAxKSk7XG4gICAgcmVzdWx0LnB1c2goZm4ocG9pbnRzWzJdLCAtMSkpO1xuICAgIHJlc3VsdC5wdXNoKGZuKHBvaW50c1szXSwgLTMpKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/libs/point.js\n");

/***/ }),

/***/ "./src/libs/rect.js":
/*!**************************!*\
  !*** ./src/libs/rect.js ***!
  \**************************/
/*! exports provided: rectCreate, rectCorners, rectBoundingClientRectMultiple */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectCreate\", function() { return rectCreate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectCorners\", function() { return rectCorners; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectBoundingClientRectMultiple\", function() { return rectBoundingClientRectMultiple; });\n/* harmony import */ var _point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./point */ \"./src/libs/point.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n/**\n * Create DOMRect\n * @param {Number} [x]\n * @param {Number} [y]\n * @param {Number} [width]\n * @param {Number} [height]\n * @returns {DOMRect}\n */\n\nfunction rectCreate(x, y, width, height) {\n  var result = 'DOMRect' in window ? new DOMRect() : {};\n  result.x = x || 0;\n  result.y = y || 0;\n  result.width = width || 0;\n  result.height = height || 0;\n  return result;\n}\n/**\n * Get array of corner points from rect\n * @param {DOMRect} rect\n * @returns {DOMPoint[]}\n */\n\nfunction rectCorners(rect) {\n  return [Object(_point__WEBPACK_IMPORTED_MODULE_0__[\"pointCreate\"])(rect.x, rect.y), Object(_point__WEBPACK_IMPORTED_MODULE_0__[\"pointCreate\"])(rect.x + rect.width, rect.y), Object(_point__WEBPACK_IMPORTED_MODULE_0__[\"pointCreate\"])(rect.x + rect.width, rect.y + rect.height), Object(_point__WEBPACK_IMPORTED_MODULE_0__[\"pointCreate\"])(rect.x, rect.y + rect.height)];\n}\n/**\n * Get bounding client rect for multiple elements\n * @param {Element[]} list \n * @returns {DOMRect}\n */\n\nfunction rectBoundingClientRectMultiple(list) {\n  var max = {};\n  var map = [['x', function (bound) {\n    return bound.x;\n  }], ['y', function (bound) {\n    return bound.y;\n  }], ['x2', function (bound) {\n    return bound.x + bound.width;\n  }], ['y2', function (bound) {\n    return bound.y + bound.height;\n  }]];\n  list.forEach(function (item) {\n    var bound = item.getBoundingClientRect();\n    map.forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          prop = _ref2[0],\n          fn = _ref2[1];\n\n      var v = fn(bound);\n\n      if (max[prop] === undefined || v < max[prop]) {\n        max[prop] = v;\n      }\n    });\n  });\n  return rectCreate(max.x, max.y, max.x2 - max.x, max.y2 - max.y);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGlicy9yZWN0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xpYnMvcmVjdC5qcz84MDBjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7cG9pbnRDcmVhdGV9IGZyb20gICcuL3BvaW50JztcblxuLyoqXG4gKiBDcmVhdGUgRE9NUmVjdFxuICogQHBhcmFtIHtOdW1iZXJ9IFt4XVxuICogQHBhcmFtIHtOdW1iZXJ9IFt5XVxuICogQHBhcmFtIHtOdW1iZXJ9IFt3aWR0aF1cbiAqIEBwYXJhbSB7TnVtYmVyfSBbaGVpZ2h0XVxuICogQHJldHVybnMge0RPTVJlY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWN0Q3JlYXRlKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICBsZXQgcmVzdWx0ID0gJ0RPTVJlY3QnIGluIHdpbmRvdyA/IG5ldyBET01SZWN0KCkgOiB7fTtcbiAgICByZXN1bHQueCAgICAgID0geCAgICAgfHwgMDtcbiAgICByZXN1bHQueSAgICAgID0geSAgICAgfHwgMDtcbiAgICByZXN1bHQud2lkdGggID0gd2lkdGggfHwgMDtcbiAgICByZXN1bHQuaGVpZ2h0ID0gaGVpZ2h0IHx8IDA7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXQgYXJyYXkgb2YgY29ybmVyIHBvaW50cyBmcm9tIHJlY3RcbiAqIEBwYXJhbSB7RE9NUmVjdH0gcmVjdFxuICogQHJldHVybnMge0RPTVBvaW50W119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWN0Q29ybmVycyhyZWN0KSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgcG9pbnRDcmVhdGUocmVjdC54LCAgICAgICAgICAgICAgcmVjdC55KSxcbiAgICAgICAgcG9pbnRDcmVhdGUocmVjdC54ICsgcmVjdC53aWR0aCwgcmVjdC55KSxcbiAgICAgICAgcG9pbnRDcmVhdGUocmVjdC54ICsgcmVjdC53aWR0aCwgcmVjdC55ICsgcmVjdC5oZWlnaHQpLFxuICAgICAgICBwb2ludENyZWF0ZShyZWN0LngsICAgICAgICAgICAgICByZWN0LnkgKyByZWN0LmhlaWdodCksXG4gICAgXTtcbn1cblxuLyoqXG4gKiBHZXQgYm91bmRpbmcgY2xpZW50IHJlY3QgZm9yIG11bHRpcGxlIGVsZW1lbnRzXG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gbGlzdCBcbiAqIEByZXR1cm5zIHtET01SZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVjdEJvdW5kaW5nQ2xpZW50UmVjdE11bHRpcGxlKGxpc3QpIHtcbiAgICBsZXQgbWF4ID0ge307XG4gICAgbGV0IG1hcCA9IFtcbiAgICAgICAgWyd4JywgIGJvdW5kID0+IGJvdW5kLnhdLFxuICAgICAgICBbJ3knLCAgYm91bmQgPT4gYm91bmQueV0sXG4gICAgICAgIFsneDInLCBib3VuZCA9PiBib3VuZC54ICsgYm91bmQud2lkdGhdLFxuICAgICAgICBbJ3kyJywgYm91bmQgPT4gYm91bmQueSArIGJvdW5kLmhlaWdodF0sXG4gICAgXTtcbiAgICBsaXN0LmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIGxldCBib3VuZCA9IGl0ZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIG1hcC5mb3JFYWNoKChbcHJvcCwgZm5dKSA9PiB7XG4gICAgICAgICAgICBsZXQgdiA9IGZuKGJvdW5kKTtcbiAgICAgICAgICAgIGlmIChtYXhbcHJvcF0gPT09IHVuZGVmaW5lZCB8fCB2IDwgbWF4W3Byb3BdKSB7XG4gICAgICAgICAgICAgICAgbWF4W3Byb3BdID0gdjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlY3RDcmVhdGUobWF4LngsIG1heC55LCBtYXgueDIgLSBtYXgueCwgbWF4LnkyIC0gbWF4LnkpO1xufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBTUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/libs/rect.js\n");

/***/ }),

/***/ "./src/libs/text-align.js":
/*!********************************!*\
  !*** ./src/libs/text-align.js ***!
  \********************************/
/*! exports provided: textAlignRegister */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"textAlignRegister\", function() { return textAlignRegister; });\n/* harmony import */ var _event_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./event-context */ \"./src/libs/event-context.js\");\n/* harmony import */ var _matrix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./matrix */ \"./src/libs/matrix.js\");\n/* harmony import */ var _misc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./misc */ \"./src/libs/misc.js\");\n/* harmony import */ var _classes_Editor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../classes/Editor */ \"./src/classes/Editor.js\");\n\n\n\n // minify\n\nvar doc = document; // vars\n\nvar map = {\n  left: 'start',\n  center: 'middle',\n  right: 'end'\n};\nvar mapBack = Object.keys(map).reduce(function (res, key) {\n  res[map[key]] = key;\n  return res;\n}, {});\n/**\n * Register drag event listener\n */\n\nfunction textAlignRegister() {\n  var base = _classes_Editor__WEBPACK_IMPORTED_MODULE_3__[\"settings\"].base;\n  var addEventListener = doc.addEventListener;\n  addEventListener.call(doc, 'click', onClick);\n  addEventListener.call(doc, \"\".concat(base, \"TextEdit\"), onTextEdit);\n  addEventListener.call(doc, \"\".concat(base, \"TextApply\"), onTextApply);\n}\n/**\n * click event handler\n * @param {Event} e \n */\n\nfunction onClick(e) {\n  var sel = '.' + _classes_Editor__WEBPACK_IMPORTED_MODULE_3__[\"settings\"].base;\n  var el = Object(_event_context__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, sel);\n  var editor = el && _classes_Editor__WEBPACK_IMPORTED_MODULE_3__[\"Editor\"].getInstance(el);\n\n  if (editor) {\n    if (Object(_event_context__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, \"\".concat(sel, \"__align-left\"))) {\n      editor.textarea.style.textAlign = 'left';\n    }\n\n    if (Object(_event_context__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, \"\".concat(sel, \"__align-center\"))) {\n      editor.textarea.style.textAlign = 'center';\n    }\n\n    if (Object(_event_context__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, \"\".concat(sel, \"__align-right\"))) {\n      editor.textarea.style.textAlign = 'right';\n    }\n  }\n}\n/**\n * {base}TextEdit event handler\n * @param {CustomEvent} e \n */\n\n\nfunction onTextEdit(e) {\n  var editor = e.detail.editor;\n  var anchor = getComputedStyle(editor.text).textAnchor;\n  editor.textarea.style.textAlign = mapBack[anchor];\n}\n/**\n * {base}TextApply event handler\n * @param {CustomEvent} e \n */\n\n\nfunction onTextApply(e) {\n  var editor = e.detail.editor;\n  var text = editor.text;\n  var anchor = getComputedStyle(text).textAnchor;\n  var align = editor.textarea.style.textAlign || 'left';\n  var mapWidth = {\n    start: 0,\n    middle: 0.5,\n    end: 1\n  };\n  align = map[align];\n\n  if (anchor !== align) {\n    var width = text.getBBox().width;\n    var fx = mapWidth[align] - mapWidth[anchor];\n    text.style.textAnchor = align;\n    var matrix = Object(_matrix__WEBPACK_IMPORTED_MODULE_1__[\"matrixGetTranformForElement\"])(text).translateSelf(fx * width, 0);\n    Object(_misc__WEBPACK_IMPORTED_MODULE_2__[\"setTransform\"])(text, matrix);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGlicy90ZXh0LWFsaWduLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xpYnMvdGV4dC1hbGlnbi5qcz8wMTkxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBldmVudENvbnRleHQgZnJvbSAnLi9ldmVudC1jb250ZXh0JztcbmltcG9ydCB7bWF0cml4R2V0VHJhbmZvcm1Gb3JFbGVtZW50fSBmcm9tICcuL21hdHJpeCc7XG5pbXBvcnQge3NldFRyYW5zZm9ybX0gZnJvbSAnLi9taXNjJztcbmltcG9ydCB7RWRpdG9yLCBzZXR0aW5nc30gZnJvbSAnLi4vY2xhc3Nlcy9FZGl0b3InO1xuXG4vLyBtaW5pZnlcbmNvbnN0IGRvYyA9IGRvY3VtZW50O1xuXG4vLyB2YXJzXG5sZXQgbWFwID0ge2xlZnQ6ICdzdGFydCcsIGNlbnRlcjogJ21pZGRsZScsIHJpZ2h0OiAnZW5kJ307XG5sZXQgbWFwQmFjayA9IE9iamVjdC5rZXlzKG1hcCkucmVkdWNlKChyZXMsIGtleSkgPT4ge1xuICAgIHJlc1ttYXBba2V5XV0gPSBrZXk7XG4gICAgcmV0dXJuIHJlcztcbn0sIHt9KTtcblxuLyoqXG4gKiBSZWdpc3RlciBkcmFnIGV2ZW50IGxpc3RlbmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZXh0QWxpZ25SZWdpc3RlcigpIHtcbiAgICBjb25zdCBiYXNlID0gc2V0dGluZ3MuYmFzZTtcbiAgICBjb25zdCBhZGRFdmVudExpc3RlbmVyID0gZG9jLmFkZEV2ZW50TGlzdGVuZXI7XG4gICAgYWRkRXZlbnRMaXN0ZW5lci5jYWxsKGRvYywgJ2NsaWNrJywgICAgICAgICAgICBvbkNsaWNrKTtcbiAgICBhZGRFdmVudExpc3RlbmVyLmNhbGwoZG9jLCBgJHtiYXNlfVRleHRFZGl0YCwgIG9uVGV4dEVkaXQpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIuY2FsbChkb2MsIGAke2Jhc2V9VGV4dEFwcGx5YCwgb25UZXh0QXBwbHkpO1xufVxuXG4vKipcbiAqIGNsaWNrIGV2ZW50IGhhbmRsZXJcbiAqIEBwYXJhbSB7RXZlbnR9IGUgXG4gKi9cbmZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgIGNvbnN0IHNlbCA9ICcuJyArIHNldHRpbmdzLmJhc2U7XG4gICAgbGV0IGVsID0gZXZlbnRDb250ZXh0KGUsIHNlbCk7XG4gICAgbGV0IGVkaXRvciA9IGVsICYmIEVkaXRvci5nZXRJbnN0YW5jZShlbCk7XG4gICAgaWYgKGVkaXRvcikge1xuICAgICAgICBpZiAoZXZlbnRDb250ZXh0KGUsIGAke3NlbH1fX2FsaWduLWxlZnRgKSkge1xuICAgICAgICAgICAgZWRpdG9yLnRleHRhcmVhLnN0eWxlLnRleHRBbGlnbiA9ICdsZWZ0JztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnRDb250ZXh0KGUsIGAke3NlbH1fX2FsaWduLWNlbnRlcmApKSB7XG4gICAgICAgICAgICBlZGl0b3IudGV4dGFyZWEuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50Q29udGV4dChlLCBgJHtzZWx9X19hbGlnbi1yaWdodGApKSB7XG4gICAgICAgICAgICBlZGl0b3IudGV4dGFyZWEuc3R5bGUudGV4dEFsaWduID0gJ3JpZ2h0JztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiB7YmFzZX1UZXh0RWRpdCBldmVudCBoYW5kbGVyXG4gKiBAcGFyYW0ge0N1c3RvbUV2ZW50fSBlIFxuICovXG5mdW5jdGlvbiBvblRleHRFZGl0KGUpIHtcbiAgICBsZXQgZWRpdG9yID0gZS5kZXRhaWwuZWRpdG9yO1xuICAgIGxldCBhbmNob3IgPSBnZXRDb21wdXRlZFN0eWxlKGVkaXRvci50ZXh0KS50ZXh0QW5jaG9yO1xuICAgIGVkaXRvci50ZXh0YXJlYS5zdHlsZS50ZXh0QWxpZ24gPSBtYXBCYWNrW2FuY2hvcl07XG59XG5cbi8qKlxuICoge2Jhc2V9VGV4dEFwcGx5IGV2ZW50IGhhbmRsZXJcbiAqIEBwYXJhbSB7Q3VzdG9tRXZlbnR9IGUgXG4gKi9cbmZ1bmN0aW9uIG9uVGV4dEFwcGx5KGUpIHtcbiAgICBsZXQgZWRpdG9yID0gZS5kZXRhaWwuZWRpdG9yO1xuICAgIGxldCB0ZXh0ID0gZWRpdG9yLnRleHQ7XG4gICAgbGV0IGFuY2hvciA9IGdldENvbXB1dGVkU3R5bGUodGV4dCkudGV4dEFuY2hvcjtcbiAgICBsZXQgYWxpZ24gID0gZWRpdG9yLnRleHRhcmVhLnN0eWxlLnRleHRBbGlnbiB8fCAnbGVmdCc7XG4gICAgbGV0IG1hcFdpZHRoID0ge3N0YXJ0OiAwLCBtaWRkbGU6IDAuNSwgZW5kOiAxfTtcbiAgICBhbGlnbiA9IG1hcFthbGlnbl07XG4gICAgaWYgKGFuY2hvciAhPT0gYWxpZ24pIHtcbiAgICAgICAgbGV0IHdpZHRoID0gdGV4dC5nZXRCQm94KCkud2lkdGg7XG4gICAgICAgIGxldCBmeCA9IG1hcFdpZHRoW2FsaWduXSAtIG1hcFdpZHRoW2FuY2hvcl07XG4gICAgICAgIHRleHQuc3R5bGUudGV4dEFuY2hvciA9IGFsaWduO1xuICAgICAgICBsZXQgbWF0cml4ID0gbWF0cml4R2V0VHJhbmZvcm1Gb3JFbGVtZW50KHRleHQpLnRyYW5zbGF0ZVNlbGYoZnggKiB3aWR0aCwgMCk7XG4gICAgICAgIHNldFRyYW5zZm9ybSh0ZXh0LCBtYXRyaXgpO1xuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/libs/text-align.js\n");

/***/ }),

/***/ "./src/libs/text-operations.js":
/*!*************************************!*\
  !*** ./src/libs/text-operations.js ***!
  \*************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _misc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./misc */ \"./src/libs/misc.js\");\n/* harmony import */ var _classes_Editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../classes/Editor */ \"./src/classes/Editor.js\");\n\n\n_classes_Editor__WEBPACK_IMPORTED_MODULE_1__[\"Editor\"].prototype.textSetStyle = setStyle;\n/**\n * @returns {Element[]}\n */\n\nfunction normalizeSelection() {\n  var result = [];\n  var sel = window.getSelection();\n\n  for (var i = 0; i < sel.rangeCount; i++) {\n    var range = sel.getRangeAt(i);\n    var start = range.startContainer;\n\n    if (start === range.endContainer && start.nodeType === Node.TEXT_NODE && range.startOffset === 0 && start.nodeValue.length === range.endOffset) {\n      result.push(start.parentNode);\n    } else {\n      (function () {\n        var fragment = range.extractContents();\n        Object(_misc__WEBPACK_IMPORTED_MODULE_0__[\"listToArray\"])(fragment.childNodes).forEach(function (child) {\n          var span;\n\n          if (child.nodeType === Node.TEXT_NODE) {\n            span = Object(_misc__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])('span');\n            fragment.replaceChild(span, child);\n            span.appendChild(child);\n          }\n\n          if (child.nodeType === Node.ELEMENT_NODE) {\n            span = child;\n          }\n\n          if (span) {\n            result.push(span);\n          }\n        });\n        range.insertNode(fragment);\n      })();\n    }\n  }\n\n  return result;\n}\n/**\n * Join similar elements\n * @param {Element[]} list \n */\n\n\nfunction joinSpan(list) {\n  list = list.slice();\n  var last = list[list.length - 1].nextSibling;\n  last && list.push(last);\n  list.forEach(function (item) {\n    var prev = item.previousSibling;\n\n    if (prev.nodeName === item.nodeName && prev.getAttribute('style') === item.getAttribute('style')) {\n      Object(_misc__WEBPACK_IMPORTED_MODULE_0__[\"listToArray\"])(item.childNodes).forEach(function (child) {\n        prev.appendChild(child);\n      });\n      item.parentNode.removeChild(item);\n    }\n  });\n}\n/**\n * Set style of selected text\n * @param {Function} callback\n */\n\n\nfunction setStyle(callback) {\n  var list = normalizeSelection();\n  list.forEach(callback);\n  joinSpan(list);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGlicy90ZXh0LW9wZXJhdGlvbnMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGlicy90ZXh0LW9wZXJhdGlvbnMuanM/ODY1YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2NyZWF0ZUVsZW1lbnQsIGxpc3RUb0FycmF5fSBmcm9tICcuL21pc2MnO1xuaW1wb3J0IHtFZGl0b3J9IGZyb20gJy4uL2NsYXNzZXMvRWRpdG9yJztcblxuRWRpdG9yLnByb3RvdHlwZS50ZXh0U2V0U3R5bGUgPSBzZXRTdHlsZTtcblxuLyoqXG4gKiBAcmV0dXJucyB7RWxlbWVudFtdfVxuICovXG5mdW5jdGlvbiBub3JtYWxpemVTZWxlY3Rpb24oKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGxldCBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWwucmFuZ2VDb3VudDsgaSsrKSB7XG4gICAgICAgIGxldCByYW5nZSA9IHNlbC5nZXRSYW5nZUF0KGkpO1xuICAgICAgICBsZXQgc3RhcnQgPSByYW5nZS5zdGFydENvbnRhaW5lcjtcbiAgICAgICAgaWYgKHN0YXJ0ID09PSByYW5nZS5lbmRDb250YWluZXIgJiYgc3RhcnQubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFXG4gICAgICAgICAgICAmJiByYW5nZS5zdGFydE9mZnNldCA9PT0gMCAmJiBzdGFydC5ub2RlVmFsdWUubGVuZ3RoID09PSByYW5nZS5lbmRPZmZzZXRcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChzdGFydC5wYXJlbnROb2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBmcmFnbWVudCA9IHJhbmdlLmV4dHJhY3RDb250ZW50cygpO1xuICAgICAgICAgICAgbGlzdFRvQXJyYXkoZnJhZ21lbnQuY2hpbGROb2RlcykuZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHNwYW47XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkge1xuICAgICAgICAgICAgICAgICAgICBzcGFuID0gY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgICAgICAgICBmcmFnbWVudC5yZXBsYWNlQ2hpbGQoc3BhbiwgY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgICAgICAgICBzcGFuID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHNwYW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZShmcmFnbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBKb2luIHNpbWlsYXIgZWxlbWVudHNcbiAqIEBwYXJhbSB7RWxlbWVudFtdfSBsaXN0IFxuICovXG5mdW5jdGlvbiBqb2luU3BhbihsaXN0KSB7XG4gICAgbGlzdCA9IGxpc3Quc2xpY2UoKVxuICAgIGxldCBsYXN0ID0gbGlzdFtsaXN0Lmxlbmd0aCAtIDFdLm5leHRTaWJsaW5nO1xuICAgIGxhc3QgJiYgbGlzdC5wdXNoKGxhc3QpO1xuICAgIGxpc3QuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgbGV0IHByZXYgPSBpdGVtLnByZXZpb3VzU2libGluZztcbiAgICAgICAgaWYgKHByZXYubm9kZU5hbWUgPT09IGl0ZW0ubm9kZU5hbWUgJiYgcHJldi5nZXRBdHRyaWJ1dGUoJ3N0eWxlJykgPT09IGl0ZW0uZ2V0QXR0cmlidXRlKCdzdHlsZScpKSB7XG4gICAgICAgICAgICBsaXN0VG9BcnJheShpdGVtLmNoaWxkTm9kZXMpLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgICAgICAgICAgIHByZXYuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpdGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaXRlbSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLyoqXG4gKiBTZXQgc3R5bGUgb2Ygc2VsZWN0ZWQgdGV4dFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuZnVuY3Rpb24gc2V0U3R5bGUoY2FsbGJhY2spIHtcbiAgICBsZXQgbGlzdCA9IG5vcm1hbGl6ZVNlbGVjdGlvbigpO1xuICAgIGxpc3QuZm9yRWFjaChjYWxsYmFjayk7XG4gICAgam9pblNwYW4obGlzdCk7XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaEJBO0FBaUJBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/libs/text-operations.js\n");

/***/ }),

/***/ "./src/libs/text.js":
/*!**************************!*\
  !*** ./src/libs/text.js ***!
  \**************************/
/*! exports provided: textRegister */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"textRegister\", function() { return textRegister; });\n/* harmony import */ var _event_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./event-context */ \"./src/libs/event-context.js\");\n/* harmony import */ var _misc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./misc */ \"./src/libs/misc.js\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./helper */ \"./src/libs/helper.js\");\n/* harmony import */ var _point__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./point */ \"./src/libs/point.js\");\n/* harmony import */ var _units__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./units */ \"./src/libs/units.js\");\n/* harmony import */ var _classes_Editor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../classes/Editor */ \"./src/classes/Editor.js\");\n\n\n\n\n\n // minify\n\nvar doc = document;\nvar isSafari = navigator.vendor && navigator.vendor.indexOf('Apple') > -1;\n/**\n * Register drag event listener\n */\n\nfunction textRegister() {\n  var base = _classes_Editor__WEBPACK_IMPORTED_MODULE_5__[\"settings\"].base;\n  var addEventListener = doc.addEventListener;\n  addEventListener.call(doc, 'click', onClick);\n  addEventListener.call(doc, 'input', onInput);\n  addEventListener.call(doc, \"\".concat(base, \"Select\"), onSelect);\n  addEventListener.call(doc, \"\".concat(base, \"DragStart\"), onDragStart);\n  addEventListener.call(doc, \"\".concat(base, \"RefreshHelper\"), onRefreshHelper);\n}\n/**\n * click event handler\n * @param {Event} e \n */\n\nfunction onClick(e) {\n  var sel = '.' + _classes_Editor__WEBPACK_IMPORTED_MODULE_5__[\"settings\"].base;\n  var el = Object(_event_context__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, sel);\n  var editor = el && _classes_Editor__WEBPACK_IMPORTED_MODULE_5__[\"Editor\"].getInstance(el);\n\n  if (editor) {\n    el = Object(_event_context__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, \"\".concat(sel, \"__text\"));\n    el && editInSelection(editor);\n  }\n}\n/**\n * input event handler\n * @param {Event} e \n */\n\n\nfunction onInput(e) {\n  var sel = '.' + _classes_Editor__WEBPACK_IMPORTED_MODULE_5__[\"settings\"].base;\n  var el = Object(_event_context__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, sel);\n  var editor = el && _classes_Editor__WEBPACK_IMPORTED_MODULE_5__[\"Editor\"].getInstance(el);\n\n  if (editor) {\n    var target = e.target;\n\n    if (target.closest(\"\".concat(sel, \"__textarea\"))) {\n      textHelperUpdate(editor);\n    }\n  }\n}\n/**\n * {base}Select event handler\n */\n\n\nfunction onSelect(e) {\n  var editor = e.detail.editor;\n\n  if (editor.foreign) {\n    foreignObjectApply(editor);\n  }\n}\n/**\n * {base}DragStart event handler\n * @param {CustomEvent} e \n */\n\n\nfunction onDragStart(e) {\n  var sel = '.' + _classes_Editor__WEBPACK_IMPORTED_MODULE_5__[\"settings\"].base;\n\n  if (Object(_event_context__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e.detail.event, \"\".concat(sel, \"__text-width\"))) {\n    e.detail.operation = dragTextWidth;\n  }\n}\n/**\n * {base}RefreshHelper event handler\n * @param {CustomEvent} e \n */\n\n\nfunction onRefreshHelper(e) {\n  var editor = e.detail.editor;\n\n  if (editor.foreign) {\n    e.preventDefault();\n    textHelperUpdate(editor);\n  }\n}\n/**\n * Start edit text in selection\n * @param {Editor} editor \n */\n\n\nfunction editInSelection(editor) {\n  var node = editor.selection[0];\n\n  if (node && node.nodeName === 'text') {\n    foreignObjectCreate(editor, node);\n    Object(_helper__WEBPACK_IMPORTED_MODULE_2__[\"helperRemove\"])(editor);\n    textHelperCreate(editor);\n  }\n}\n/**\n * Create foreignObject for WYSIWYG text edit\n * @param   {Editor} editor\n * @param   {SVGElement} node\n * @returns {SVGElement}\n */\n\n\nfunction foreignObjectCreate(editor, node) {\n  var base = _classes_Editor__WEBPACK_IMPORTED_MODULE_5__[\"settings\"].base;\n  var bound = node.getBBox();\n  var foreignGroup = Object(_misc__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])('g', true, [\"\".concat(base, \"__foreign\")]);\n  var foreign = Object(_misc__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])('foreignObject', true);\n  ['x', 'y', 'width', 'height'].forEach(function (prop) {\n    foreign.setAttribute(prop, bound[prop]);\n  });\n  var textarea = Object(_misc__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])('span', false, [\"\".concat(base, \"__textarea\")]);\n  convertSvgTextToHtml(node, textarea);\n  textarea.contentEditable = true;\n  var style = getComputedStyle(node);\n  var def = getComputedStyle(node.parentNode);\n  var saveProps = ['letter-spacing', 'opacity'];\n  Object.values(style).forEach(function (prop) {\n    if (prop.slice(0, 5) === 'font-' || saveProps.indexOf(prop) !== -1) {\n      if (style[prop] !== def[prop]) {\n        textarea.style[prop] = style[prop];\n      }\n    }\n  });\n  foreignGroup.appendChild(foreign);\n  foreign.appendChild(textarea);\n  node.insertAdjacentElement('afterend', foreignGroup);\n  removeManualBr(textarea);\n  Object(_misc__WEBPACK_IMPORTED_MODULE_1__[\"setTransform\"])(foreignGroup, style.transform);\n  node.style.display = 'none';\n  selectAll(textarea);\n  editor.foreign = foreign;\n  editor.textarea = textarea;\n  editor.text = node;\n  editor.triggerEvent('TextEdit');\n}\n/**\n * Apply content from foreignObject to SVG text\n * @param {Editor} editor \n */\n\n\nfunction foreignObjectApply(editor) {\n  var foreign = editor.foreign;\n  var textarea = editor.textarea;\n  var text = editor.text;\n  var prev = text.innerHTML;\n  var foreignGroup = foreign.parentNode;\n  Object(_misc__WEBPACK_IMPORTED_MODULE_1__[\"setTransform\"])(foreignGroup, '');\n  findAndSplitMultipleLines(textarea);\n  convertBrToDiv(textarea);\n  convertHtmlToSvgText(text, textarea);\n  text.style.display = '';\n  editor.triggerEvent('TextApply');\n  foreignGroup.parentNode.removeChild(foreignGroup);\n  editor.foreign = null;\n  editor.textarea = null;\n  editor.text = null;\n  var next = text.innerHTML;\n\n  if (editor.historyPush && prev !== next) {\n    editor.historyPush({\n      undo: undo,\n      redo: redo,\n      text: text,\n      prev: prev,\n      next: next\n    });\n  }\n}\n/**\n * Convert SVG <text> to HTML\n * @param {SVGElement} text \n * @param {HTMLElement} textarea \n */\n\n\nfunction convertSvgTextToHtml(text, textarea) {\n  textarea.innerHTML = text.innerHTML;\n  convertSvgTextToHtmlWalk(textarea);\n}\n/**\n * Recursive DOM walker to convert SVG <text> to HTML\n * @param {Node} node \n */\n\n\nfunction convertSvgTextToHtmlWalk(node) {\n  if (node.nodeName === 'TSPAN') {\n    if (node.getAttribute('dy') === '1em') {\n      node.insertAdjacentHTML('afterend', '<br/>' + node.innerHTML);\n      node.parentNode.removeChild(node);\n      node.innerHTML = '';\n    } else {\n      var replace = document.createElement('span');\n      var skip = ['x', 'y', 'dx', 'dy', 'fill'];\n\n      for (var i = 0, len = node.attributes.length; i < len; i++) {\n        var attr = node.attributes[i];\n\n        if (skip.indexOf(attr.name) === -1) {\n          replace.setAttribute(attr.name, attr.value);\n        }\n\n        if (attr.name === 'fill') {\n          replace.style.color = attr.value;\n        }\n      }\n\n      if (node.style.fill) {\n        replace.style.color = node.style.fill;\n      }\n\n      replace.innerHTML = node.innerHTML;\n      node.parentNode.replaceChild(replace, node);\n      node = replace;\n    }\n  }\n\n  for (var _i = 0; _i < node.childNodes.length; _i++) {\n    convertSvgTextToHtmlWalk(node.childNodes[_i]);\n  }\n}\n/**\n * Convert HTML to SVG <text>\n * @param {SVGElement} text\n * @param {HTMLElement} textarea\n */\n\n\nfunction convertHtmlToSvgText(text, textarea) {\n  convertHtmlToSvgTextWalk(text, textarea, true);\n  text.innerHTML = textarea.innerHTML;\n}\n/**\n * Recursive DOM walker to convert HTML to SVG <text>\n * @param {Node} node \n * @param {SVGElement} text\n * @param {Boolean} [isRoot]\n */\n\n\nfunction convertHtmlToSvgTextWalk(text, node, isRoot) {\n  if (node.nodeName === 'DIV') {\n    var replace = Object(_misc__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])('tspan');\n    replace.setAttribute('x', text.getAttribute('x'));\n    replace.setAttribute('dy', '1em');\n    replace.innerHTML = node.innerHTML;\n    node.parentNode.replaceChild(replace, node);\n    node = replace;\n  }\n\n  if (node.nodeName === 'SPAN' && !isRoot) {\n    var _replace = Object(_misc__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])('tspan');\n\n    for (var i = 0, len = node.attributes.length; i < len; i++) {\n      var attr = node.attributes[i];\n\n      _replace.setAttribute(attr.name, attr.value);\n    }\n\n    if (node.style.color) {\n      _replace.style.fill = node.style.color;\n    }\n\n    _replace.innerHTML = node.innerHTML;\n    node.parentNode.replaceChild(_replace, node);\n    node = _replace;\n  }\n\n  for (var _i2 = 0; _i2 < node.childNodes.length; _i2++) {\n    convertHtmlToSvgTextWalk(text, node.childNodes[_i2]);\n  }\n}\n/**\n * Return text node client rects\n * @param {Text} node\n * @returns {DOMRect[]}\n */\n\n\nfunction getTextClientRects(node) {\n  var range = doc.createRange();\n  range.selectNodeContents(node);\n  return range.getClientRects();\n}\n/**\n * Return element or text node client rect\n * @param {Node} node\n * @returns {?DOMRect}\n */\n\n\nfunction getNodeClientRect(node) {\n  if (node.nodeType === Node.TEXT_NODE) {\n    return getTextClientRects(node)[0];\n  }\n\n  if (node.nodeType === Node.ELEMENT_NODE) {\n    return node.getBoundingClientRect();\n  }\n\n  return null;\n}\n/**\n * Remove manual placed <br> back to multiline\n * @param {Node} node\n */\n\n\nfunction removeManualBr(node) {\n  if (node.nodeName === 'BR') {\n    var next = node.nextSibling;\n    var bound = getNodeClientRect(next);\n\n    if (bound) {\n      node.parentNode.removeChild(node);\n      var boundNew = getNodeClientRect(next);\n\n      if (boundNew.y !== bound.y) {\n        next.parentNode.insertBefore(node, next);\n      }\n    }\n  }\n\n  Object(_misc__WEBPACK_IMPORTED_MODULE_1__[\"listToArray\"])(node.childNodes).forEach(function (child) {\n    removeManualBr(child);\n  });\n}\n/**\n * Find multiple lines texts and split by <br>\n * @param {Node} node \n */\n\n\nfunction findAndSplitMultipleLines(node) {\n  if (node.nodeType === Node.TEXT_NODE) {\n    var isSplit = false;\n    var y = null;\n    Object(_misc__WEBPACK_IMPORTED_MODULE_1__[\"listToArray\"])(getTextClientRects(node)).forEach(function (rect) {\n      if (y !== null && rect.y > y) {\n        isSplit = true;\n      }\n\n      y = rect.y;\n    });\n\n    if (isSplit) {\n      splitTextByLines(node);\n    }\n  }\n\n  Object(_misc__WEBPACK_IMPORTED_MODULE_1__[\"listToArray\"])(node.childNodes).forEach(function (child) {\n    findAndSplitMultipleLines(child);\n  });\n  var prev = null;\n  Object(_misc__WEBPACK_IMPORTED_MODULE_1__[\"listToArray\"])(node.childNodes).forEach(function (child) {\n    var bound;\n\n    if (child.nodeType === Node.TEXT_NODE && child.nodeValue.trim() !== '') {\n      bound = getTextClientRects(child)[0];\n    }\n\n    if (child.nodeType === Node.ELEMENT_NODE) {\n      if (child.nodeName === 'BR') {\n        prev = null;\n      } else {\n        bound = child.getBoundingClientRect();\n      }\n    }\n\n    if (bound) {\n      if (prev !== null && bound.y > prev.y && bound.width > 0) {\n        node.insertBefore(Object(_misc__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])('br'), child);\n      }\n\n      prev = bound;\n    }\n  });\n}\n/**\n * Split multiple lines text by <br>\n * @param {Text} node \n */\n\n\nfunction splitTextByLines(node) {\n  var content = node.textContent;\n  var y, rect;\n  var range = doc.createRange();\n  var splits = [];\n\n  for (var i = 0; i < content.length; i++) {\n    range.setStart(node, i);\n    range.setEnd(node, i + 1);\n    rect = range.getBoundingClientRect();\n\n    if (y === undefined) {\n      y = rect.y;\n    }\n\n    if (rect.y !== y) {\n      splits.push(i);\n      y = rect.y;\n    }\n  }\n\n  splits.reverse().forEach(function (idx) {\n    range.setStart(node, idx);\n    range.setEnd(node, idx);\n    range.insertNode(Object(_misc__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])('br'));\n  });\n}\n/**\n * Convert <br> to <div> wrapped texts\n * @param {Node} node \n */\n\n\nfunction convertBrToDiv(node) {\n  var stack = [];\n  Object(_misc__WEBPACK_IMPORTED_MODULE_1__[\"listToArray\"])(node.childNodes).forEach(function (child, i) {\n    if (child.nodeName === 'BR') {\n      stack.push([child]);\n    } else {\n      if (stack.length > 0) {\n        stack[stack.length - 1].push(child);\n      }\n    }\n  });\n  stack.forEach(function (items) {\n    var div = Object(_misc__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])('div');\n    var br = items.shift();\n    node.replaceChild(div, br);\n    items.forEach(function (child) {\n      div.appendChild(child);\n    });\n  });\n  Object(_misc__WEBPACK_IMPORTED_MODULE_1__[\"listToArray\"])(node.childNodes).forEach(function (child) {\n    convertBrToDiv(child);\n  });\n}\n/**\n * Select all\n * @param {Node} node \n */\n\n\nfunction selectAll(node) {\n  node.focus();\n  var range = document.createRange();\n  range.selectNodeContents(node);\n  var sel = window.getSelection();\n  sel.removeAllRanges();\n  sel.addRange(range);\n}\n/**\n * Create text helper for foreignObject\n * @param {Editor} editor \n */\n\n\nfunction textHelperCreate(editor) {\n  var foreign = editor.foreign;\n  var foreignGroup = foreign.parentNode;\n  var boundItem = isSafari ? foreignGroup : foreign;\n  var points = editor.helperPoints = Object(_helper__WEBPACK_IMPORTED_MODULE_2__[\"helperGetPointsForItem\"])(editor, foreignGroup, boundItem);\n  textHelperCreateByPoints(editor, points);\n}\n/**\n * Create helper by corner points\n * @param {Editor} editor\n * @param {DOMPoint[]} points\n */\n\n\nfunction textHelperCreateByPoints(editor, points) {\n  if (!_classes_Editor__WEBPACK_IMPORTED_MODULE_5__[\"settings\"].createTextHelper) {\n    throw new Error('createTextHelper is not set');\n  }\n\n  var helper = _classes_Editor__WEBPACK_IMPORTED_MODULE_5__[\"settings\"].createTextHelper(editor, points);\n  editor.helper = helper;\n  editor.helpers.appendChild(helper);\n}\n/**\n * Update foreignObject size and text helper\n * @param {Editor} editor \n */\n\n\nfunction textHelperUpdate(editor) {\n  Object(_helper__WEBPACK_IMPORTED_MODULE_2__[\"helperRemove\"])(editor);\n  editor.foreign.setAttribute('height', editor.textarea.clientHeight);\n  textHelperCreate(editor);\n}\n/**\n * On drag text width\n * @param {MouseEvent|TouchEvent} e\n * @param {Object} current\n */\n\n\nfunction dragTextWidth(e, current) {\n  var editor = current.editor;\n  var point = Object(_point__WEBPACK_IMPORTED_MODULE_3__[\"pointCenter\"])([editor.helperPoints[0], editor.helperPoints[3]]);\n  point = Object(_units__WEBPACK_IMPORTED_MODULE_4__[\"unitsRootToViewport\"])(editor, point);\n  var r1 = Object(_point__WEBPACK_IMPORTED_MODULE_3__[\"pointDistance\"])(Object(_point__WEBPACK_IMPORTED_MODULE_3__[\"pointCreate\"])(e.clientX, e.clientY), point);\n  var r0 = Object(_point__WEBPACK_IMPORTED_MODULE_3__[\"pointDistance\"])(Object(_point__WEBPACK_IMPORTED_MODULE_3__[\"pointCreate\"])(current.x, current.y), point);\n  var scale = r1 / r0;\n\n  if (current.initialWidth === undefined) {\n    var bound = editor.foreign.getBBox();\n    current.initialWidth = bound.width;\n  }\n\n  editor.foreign.setAttribute('width', current.initialWidth * scale);\n  textHelperUpdate(editor);\n}\n/**\n * Apply drag undo\n * @param {Editor} editor\n * @param {Object} data \n */\n\n\nfunction undo(editor, data) {\n  data.text.innerHTML = data.prev;\n  editor.refreshHelper();\n}\n/**\n * Apply drag redo\n * @param {Editor} editor\n * @param {Object} data \n */\n\n\nfunction redo(editor, data) {\n  data.text.innerHTML = data.next;\n  editor.refreshHelper();\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGlicy90ZXh0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xpYnMvdGV4dC5qcz8yMTE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBldmVudENvbnRleHQgZnJvbSAnLi9ldmVudC1jb250ZXh0JztcbmltcG9ydCB7Y3JlYXRlRWxlbWVudCwgc2V0VHJhbnNmb3JtLCBsaXN0VG9BcnJheX0gZnJvbSAnLi9taXNjJztcbmltcG9ydCB7aGVscGVyUmVtb3ZlLCBoZWxwZXJHZXRQb2ludHNGb3JJdGVtfSBmcm9tICcuL2hlbHBlcic7XG5pbXBvcnQge3BvaW50Q3JlYXRlLCBwb2ludENlbnRlciwgcG9pbnREaXN0YW5jZX0gZnJvbSAnLi9wb2ludCc7XG5pbXBvcnQge3VuaXRzUm9vdFRvVmlld3BvcnR9IGZyb20gJy4vdW5pdHMnO1xuaW1wb3J0IHtFZGl0b3IsIHNldHRpbmdzfSBmcm9tICcuLi9jbGFzc2VzL0VkaXRvcic7XG5cbi8vIG1pbmlmeVxuY29uc3QgZG9jID0gZG9jdW1lbnQ7XG5cbmNvbnN0IGlzU2FmYXJpID0gbmF2aWdhdG9yLnZlbmRvciAmJiBuYXZpZ2F0b3IudmVuZG9yLmluZGV4T2YoJ0FwcGxlJykgPiAtMTtcblxuLyoqXG4gKiBSZWdpc3RlciBkcmFnIGV2ZW50IGxpc3RlbmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZXh0UmVnaXN0ZXIoKSB7XG4gICAgY29uc3QgYmFzZSA9IHNldHRpbmdzLmJhc2U7XG4gICAgY29uc3QgYWRkRXZlbnRMaXN0ZW5lciA9IGRvYy5hZGRFdmVudExpc3RlbmVyO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIuY2FsbChkb2MsICdjbGljaycsICAgICAgICAgICAgICAgIG9uQ2xpY2spO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIuY2FsbChkb2MsICdpbnB1dCcsICAgICAgICAgICAgICAgIG9uSW5wdXQpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIuY2FsbChkb2MsIGAke2Jhc2V9U2VsZWN0YCwgICAgICAgIG9uU2VsZWN0KTtcbiAgICBhZGRFdmVudExpc3RlbmVyLmNhbGwoZG9jLCBgJHtiYXNlfURyYWdTdGFydGAsICAgICBvbkRyYWdTdGFydCk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lci5jYWxsKGRvYywgYCR7YmFzZX1SZWZyZXNoSGVscGVyYCwgb25SZWZyZXNoSGVscGVyKTtcbn1cblxuXG4vKipcbiAqIGNsaWNrIGV2ZW50IGhhbmRsZXJcbiAqIEBwYXJhbSB7RXZlbnR9IGUgXG4gKi9cbmZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgIGNvbnN0IHNlbCA9ICcuJyArIHNldHRpbmdzLmJhc2U7XG4gICAgbGV0IGVsID0gZXZlbnRDb250ZXh0KGUsIHNlbCk7XG4gICAgbGV0IGVkaXRvciA9IGVsICYmIEVkaXRvci5nZXRJbnN0YW5jZShlbCk7XG4gICAgaWYgKGVkaXRvcikge1xuICAgICAgICBlbCA9IGV2ZW50Q29udGV4dChlLCBgJHtzZWx9X190ZXh0YCk7XG4gICAgICAgIGVsICYmIGVkaXRJblNlbGVjdGlvbihlZGl0b3IpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBpbnB1dCBldmVudCBoYW5kbGVyXG4gKiBAcGFyYW0ge0V2ZW50fSBlIFxuICovXG5mdW5jdGlvbiBvbklucHV0KGUpIHtcbiAgICBjb25zdCBzZWwgPSAnLicgKyBzZXR0aW5ncy5iYXNlO1xuICAgIGxldCBlbCA9IGV2ZW50Q29udGV4dChlLCBzZWwpO1xuICAgIGxldCBlZGl0b3IgPSBlbCAmJiBFZGl0b3IuZ2V0SW5zdGFuY2UoZWwpO1xuICAgIGlmIChlZGl0b3IpIHtcbiAgICAgICAgbGV0IHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoYCR7c2VsfV9fdGV4dGFyZWFgKSkge1xuICAgICAgICAgICAgdGV4dEhlbHBlclVwZGF0ZShlZGl0b3IpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIHtiYXNlfVNlbGVjdCBldmVudCBoYW5kbGVyXG4gKi9cbmZ1bmN0aW9uIG9uU2VsZWN0KGUpIHtcbiAgICBsZXQgZWRpdG9yID0gZS5kZXRhaWwuZWRpdG9yO1xuICAgIGlmIChlZGl0b3IuZm9yZWlnbikge1xuICAgICAgICBmb3JlaWduT2JqZWN0QXBwbHkoZWRpdG9yKTtcbiAgICB9XG59XG5cbi8qKlxuICoge2Jhc2V9RHJhZ1N0YXJ0IGV2ZW50IGhhbmRsZXJcbiAqIEBwYXJhbSB7Q3VzdG9tRXZlbnR9IGUgXG4gKi9cbmZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KGUpIHtcbiAgICBjb25zdCBzZWwgPSAnLicgKyBzZXR0aW5ncy5iYXNlO1xuICAgIGlmIChldmVudENvbnRleHQoZS5kZXRhaWwuZXZlbnQsIGAke3NlbH1fX3RleHQtd2lkdGhgKSkge1xuICAgICAgICBlLmRldGFpbC5vcGVyYXRpb24gPSBkcmFnVGV4dFdpZHRoO1xuICAgIH1cbn1cblxuLyoqXG4gKiB7YmFzZX1SZWZyZXNoSGVscGVyIGV2ZW50IGhhbmRsZXJcbiAqIEBwYXJhbSB7Q3VzdG9tRXZlbnR9IGUgXG4gKi9cbmZ1bmN0aW9uIG9uUmVmcmVzaEhlbHBlcihlKSB7XG4gICAgbGV0IGVkaXRvciA9IGUuZGV0YWlsLmVkaXRvcjtcbiAgICBpZiAoZWRpdG9yLmZvcmVpZ24pIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0ZXh0SGVscGVyVXBkYXRlKGVkaXRvcik7XG4gICAgfVxufVxuXG4vKipcbiAqIFN0YXJ0IGVkaXQgdGV4dCBpbiBzZWxlY3Rpb25cbiAqIEBwYXJhbSB7RWRpdG9yfSBlZGl0b3IgXG4gKi9cbmZ1bmN0aW9uIGVkaXRJblNlbGVjdGlvbihlZGl0b3IpIHtcbiAgICBsZXQgbm9kZSA9IGVkaXRvci5zZWxlY3Rpb25bMF07XG4gICAgaWYgKG5vZGUgJiYgbm9kZS5ub2RlTmFtZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIGZvcmVpZ25PYmplY3RDcmVhdGUoZWRpdG9yLCBub2RlKTtcbiAgICAgICAgaGVscGVyUmVtb3ZlKGVkaXRvcik7XG4gICAgICAgIHRleHRIZWxwZXJDcmVhdGUoZWRpdG9yKTtcbiAgICB9ICAgICAgICBcbn1cblxuLyoqXG4gKiBDcmVhdGUgZm9yZWlnbk9iamVjdCBmb3IgV1lTSVdZRyB0ZXh0IGVkaXRcbiAqIEBwYXJhbSAgIHtFZGl0b3J9IGVkaXRvclxuICogQHBhcmFtICAge1NWR0VsZW1lbnR9IG5vZGVcbiAqIEByZXR1cm5zIHtTVkdFbGVtZW50fVxuICovXG5mdW5jdGlvbiBmb3JlaWduT2JqZWN0Q3JlYXRlKGVkaXRvciwgbm9kZSkge1xuICAgIGNvbnN0IGJhc2UgPSBzZXR0aW5ncy5iYXNlO1xuICAgIGxldCBib3VuZCA9IG5vZGUuZ2V0QkJveCgpO1xuICAgIGxldCBmb3JlaWduR3JvdXAgPSBjcmVhdGVFbGVtZW50KCdnJywgdHJ1ZSwgW2Ake2Jhc2V9X19mb3JlaWduYF0pO1xuICAgIGxldCBmb3JlaWduID0gY3JlYXRlRWxlbWVudCgnZm9yZWlnbk9iamVjdCcsIHRydWUpO1xuICAgIFsneCcsICd5JywgJ3dpZHRoJywgJ2hlaWdodCddLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICAgIGZvcmVpZ24uc2V0QXR0cmlidXRlKHByb3AsIGJvdW5kW3Byb3BdKTtcbiAgICB9KTtcbiAgICBsZXQgdGV4dGFyZWEgPSBjcmVhdGVFbGVtZW50KCdzcGFuJywgZmFsc2UsIFtgJHtiYXNlfV9fdGV4dGFyZWFgXSk7XG4gICAgY29udmVydFN2Z1RleHRUb0h0bWwobm9kZSwgdGV4dGFyZWEpO1xuICAgIHRleHRhcmVhLmNvbnRlbnRFZGl0YWJsZSA9IHRydWU7XG4gICAgXG4gICAgbGV0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICBsZXQgZGVmICAgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUucGFyZW50Tm9kZSk7XG4gICAgbGV0IHNhdmVQcm9wcyA9IFtcbiAgICAgICAgJ2xldHRlci1zcGFjaW5nJyxcbiAgICAgICAgJ29wYWNpdHknLFxuICAgIF07XG4gICAgT2JqZWN0LnZhbHVlcyhzdHlsZSkuZm9yRWFjaChwcm9wID0+IHtcbiAgICAgICAgaWYgKHByb3Auc2xpY2UoMCwgNSkgPT09ICdmb250LScgfHwgc2F2ZVByb3BzLmluZGV4T2YocHJvcCkgIT09IC0xKSB7XG4gICAgICAgICAgICBpZiAoc3R5bGVbcHJvcF0gIT09IGRlZltwcm9wXSkge1xuICAgICAgICAgICAgICAgIHRleHRhcmVhLnN0eWxlW3Byb3BdID0gc3R5bGVbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBmb3JlaWduR3JvdXAuYXBwZW5kQ2hpbGQoZm9yZWlnbik7XG4gICAgZm9yZWlnbi5hcHBlbmRDaGlsZCh0ZXh0YXJlYSk7XG4gICAgbm9kZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgZm9yZWlnbkdyb3VwKTtcbiAgICByZW1vdmVNYW51YWxCcih0ZXh0YXJlYSk7XG4gICAgc2V0VHJhbnNmb3JtKGZvcmVpZ25Hcm91cCwgc3R5bGUudHJhbnNmb3JtKTtcbiAgICBub2RlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgc2VsZWN0QWxsKHRleHRhcmVhKTtcbiAgICBcbiAgICBlZGl0b3IuZm9yZWlnbiAgICAgICA9IGZvcmVpZ247XG4gICAgZWRpdG9yLnRleHRhcmVhICAgICAgPSB0ZXh0YXJlYTtcbiAgICBlZGl0b3IudGV4dCAgICAgICAgICA9IG5vZGU7XG4gICAgZWRpdG9yLnRyaWdnZXJFdmVudCgnVGV4dEVkaXQnKTtcbn1cblxuLyoqXG4gKiBBcHBseSBjb250ZW50IGZyb20gZm9yZWlnbk9iamVjdCB0byBTVkcgdGV4dFxuICogQHBhcmFtIHtFZGl0b3J9IGVkaXRvciBcbiAqL1xuZnVuY3Rpb24gZm9yZWlnbk9iamVjdEFwcGx5KGVkaXRvcikge1xuICAgIGxldCBmb3JlaWduICA9IGVkaXRvci5mb3JlaWduO1xuICAgIGxldCB0ZXh0YXJlYSA9IGVkaXRvci50ZXh0YXJlYTtcbiAgICBsZXQgdGV4dCAgICAgPSBlZGl0b3IudGV4dDtcbiAgICBsZXQgcHJldiAgICAgPSB0ZXh0LmlubmVySFRNTDtcbiAgICBsZXQgZm9yZWlnbkdyb3VwID0gZm9yZWlnbi5wYXJlbnROb2RlO1xuICAgIHNldFRyYW5zZm9ybShmb3JlaWduR3JvdXAsICcnKTtcbiAgICBmaW5kQW5kU3BsaXRNdWx0aXBsZUxpbmVzKHRleHRhcmVhKTtcbiAgICBjb252ZXJ0QnJUb0Rpdih0ZXh0YXJlYSk7XG4gICAgY29udmVydEh0bWxUb1N2Z1RleHQodGV4dCwgdGV4dGFyZWEpO1xuICAgIHRleHQuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgIGVkaXRvci50cmlnZ2VyRXZlbnQoJ1RleHRBcHBseScpO1xuICAgIGZvcmVpZ25Hcm91cC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGZvcmVpZ25Hcm91cCk7XG4gICAgZWRpdG9yLmZvcmVpZ24gID0gbnVsbDtcbiAgICBlZGl0b3IudGV4dGFyZWEgPSBudWxsO1xuICAgIGVkaXRvci50ZXh0ICAgICA9IG51bGw7XG4gICAgbGV0IG5leHQgPSB0ZXh0LmlubmVySFRNTDtcbiAgICBpZiAoZWRpdG9yLmhpc3RvcnlQdXNoICYmIHByZXYgIT09IG5leHQpIHtcbiAgICAgICAgZWRpdG9yLmhpc3RvcnlQdXNoKHt1bmRvLCByZWRvLCB0ZXh0LCBwcmV2LCBuZXh0fSk7XG4gICAgfVxufVxuXG4vKipcbiAqIENvbnZlcnQgU1ZHIDx0ZXh0PiB0byBIVE1MXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IHRleHQgXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0ZXh0YXJlYSBcbiAqL1xuZnVuY3Rpb24gY29udmVydFN2Z1RleHRUb0h0bWwodGV4dCwgdGV4dGFyZWEpIHtcbiAgICB0ZXh0YXJlYS5pbm5lckhUTUwgPSB0ZXh0LmlubmVySFRNTDtcbiAgICBjb252ZXJ0U3ZnVGV4dFRvSHRtbFdhbGsodGV4dGFyZWEpO1xufVxuXG4vKipcbiAqIFJlY3Vyc2l2ZSBET00gd2Fsa2VyIHRvIGNvbnZlcnQgU1ZHIDx0ZXh0PiB0byBIVE1MXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgXG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRTdmdUZXh0VG9IdG1sV2Fsayhub2RlKSB7XG4gICAgaWYgKG5vZGUubm9kZU5hbWUgPT09ICdUU1BBTicpIHtcbiAgICAgICAgaWYgKG5vZGUuZ2V0QXR0cmlidXRlKCdkeScpID09PSAnMWVtJykge1xuICAgICAgICAgICAgbm9kZS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJywgJzxici8+JyArIG5vZGUuaW5uZXJIVE1MKTtcbiAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgICAgICAgIG5vZGUuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgcmVwbGFjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgIGxldCBza2lwID0gWyd4JywgJ3knLCAnZHgnLCAnZHknLCAnZmlsbCddO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG5vZGUuYXR0cmlidXRlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBhdHRyID0gbm9kZS5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChza2lwLmluZGV4T2YoYXR0ci5uYW1lKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZS5zZXRBdHRyaWJ1dGUoYXR0ci5uYW1lLCBhdHRyLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGF0dHIubmFtZSA9PT0gJ2ZpbGwnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcGxhY2Uuc3R5bGUuY29sb3IgPSBhdHRyLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlLnN0eWxlLmZpbGwpIHtcbiAgICAgICAgICAgICAgICByZXBsYWNlLnN0eWxlLmNvbG9yID0gbm9kZS5zdHlsZS5maWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVwbGFjZS5pbm5lckhUTUwgPSBub2RlLmlubmVySFRNTDtcbiAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQocmVwbGFjZSwgbm9kZSk7XG4gICAgICAgICAgICBub2RlID0gcmVwbGFjZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb252ZXJ0U3ZnVGV4dFRvSHRtbFdhbGsobm9kZS5jaGlsZE5vZGVzW2ldKTtcbiAgICB9XG59XG5cbi8qKlxuICogQ29udmVydCBIVE1MIHRvIFNWRyA8dGV4dD5cbiAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gdGV4dFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGV4dGFyZWFcbiAqL1xuZnVuY3Rpb24gY29udmVydEh0bWxUb1N2Z1RleHQodGV4dCwgdGV4dGFyZWEpIHtcbiAgICBjb252ZXJ0SHRtbFRvU3ZnVGV4dFdhbGsodGV4dCwgdGV4dGFyZWEsIHRydWUpO1xuICAgIHRleHQuaW5uZXJIVE1MID0gdGV4dGFyZWEuaW5uZXJIVE1MO1xufVxuXG4vKipcbiAqIFJlY3Vyc2l2ZSBET00gd2Fsa2VyIHRvIGNvbnZlcnQgSFRNTCB0byBTVkcgPHRleHQ+XG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IHRleHRcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2lzUm9vdF1cbiAqL1xuZnVuY3Rpb24gY29udmVydEh0bWxUb1N2Z1RleHRXYWxrKHRleHQsIG5vZGUsIGlzUm9vdCkge1xuICAgIGlmIChub2RlLm5vZGVOYW1lID09PSAnRElWJykge1xuICAgICAgICBsZXQgcmVwbGFjZSA9IGNyZWF0ZUVsZW1lbnQoJ3RzcGFuJyk7XG4gICAgICAgIHJlcGxhY2Uuc2V0QXR0cmlidXRlKCd4JywgdGV4dC5nZXRBdHRyaWJ1dGUoJ3gnKSk7XG4gICAgICAgIHJlcGxhY2Uuc2V0QXR0cmlidXRlKCdkeScsICcxZW0nKTtcbiAgICAgICAgcmVwbGFjZS5pbm5lckhUTUwgPSBub2RlLmlubmVySFRNTDtcbiAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChyZXBsYWNlLCBub2RlKTtcbiAgICAgICAgbm9kZSA9IHJlcGxhY2U7XG4gICAgfVxuICAgIGlmIChub2RlLm5vZGVOYW1lID09PSAnU1BBTicgJiYgIWlzUm9vdCkge1xuICAgICAgICBsZXQgcmVwbGFjZSA9IGNyZWF0ZUVsZW1lbnQoJ3RzcGFuJyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBub2RlLmF0dHJpYnV0ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBhdHRyID0gbm9kZS5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgcmVwbGFjZS5zZXRBdHRyaWJ1dGUoYXR0ci5uYW1lLCBhdHRyLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5zdHlsZS5jb2xvcikge1xuICAgICAgICAgICAgcmVwbGFjZS5zdHlsZS5maWxsID0gbm9kZS5zdHlsZS5jb2xvcjtcbiAgICAgICAgfVxuICAgICAgICByZXBsYWNlLmlubmVySFRNTCA9IG5vZGUuaW5uZXJIVE1MO1xuICAgICAgICBub2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHJlcGxhY2UsIG5vZGUpO1xuICAgICAgICBub2RlID0gcmVwbGFjZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29udmVydEh0bWxUb1N2Z1RleHRXYWxrKHRleHQsIG5vZGUuY2hpbGROb2Rlc1tpXSk7XG4gICAgfVxufVxuXG4vKipcbiAqIFJldHVybiB0ZXh0IG5vZGUgY2xpZW50IHJlY3RzXG4gKiBAcGFyYW0ge1RleHR9IG5vZGVcbiAqIEByZXR1cm5zIHtET01SZWN0W119XG4gKi9cbmZ1bmN0aW9uIGdldFRleHRDbGllbnRSZWN0cyhub2RlKSB7XG4gICAgbGV0IHJhbmdlID0gZG9jLmNyZWF0ZVJhbmdlKCk7XG4gICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKG5vZGUpO1xuICAgIHJldHVybiByYW5nZS5nZXRDbGllbnRSZWN0cygpO1xufVxuXG4vKipcbiAqIFJldHVybiBlbGVtZW50IG9yIHRleHQgbm9kZSBjbGllbnQgcmVjdFxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcmV0dXJucyB7P0RPTVJlY3R9XG4gKi9cbmZ1bmN0aW9uIGdldE5vZGVDbGllbnRSZWN0KG5vZGUpIHtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcbiAgICAgICAgcmV0dXJuIGdldFRleHRDbGllbnRSZWN0cyhub2RlKVswXTtcbiAgICB9XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgIHJldHVybiBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBSZW1vdmUgbWFudWFsIHBsYWNlZCA8YnI+IGJhY2sgdG8gbXVsdGlsaW5lXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlTWFudWFsQnIobm9kZSkge1xuICAgIGlmIChub2RlLm5vZGVOYW1lID09PSAnQlInKSB7XG4gICAgICAgIGxldCBuZXh0ID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgbGV0IGJvdW5kID0gZ2V0Tm9kZUNsaWVudFJlY3QobmV4dCk7XG4gICAgICAgIGlmIChib3VuZCkge1xuICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgICAgICAgICAgbGV0IGJvdW5kTmV3ID0gZ2V0Tm9kZUNsaWVudFJlY3QobmV4dCk7XG4gICAgICAgICAgICBpZiAoYm91bmROZXcueSAhPT0gYm91bmQueSkge1xuICAgICAgICAgICAgICAgIG5leHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgbmV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGlzdFRvQXJyYXkobm9kZS5jaGlsZE5vZGVzKS5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgcmVtb3ZlTWFudWFsQnIoY2hpbGQpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIEZpbmQgbXVsdGlwbGUgbGluZXMgdGV4dHMgYW5kIHNwbGl0IGJ5IDxicj5cbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBcbiAqL1xuZnVuY3Rpb24gZmluZEFuZFNwbGl0TXVsdGlwbGVMaW5lcyhub2RlKSB7XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgICAgIGxldCBpc1NwbGl0ID0gZmFsc2U7XG4gICAgICAgIGxldCB5ID0gbnVsbDtcbiAgICAgICAgbGlzdFRvQXJyYXkoZ2V0VGV4dENsaWVudFJlY3RzKG5vZGUpKS5mb3JFYWNoKHJlY3QgPT4ge1xuICAgICAgICAgICAgaWYgKHkgIT09IG51bGwgJiYgcmVjdC55ID4geSkge1xuICAgICAgICAgICAgICAgIGlzU3BsaXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeSA9IHJlY3QueTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpc1NwbGl0KSB7XG4gICAgICAgICAgICBzcGxpdFRleHRCeUxpbmVzKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxpc3RUb0FycmF5KG5vZGUuY2hpbGROb2RlcykuZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgZmluZEFuZFNwbGl0TXVsdGlwbGVMaW5lcyhjaGlsZCk7XG4gICAgfSk7XG4gICAgbGV0IHByZXYgPSBudWxsO1xuICAgIGxpc3RUb0FycmF5KG5vZGUuY2hpbGROb2RlcykuZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgbGV0IGJvdW5kO1xuICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFICYmIGNoaWxkLm5vZGVWYWx1ZS50cmltKCkgIT09ICcnKSB7XG4gICAgICAgICAgICBib3VuZCA9IGdldFRleHRDbGllbnRSZWN0cyhjaGlsZClbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgaWYgKGNoaWxkLm5vZGVOYW1lID09PSAnQlInKSB7XG4gICAgICAgICAgICAgICAgcHJldiA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJvdW5kID0gY2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJvdW5kKSB7XG4gICAgICAgICAgICBpZiAocHJldiAhPT0gbnVsbCAmJiBib3VuZC55ID4gcHJldi55ICYmIGJvdW5kLndpZHRoID4gMCkge1xuICAgICAgICAgICAgICAgIG5vZGUuaW5zZXJ0QmVmb3JlKGNyZWF0ZUVsZW1lbnQoJ2JyJyksIGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXYgPSBib3VuZDtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG4vKipcbiAqIFNwbGl0IG11bHRpcGxlIGxpbmVzIHRleHQgYnkgPGJyPlxuICogQHBhcmFtIHtUZXh0fSBub2RlIFxuICovXG5mdW5jdGlvbiBzcGxpdFRleHRCeUxpbmVzKG5vZGUpIHtcbiAgICBsZXQgY29udGVudCA9IG5vZGUudGV4dENvbnRlbnQ7XG4gICAgbGV0IHksIHJlY3Q7XG4gICAgbGV0IHJhbmdlID0gZG9jLmNyZWF0ZVJhbmdlKCk7XG4gICAgbGV0IHNwbGl0cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGVudC5sZW5ndGg7IGkrKykge1xuICAgICAgICByYW5nZS5zZXRTdGFydChub2RlLCBpKTtcbiAgICAgICAgcmFuZ2Uuc2V0RW5kKG5vZGUsIGkgKyAxKTtcbiAgICAgICAgcmVjdCA9IHJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpZiAoeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB5ID0gcmVjdC55O1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWN0LnkgIT09IHkpIHtcbiAgICAgICAgICAgIHNwbGl0cy5wdXNoKGkpO1xuICAgICAgICAgICAgeSA9IHJlY3QueTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzcGxpdHMucmV2ZXJzZSgpLmZvckVhY2goaWR4ID0+IHtcbiAgICAgICAgcmFuZ2Uuc2V0U3RhcnQobm9kZSwgaWR4KTtcbiAgICAgICAgcmFuZ2Uuc2V0RW5kKG5vZGUsIGlkeCk7XG4gICAgICAgIHJhbmdlLmluc2VydE5vZGUoY3JlYXRlRWxlbWVudCgnYnInKSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogQ29udmVydCA8YnI+IHRvIDxkaXY+IHdyYXBwZWQgdGV4dHNcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBcbiAqL1xuZnVuY3Rpb24gY29udmVydEJyVG9EaXYobm9kZSkge1xuICAgIGxldCBzdGFjayA9IFtdO1xuICAgIGxpc3RUb0FycmF5KG5vZGUuY2hpbGROb2RlcykuZm9yRWFjaCgoY2hpbGQsIGkpID0+IHtcbiAgICAgICAgaWYgKGNoaWxkLm5vZGVOYW1lID09PSAnQlInKSB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKFtjaGlsZF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBzdGFja1tzdGFjay5sZW5ndGggLSAxXS5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHN0YWNrLmZvckVhY2goaXRlbXMgPT4ge1xuICAgICAgICBsZXQgZGl2ID0gY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGxldCBiciA9IGl0ZW1zLnNoaWZ0KCk7XG4gICAgICAgIG5vZGUucmVwbGFjZUNoaWxkKGRpdiwgYnIpO1xuICAgICAgICBpdGVtcy5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGxpc3RUb0FycmF5KG5vZGUuY2hpbGROb2RlcykuZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgIGNvbnZlcnRCclRvRGl2KGNoaWxkKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBTZWxlY3QgYWxsXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgXG4gKi9cbmZ1bmN0aW9uIHNlbGVjdEFsbChub2RlKSB7XG4gICAgbm9kZS5mb2N1cygpO1xuICAgIGxldCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKG5vZGUpO1xuICAgIGxldCBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgIHNlbC5hZGRSYW5nZShyYW5nZSk7XG59XG5cbi8qKlxuICogQ3JlYXRlIHRleHQgaGVscGVyIGZvciBmb3JlaWduT2JqZWN0XG4gKiBAcGFyYW0ge0VkaXRvcn0gZWRpdG9yIFxuICovXG5mdW5jdGlvbiB0ZXh0SGVscGVyQ3JlYXRlKGVkaXRvcikge1xuICAgIGxldCBmb3JlaWduID0gZWRpdG9yLmZvcmVpZ247XG4gICAgbGV0IGZvcmVpZ25Hcm91cCA9IGZvcmVpZ24ucGFyZW50Tm9kZTtcbiAgICBsZXQgYm91bmRJdGVtID0gaXNTYWZhcmkgPyBmb3JlaWduR3JvdXAgOiBmb3JlaWduO1xuICAgIGxldCBwb2ludHMgPSBlZGl0b3IuaGVscGVyUG9pbnRzID0gaGVscGVyR2V0UG9pbnRzRm9ySXRlbShlZGl0b3IsIGZvcmVpZ25Hcm91cCwgYm91bmRJdGVtKTtcbiAgICB0ZXh0SGVscGVyQ3JlYXRlQnlQb2ludHMoZWRpdG9yLCBwb2ludHMpO1xufVxuXG4vKipcbiAqIENyZWF0ZSBoZWxwZXIgYnkgY29ybmVyIHBvaW50c1xuICogQHBhcmFtIHtFZGl0b3J9IGVkaXRvclxuICogQHBhcmFtIHtET01Qb2ludFtdfSBwb2ludHNcbiAqL1xuZnVuY3Rpb24gdGV4dEhlbHBlckNyZWF0ZUJ5UG9pbnRzKGVkaXRvciwgcG9pbnRzKSB7XG4gICAgaWYgKCFzZXR0aW5ncy5jcmVhdGVUZXh0SGVscGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY3JlYXRlVGV4dEhlbHBlciBpcyBub3Qgc2V0Jyk7XG4gICAgfVxuICAgIGxldCBoZWxwZXIgPSBzZXR0aW5ncy5jcmVhdGVUZXh0SGVscGVyKGVkaXRvciwgcG9pbnRzKTtcbiAgICBlZGl0b3IuaGVscGVyID0gaGVscGVyO1xuICAgIGVkaXRvci5oZWxwZXJzLmFwcGVuZENoaWxkKGhlbHBlcik7XG59XG5cbi8qKlxuICogVXBkYXRlIGZvcmVpZ25PYmplY3Qgc2l6ZSBhbmQgdGV4dCBoZWxwZXJcbiAqIEBwYXJhbSB7RWRpdG9yfSBlZGl0b3IgXG4gKi9cbmZ1bmN0aW9uIHRleHRIZWxwZXJVcGRhdGUoZWRpdG9yKSB7XG4gICAgaGVscGVyUmVtb3ZlKGVkaXRvcik7XG4gICAgZWRpdG9yLmZvcmVpZ24uc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBlZGl0b3IudGV4dGFyZWEuY2xpZW50SGVpZ2h0KTtcbiAgICB0ZXh0SGVscGVyQ3JlYXRlKGVkaXRvcik7XG59XG5cbi8qKlxuICogT24gZHJhZyB0ZXh0IHdpZHRoXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR8VG91Y2hFdmVudH0gZVxuICogQHBhcmFtIHtPYmplY3R9IGN1cnJlbnRcbiAqL1xuZnVuY3Rpb24gZHJhZ1RleHRXaWR0aChlLCBjdXJyZW50KSB7XG4gICAgbGV0IGVkaXRvciA9IGN1cnJlbnQuZWRpdG9yO1xuICAgIGxldCBwb2ludCA9IHBvaW50Q2VudGVyKFtlZGl0b3IuaGVscGVyUG9pbnRzWzBdLCBlZGl0b3IuaGVscGVyUG9pbnRzWzNdXSk7XG4gICAgcG9pbnQgPSB1bml0c1Jvb3RUb1ZpZXdwb3J0KGVkaXRvciwgcG9pbnQpO1xuICAgIGxldCByMSA9IHBvaW50RGlzdGFuY2UocG9pbnRDcmVhdGUoZS5jbGllbnRYLCBlLmNsaWVudFkpLCBwb2ludCk7XG4gICAgbGV0IHIwID0gcG9pbnREaXN0YW5jZShwb2ludENyZWF0ZShjdXJyZW50LngsIGN1cnJlbnQueSksIHBvaW50KTtcbiAgICBsZXQgc2NhbGUgPSByMSAvIHIwO1xuICAgIGlmIChjdXJyZW50LmluaXRpYWxXaWR0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxldCBib3VuZCA9IGVkaXRvci5mb3JlaWduLmdldEJCb3goKTtcbiAgICAgICAgY3VycmVudC5pbml0aWFsV2lkdGggPSBib3VuZC53aWR0aDtcbiAgICB9XG4gICAgZWRpdG9yLmZvcmVpZ24uc2V0QXR0cmlidXRlKCd3aWR0aCcsIGN1cnJlbnQuaW5pdGlhbFdpZHRoICogc2NhbGUpO1xuICAgIHRleHRIZWxwZXJVcGRhdGUoZWRpdG9yKTtcbn1cblxuLyoqXG4gKiBBcHBseSBkcmFnIHVuZG9cbiAqIEBwYXJhbSB7RWRpdG9yfSBlZGl0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFxuICovXG5mdW5jdGlvbiB1bmRvKGVkaXRvciwgZGF0YSkge1xuICAgIGRhdGEudGV4dC5pbm5lckhUTUwgPSBkYXRhLnByZXY7XG4gICAgZWRpdG9yLnJlZnJlc2hIZWxwZXIoKTtcbn1cblxuLyoqXG4gKiBBcHBseSBkcmFnIHJlZG9cbiAqIEBwYXJhbSB7RWRpdG9yfSBlZGl0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFxuICovXG5mdW5jdGlvbiByZWRvKGVkaXRvciwgZGF0YSkge1xuICAgIGRhdGEudGV4dC5pbm5lckhUTUwgPSBkYXRhLm5leHQ7XG4gICAgZWRpdG9yLnJlZnJlc2hIZWxwZXIoKTtcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/libs/text.js\n");

/***/ }),

/***/ "./src/libs/units.js":
/*!***************************!*\
  !*** ./src/libs/units.js ***!
  \***************************/
/*! exports provided: unitsViewportToRoot, unitsRootToViewport, unitsRootToLocal, unitsLocalToRoot, unitsViewportToLocal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"unitsViewportToRoot\", function() { return unitsViewportToRoot; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"unitsRootToViewport\", function() { return unitsRootToViewport; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"unitsRootToLocal\", function() { return unitsRootToLocal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"unitsLocalToRoot\", function() { return unitsLocalToRoot; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"unitsViewportToLocal\", function() { return unitsViewportToLocal; });\n/* harmony import */ var _point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./point */ \"./src/libs/point.js\");\n/* harmony import */ var _rect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rect */ \"./src/libs/rect.js\");\n\n\n/**\n * Convert point or rect from viewport to root svg editor coordinates\n * @param {Editor} editor\n * @param {DOMPoint|DOMRect} value\n * @returns {DOMPoint|DOMRect}\n */\n\nfunction unitsViewportToRoot(editor, value) {\n  var rBound = editor.root.getBoundingClientRect();\n\n  if (value.width) {\n    return Object(_rect__WEBPACK_IMPORTED_MODULE_1__[\"rectCreate\"])(value.x - rBound.x, value.y - rBound.y, value.width, value.height);\n  }\n\n  return Object(_point__WEBPACK_IMPORTED_MODULE_0__[\"pointCreate\"])(value.x - rBound.x, value.y - rBound.y);\n}\n/**\n * Convert point or rect from root svg editor to viewport coordinates\n * @param {Editor} editor\n * @param {DOMPoint|DOMRect} value\n * @returns {DOMPoint|DOMRect}\n */\n\nfunction unitsRootToViewport(editor, value) {\n  var rBound = editor.root.getBoundingClientRect();\n\n  if (value.width) {\n    return Object(_rect__WEBPACK_IMPORTED_MODULE_1__[\"rectCreate\"])(value.x + rBound.x, value.y + rBound.y, value.width, value.height);\n  }\n\n  return Object(_point__WEBPACK_IMPORTED_MODULE_0__[\"pointCreate\"])(value.x + rBound.x, value.y + rBound.y);\n}\n/**\n * Convert point or rect from root svg editor to local svg coordinates\n * @param {Editor} editor\n * @param {DOMPoint|DOMRect} value\n * @returns {DOMPoint|DOMRect}\n */\n\nfunction unitsRootToLocal(editor, value) {\n  var vbSvg = editor.svg.viewBox.baseVal;\n  var vbRoot = editor.root.viewBox.baseVal;\n  var aSvg = vbSvg.width / vbSvg.height;\n  var aRoot = vbRoot.width / vbRoot.height;\n  var rw, rh;\n\n  if (aRoot > aSvg) {\n    rw = aSvg * vbRoot.height;\n    rh = vbRoot.height;\n  } else {\n    rw = vbRoot.width;\n    rh = vbRoot.width / aSvg;\n  }\n\n  var dx = (vbRoot.width - rw) / 2;\n  var dy = (vbRoot.height - rh) / 2;\n  var scaleX = vbSvg.width / rw;\n  var scaleY = vbSvg.height / rh;\n\n  if (value.width) {\n    return Object(_rect__WEBPACK_IMPORTED_MODULE_1__[\"rectCreate\"])((value.x - dx) * scaleX, (value.y - dy) * scaleY, value.width * scaleX, value.height * scaleY);\n  }\n\n  return Object(_point__WEBPACK_IMPORTED_MODULE_0__[\"pointCreate\"])((value.x - dx) * scaleX, (value.y - dy) * scaleY);\n}\n/**\n * Convert point or rect from local svg to root svg editor coordinates\n * @param {Editor} editor\n * @param {DOMPoint|DOMRect} value\n * @returns {DOMPoint|DOMRect}\n */\n\nfunction unitsLocalToRoot(editor, value) {\n  var vbSvg = editor.svg.viewBox.baseVal;\n  var vbRoot = editor.root.viewBox.baseVal;\n  var aSvg = vbSvg.width / vbSvg.height;\n  var aRoot = vbRoot.width / vbRoot.height;\n  var rw, rh;\n\n  if (aRoot > aSvg) {\n    rw = aSvg * vbRoot.height;\n    rh = vbRoot.height;\n  } else {\n    rw = vbRoot.width;\n    rh = vbRoot.width / aSvg;\n  }\n\n  var dx = (vbRoot.width - rw) / 2;\n  var dy = (vbRoot.height - rh) / 2;\n  var scaleX = vbSvg.width / rw;\n  var scaleY = vbSvg.height / rh;\n\n  if (value.width) {\n    return Object(_rect__WEBPACK_IMPORTED_MODULE_1__[\"rectCreate\"])(value.x / scaleX + dx, value.y / scaleY + dy, value.width / scaleX, value.height / scaleY);\n  }\n\n  return Object(_point__WEBPACK_IMPORTED_MODULE_0__[\"pointCreate\"])(value.x / scaleX + dx, value.y / scaleY + dy);\n}\n/**\n * Convert point or rect from viewport to local svg coordinates\n * @param {Editor} editor\n * @param {DOMPoint|DOMRect} value\n * @returns {DOMPoint|DOMRect}\n */\n\nfunction unitsViewportToLocal(editor, value) {\n  return unitsRootToLocal(editor, unitsViewportToRoot(editor, value));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGlicy91bml0cy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9saWJzL3VuaXRzLmpzPzNiMmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtwb2ludENyZWF0ZX0gZnJvbSAgJy4vcG9pbnQnO1xuaW1wb3J0IHtyZWN0Q3JlYXRlfSBmcm9tICAnLi9yZWN0JztcblxuLyoqXG4gKiBDb252ZXJ0IHBvaW50IG9yIHJlY3QgZnJvbSB2aWV3cG9ydCB0byByb290IHN2ZyBlZGl0b3IgY29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7RWRpdG9yfSBlZGl0b3JcbiAqIEBwYXJhbSB7RE9NUG9pbnR8RE9NUmVjdH0gdmFsdWVcbiAqIEByZXR1cm5zIHtET01Qb2ludHxET01SZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5pdHNWaWV3cG9ydFRvUm9vdChlZGl0b3IsIHZhbHVlKSB7XG4gICAgbGV0IHJCb3VuZCA9IGVkaXRvci5yb290LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmICh2YWx1ZS53aWR0aCkge1xuICAgICAgICByZXR1cm4gcmVjdENyZWF0ZSh2YWx1ZS54IC0gckJvdW5kLngsIHZhbHVlLnkgLSByQm91bmQueSwgdmFsdWUud2lkdGgsIHZhbHVlLmhlaWdodCk7XG4gICAgfVxuICAgIHJldHVybiBwb2ludENyZWF0ZSh2YWx1ZS54IC0gckJvdW5kLngsIHZhbHVlLnkgLSByQm91bmQueSk7XG59XG5cbi8qKlxuICogQ29udmVydCBwb2ludCBvciByZWN0IGZyb20gcm9vdCBzdmcgZWRpdG9yIHRvIHZpZXdwb3J0IGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge0VkaXRvcn0gZWRpdG9yXG4gKiBAcGFyYW0ge0RPTVBvaW50fERPTVJlY3R9IHZhbHVlXG4gKiBAcmV0dXJucyB7RE9NUG9pbnR8RE9NUmVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuaXRzUm9vdFRvVmlld3BvcnQoZWRpdG9yLCB2YWx1ZSkge1xuICAgIGxldCByQm91bmQgPSBlZGl0b3Iucm9vdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpZiAodmFsdWUud2lkdGgpIHtcbiAgICAgICAgcmV0dXJuIHJlY3RDcmVhdGUodmFsdWUueCArIHJCb3VuZC54LCB2YWx1ZS55ICsgckJvdW5kLnksIHZhbHVlLndpZHRoLCB2YWx1ZS5oZWlnaHQpO1xuICAgIH1cbiAgICByZXR1cm4gcG9pbnRDcmVhdGUodmFsdWUueCArIHJCb3VuZC54LCB2YWx1ZS55ICsgckJvdW5kLnkpO1xufVxuXG4vKipcbiAqIENvbnZlcnQgcG9pbnQgb3IgcmVjdCBmcm9tIHJvb3Qgc3ZnIGVkaXRvciB0byBsb2NhbCBzdmcgY29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7RWRpdG9yfSBlZGl0b3JcbiAqIEBwYXJhbSB7RE9NUG9pbnR8RE9NUmVjdH0gdmFsdWVcbiAqIEByZXR1cm5zIHtET01Qb2ludHxET01SZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5pdHNSb290VG9Mb2NhbChlZGl0b3IsIHZhbHVlKSB7XG4gICAgbGV0IHZiU3ZnICA9IGVkaXRvci5zdmcudmlld0JveC5iYXNlVmFsO1xuICAgIGxldCB2YlJvb3QgPSBlZGl0b3Iucm9vdC52aWV3Qm94LmJhc2VWYWw7XG4gICAgbGV0IGFTdmcgICA9IHZiU3ZnLndpZHRoICAvIHZiU3ZnLmhlaWdodDtcbiAgICBsZXQgYVJvb3QgID0gdmJSb290LndpZHRoIC8gdmJSb290LmhlaWdodDtcbiAgICBsZXQgcncsIHJoO1xuICAgIGlmIChhUm9vdCA+IGFTdmcpIHtcbiAgICAgICAgcncgPSBhU3ZnICogdmJSb290LmhlaWdodDtcbiAgICAgICAgcmggPSB2YlJvb3QuaGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJ3ID0gdmJSb290LndpZHRoO1xuICAgICAgICByaCA9IHZiUm9vdC53aWR0aCAvIGFTdmc7XG4gICAgfVxuICAgIGxldCBkeCAgICAgPSAodmJSb290LndpZHRoICAtIHJ3KSAvIDI7XG4gICAgbGV0IGR5ICAgICA9ICh2YlJvb3QuaGVpZ2h0IC0gcmgpIC8gMjtcbiAgICBsZXQgc2NhbGVYID0gdmJTdmcud2lkdGggIC8gcnc7XG4gICAgbGV0IHNjYWxlWSA9IHZiU3ZnLmhlaWdodCAvIHJoO1xuICAgIGlmICh2YWx1ZS53aWR0aCkge1xuICAgICAgICByZXR1cm4gcmVjdENyZWF0ZSgodmFsdWUueCAtIGR4KSAqIHNjYWxlWCwgKHZhbHVlLnkgLSBkeSkgKiBzY2FsZVksIHZhbHVlLndpZHRoICogc2NhbGVYLCB2YWx1ZS5oZWlnaHQgKiBzY2FsZVkpO1xuICAgIH1cbiAgICByZXR1cm4gcG9pbnRDcmVhdGUoKHZhbHVlLnggLSBkeCkgKiBzY2FsZVgsICh2YWx1ZS55IC0gZHkpICogc2NhbGVZKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IHBvaW50IG9yIHJlY3QgZnJvbSBsb2NhbCBzdmcgdG8gcm9vdCBzdmcgZWRpdG9yIGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge0VkaXRvcn0gZWRpdG9yXG4gKiBAcGFyYW0ge0RPTVBvaW50fERPTVJlY3R9IHZhbHVlXG4gKiBAcmV0dXJucyB7RE9NUG9pbnR8RE9NUmVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuaXRzTG9jYWxUb1Jvb3QoZWRpdG9yLCB2YWx1ZSkge1xuICAgIGxldCB2YlN2ZyAgPSBlZGl0b3Iuc3ZnLnZpZXdCb3guYmFzZVZhbDtcbiAgICBsZXQgdmJSb290ID0gZWRpdG9yLnJvb3Qudmlld0JveC5iYXNlVmFsO1xuICAgIGxldCBhU3ZnICAgPSB2YlN2Zy53aWR0aCAgLyB2YlN2Zy5oZWlnaHQ7XG4gICAgbGV0IGFSb290ICA9IHZiUm9vdC53aWR0aCAvIHZiUm9vdC5oZWlnaHQ7XG4gICAgbGV0IHJ3LCByaDtcbiAgICBpZiAoYVJvb3QgPiBhU3ZnKSB7XG4gICAgICAgIHJ3ID0gYVN2ZyAqIHZiUm9vdC5oZWlnaHQ7XG4gICAgICAgIHJoID0gdmJSb290LmhlaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBydyA9IHZiUm9vdC53aWR0aDtcbiAgICAgICAgcmggPSB2YlJvb3Qud2lkdGggLyBhU3ZnO1xuICAgIH1cbiAgICBsZXQgZHggICAgID0gKHZiUm9vdC53aWR0aCAgLSBydykgLyAyO1xuICAgIGxldCBkeSAgICAgPSAodmJSb290LmhlaWdodCAtIHJoKSAvIDI7XG4gICAgbGV0IHNjYWxlWCA9IHZiU3ZnLndpZHRoICAvIHJ3O1xuICAgIGxldCBzY2FsZVkgPSB2YlN2Zy5oZWlnaHQgLyByaDtcbiAgICBpZiAodmFsdWUud2lkdGgpIHtcbiAgICAgICAgcmV0dXJuIHJlY3RDcmVhdGUodmFsdWUueCAvIHNjYWxlWCArIGR4LCB2YWx1ZS55IC8gc2NhbGVZICsgZHksIHZhbHVlLndpZHRoIC8gc2NhbGVYLCB2YWx1ZS5oZWlnaHQgLyBzY2FsZVkpO1xuICAgIH1cbiAgICByZXR1cm4gcG9pbnRDcmVhdGUodmFsdWUueCAvIHNjYWxlWCArIGR4LCB2YWx1ZS55IC8gc2NhbGVZICsgZHkpO1xufVxuXG4vKipcbiAqIENvbnZlcnQgcG9pbnQgb3IgcmVjdCBmcm9tIHZpZXdwb3J0IHRvIGxvY2FsIHN2ZyBjb29yZGluYXRlc1xuICogQHBhcmFtIHtFZGl0b3J9IGVkaXRvclxuICogQHBhcmFtIHtET01Qb2ludHxET01SZWN0fSB2YWx1ZVxuICogQHJldHVybnMge0RPTVBvaW50fERPTVJlY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bml0c1ZpZXdwb3J0VG9Mb2NhbChlZGl0b3IsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHVuaXRzUm9vdFRvTG9jYWwoZWRpdG9yLCB1bml0c1ZpZXdwb3J0VG9Sb290KGVkaXRvciwgdmFsdWUpKTtcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/libs/units.js\n");

/***/ }),

/***/ "./src/text-helper/index.js":
/*!**********************************!*\
  !*** ./src/text-helper/index.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _libs_point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../libs/point */ \"./src/libs/point.js\");\n/* harmony import */ var _libs_misc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../libs/misc */ \"./src/libs/misc.js\");\n/* harmony import */ var _classes_Editor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../classes/Editor */ \"./src/classes/Editor.js\");\n\n\n\n/**\n * Create text helper by corner points\n * @param {Editor} editor\n * @param {DOMPoint[]} points\n * @returns {SVGElement}\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (editor, points) {\n  var base = _classes_Editor__WEBPACK_IMPORTED_MODULE_2__[\"settings\"].base;\n  var helper = Object(_libs_misc__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])('g', true, [\"\".concat(base, \"__helper\"), '_text']);\n  var polygon = Object(_libs_point__WEBPACK_IMPORTED_MODULE_0__[\"polygonPointDefRound\"])(points);\n  var a = Math.atan2(points[0].y - points[1].y, points[1].x - points[0].x);\n  var dx = 24 * Math.cos(a);\n  var dy = -24 * Math.sin(a);\n  var mt = Object(_libs_point__WEBPACK_IMPORTED_MODULE_0__[\"pointCenter\"])([points[0], points[1]]);\n  var mr = Object(_libs_point__WEBPACK_IMPORTED_MODULE_0__[\"pointCenter\"])([points[1], points[2]]); // code in one line for minification\n\n  helper.innerHTML = \"<polygon class=\\\"sse__rect\\\" points=\\\"\".concat(polygon.join(' '), \"\\\"/><g class=\\\"\").concat(base, \"__act _align-left \").concat(base, \"__align-left\\\"><circle cx=\\\"\").concat(mt.x - dx, \"\\\" cy=\\\"\").concat(mt.y - dy, \"\\\" r=\\\"8\\\"/><g class=\\\"\").concat(base, \"__icon\\\" style=\\\"transform:translate(\").concat(mt.x - dx, \"px,\").concat(mt.y - dy, \"px)\\\"><path d=\\\"M1.13,1.13H-3.38v.75H1.13Zm0-3H-3.38v.75H1.13ZM-3.38.38H3.38V-.38H-3.38Zm0,3H3.38V2.63H-3.38Zm0-6.76v.75H3.38v-.75Z\\\"/></g></g><g class=\\\"\").concat(base, \"__act _align-center \").concat(base, \"__align-center\\\"><circle cx=\\\"\").concat(mt.x, \"\\\" cy=\\\"\").concat(mt.y, \"\\\" r=\\\"8\\\"/><g class=\\\"\").concat(base, \"__icon\\\" style=\\\"transform:translate(\").concat(mt.x, \"px,\").concat(mt.y, \"px)\\\"><path d=\\\"M-1.88,1.13v.75H1.88V1.13Zm-1.5,2.25H3.38V2.63H-3.38Zm0-3H3.38V-.38H-3.38Zm1.5-2.26v.75H1.88v-.75Zm-1.5-1.5v.75H3.38v-.75Z\\\"/></g></g><g class=\\\"\").concat(base, \"__act _align-right \").concat(base, \"__align-right\\\"><circle cx=\\\"\").concat(mt.x + dx, \"\\\" cy=\\\"\").concat(mt.y + dy, \"\\\" r=\\\"8\\\"/><g class=\\\"\").concat(base, \"__icon\\\" style=\\\"transform:translate(\").concat(mt.x + dx, \"px,\").concat(mt.y + dy, \"px)\\\"><path d=\\\"M-3.38,3.38H3.38V2.63H-3.38Zm2.25-1.5H3.38V1.13H-1.13ZM-3.38.38H3.38V-.38H-3.38Zm2.25-1.51H3.38v-.75H-1.13ZM-3.38-3.38v.75H3.38v-.75Z\\\"/></g></g><g class=\\\"\").concat(base, \"__act _text-width \").concat(base, \"__text-width\\\"><circle cx=\\\"\").concat(mr.x, \"\\\" cy=\\\"\").concat(mr.y, \"\\\" r=\\\"8\\\"/><g class=\\\"\").concat(base, \"__icon\\\" style=\\\"transform:translate(\").concat(mr.x, \"px,\").concat(mr.y, \"px)\\\"><path d=\\\"M-.68,0A.21.21,0,0,1-.89.21h-2.6l1,1a.21.21,0,0,1,0,.29.2.2,0,0,1-.15.06.2.2,0,0,1-.14-.06L-4.15.15h0l0-.06a.22.22,0,0,1,0-.16l0-.06h0l1.34-1.33a.21.21,0,0,1,.29,0,.22.22,0,0,1,0,.3l-1,1h2.6A.21.21,0,0,1-.68,0ZM4.19.08a.19.19,0,0,0,0-.08.19.19,0,0,0,0-.08.16.16,0,0,0,0-.07L2.81-1.48a.21.21,0,0,0-.29,0,.22.22,0,0,0,0,.3l1,1H.89A.21.21,0,0,0,.68,0,.21.21,0,0,0,.89.21h2.6l-1,1a.21.21,0,0,0,.15.35.2.2,0,0,0,.14-.06L4.15.15A.16.16,0,0,0,4.19.08Z\\\"/></g></g>\");\n  return helper;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdGV4dC1oZWxwZXIvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdGV4dC1oZWxwZXIvaW5kZXguanM/Y2M3YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3BvaW50Q2VudGVyLCBwb2x5Z29uUG9pbnREZWZSb3VuZH0gZnJvbSAnLi4vbGlicy9wb2ludCc7XG5pbXBvcnQge2NyZWF0ZUVsZW1lbnR9IGZyb20gJy4uL2xpYnMvbWlzYyc7XG5pbXBvcnQge3NldHRpbmdzfSBmcm9tICcuLi9jbGFzc2VzL0VkaXRvcic7XG5cbi8qKlxuICogQ3JlYXRlIHRleHQgaGVscGVyIGJ5IGNvcm5lciBwb2ludHNcbiAqIEBwYXJhbSB7RWRpdG9yfSBlZGl0b3JcbiAqIEBwYXJhbSB7RE9NUG9pbnRbXX0gcG9pbnRzXG4gKiBAcmV0dXJucyB7U1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oZWRpdG9yLCBwb2ludHMpIHtcbiAgICBjb25zdCBiYXNlID0gc2V0dGluZ3MuYmFzZTtcbiAgICBsZXQgaGVscGVyID0gY3JlYXRlRWxlbWVudCgnZycsIHRydWUsIFtgJHtiYXNlfV9faGVscGVyYCwgJ190ZXh0J10pO1xuICAgIGxldCBwb2x5Z29uID0gcG9seWdvblBvaW50RGVmUm91bmQocG9pbnRzKTtcbiAgICBsZXQgYSA9IE1hdGguYXRhbjIocG9pbnRzWzBdLnkgLSBwb2ludHNbMV0ueSwgcG9pbnRzWzFdLnggLSBwb2ludHNbMF0ueCk7XG4gICAgbGV0IGR4ID0gMjQgKiBNYXRoLmNvcyhhKTtcbiAgICBsZXQgZHkgPSAtMjQgKiBNYXRoLnNpbihhKTtcbiAgICBsZXQgbXQgPSBwb2ludENlbnRlcihbcG9pbnRzWzBdLCBwb2ludHNbMV1dKTtcbiAgICBsZXQgbXIgPSBwb2ludENlbnRlcihbcG9pbnRzWzFdLCBwb2ludHNbMl1dKTtcbiAgICAvLyBjb2RlIGluIG9uZSBsaW5lIGZvciBtaW5pZmljYXRpb25cbiAgICBoZWxwZXIuaW5uZXJIVE1MID0gYDxwb2x5Z29uIGNsYXNzPVwic3NlX19yZWN0XCIgcG9pbnRzPVwiJHtwb2x5Z29uLmpvaW4oJyAnKX1cIi8+PGcgY2xhc3M9XCIke2Jhc2V9X19hY3QgX2FsaWduLWxlZnQgJHtiYXNlfV9fYWxpZ24tbGVmdFwiPjxjaXJjbGUgY3g9XCIke210LnggLSBkeH1cIiBjeT1cIiR7bXQueSAtIGR5fVwiIHI9XCI4XCIvPjxnIGNsYXNzPVwiJHtiYXNlfV9faWNvblwiIHN0eWxlPVwidHJhbnNmb3JtOnRyYW5zbGF0ZSgke210LnggLSBkeH1weCwke210LnkgLSBkeX1weClcIj48cGF0aCBkPVwiTTEuMTMsMS4xM0gtMy4zOHYuNzVIMS4xM1ptMC0zSC0zLjM4di43NUgxLjEzWk0tMy4zOC4zOEgzLjM4Vi0uMzhILTMuMzhabTAsM0gzLjM4VjIuNjNILTMuMzhabTAtNi43NnYuNzVIMy4zOHYtLjc1WlwiLz48L2c+PC9nPjxnIGNsYXNzPVwiJHtiYXNlfV9fYWN0IF9hbGlnbi1jZW50ZXIgJHtiYXNlfV9fYWxpZ24tY2VudGVyXCI+PGNpcmNsZSBjeD1cIiR7bXQueH1cIiBjeT1cIiR7bXQueX1cIiByPVwiOFwiLz48ZyBjbGFzcz1cIiR7YmFzZX1fX2ljb25cIiBzdHlsZT1cInRyYW5zZm9ybTp0cmFuc2xhdGUoJHttdC54fXB4LCR7bXQueX1weClcIj48cGF0aCBkPVwiTS0xLjg4LDEuMTN2Ljc1SDEuODhWMS4xM1ptLTEuNSwyLjI1SDMuMzhWMi42M0gtMy4zOFptMC0zSDMuMzhWLS4zOEgtMy4zOFptMS41LTIuMjZ2Ljc1SDEuODh2LS43NVptLTEuNS0xLjV2Ljc1SDMuMzh2LS43NVpcIi8+PC9nPjwvZz48ZyBjbGFzcz1cIiR7YmFzZX1fX2FjdCBfYWxpZ24tcmlnaHQgJHtiYXNlfV9fYWxpZ24tcmlnaHRcIj48Y2lyY2xlIGN4PVwiJHttdC54ICsgZHh9XCIgY3k9XCIke210LnkgKyBkeX1cIiByPVwiOFwiLz48ZyBjbGFzcz1cIiR7YmFzZX1fX2ljb25cIiBzdHlsZT1cInRyYW5zZm9ybTp0cmFuc2xhdGUoJHttdC54ICsgZHh9cHgsJHttdC55ICsgZHl9cHgpXCI+PHBhdGggZD1cIk0tMy4zOCwzLjM4SDMuMzhWMi42M0gtMy4zOFptMi4yNS0xLjVIMy4zOFYxLjEzSC0xLjEzWk0tMy4zOC4zOEgzLjM4Vi0uMzhILTMuMzhabTIuMjUtMS41MUgzLjM4di0uNzVILTEuMTNaTS0zLjM4LTMuMzh2Ljc1SDMuMzh2LS43NVpcIi8+PC9nPjwvZz48ZyBjbGFzcz1cIiR7YmFzZX1fX2FjdCBfdGV4dC13aWR0aCAke2Jhc2V9X190ZXh0LXdpZHRoXCI+PGNpcmNsZSBjeD1cIiR7bXIueH1cIiBjeT1cIiR7bXIueX1cIiByPVwiOFwiLz48ZyBjbGFzcz1cIiR7YmFzZX1fX2ljb25cIiBzdHlsZT1cInRyYW5zZm9ybTp0cmFuc2xhdGUoJHttci54fXB4LCR7bXIueX1weClcIj48cGF0aCBkPVwiTS0uNjgsMEEuMjEuMjEsMCwwLDEtLjg5LjIxaC0yLjZsMSwxYS4yMS4yMSwwLDAsMSwwLC4yOS4yLjIsMCwwLDEtLjE1LjA2LjIuMiwwLDAsMS0uMTQtLjA2TC00LjE1LjE1aDBsMC0uMDZhLjIyLjIyLDAsMCwxLDAtLjE2bDAtLjA2aDBsMS4zNC0xLjMzYS4yMS4yMSwwLDAsMSwuMjksMCwuMjIuMjIsMCwwLDEsMCwuM2wtMSwxaDIuNkEuMjEuMjEsMCwwLDEtLjY4LDBaTTQuMTkuMDhhLjE5LjE5LDAsMCwwLDAtLjA4LjE5LjE5LDAsMCwwLDAtLjA4LjE2LjE2LDAsMCwwLDAtLjA3TDIuODEtMS40OGEuMjEuMjEsMCwwLDAtLjI5LDAsLjIyLjIyLDAsMCwwLDAsLjNsMSwxSC44OUEuMjEuMjEsMCwwLDAsLjY4LDAsLjIxLjIxLDAsMCwwLC44OS4yMWgyLjZsLTEsMWEuMjEuMjEsMCwwLDAsLjE1LjM1LjIuMiwwLDAsMCwuMTQtLjA2TDQuMTUuMTVBLjE2LjE2LDAsMCwwLDQuMTkuMDhaXCIvPjwvZz48L2c+YDtcbiAgICByZXR1cm4gaGVscGVyO1xufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/text-helper/index.js\n");

/***/ })

/******/ });